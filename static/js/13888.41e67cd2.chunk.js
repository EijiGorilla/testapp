"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[13888],{13888:(e,s,r)=>{r.r(s),r.d(s,{default:()=>m});var t=r(35143),l=r(46053),o=(r(81806),r(76460),r(47249),r(85842)),u=r(25329);const i="esri-search-result-renderer",n={base:i,showMoreResults:`${i}__more-results--show-more-results`,moreResults:`${i}__more-results`,moreResultsList:`${i}__more-results-list`,moreResultsHeader:`${i}__more-results-header`,moreResultsItem:`${i}__more-results-item`,moreResultsListHeader:`${i}__more-results-list-header`};var d=r(97537),c=r(98108),h=r(20459),a=r(63582),_=r(54761);r(76099);let R=class extends u.default{constructor(e,s){super(e,s),this.messages=null,this.showMoreResultsOpen=!1,this.viewModel=null}destroy(){this.viewModel=null}render(){const e={[n.showMoreResults]:this.showMoreResultsOpen};return(0,_.K)("div",{class:this.classes(n.base,c.D.widget)},(0,_.K)("div",{class:this.classes(n.moreResults,e),key:"esri-search-renderer__container"},this._renderSearchResultName(),this._renderMoreResults()))}_renderMoreResults(){return(0,_.K)("div",{key:"esri-search-renderer__more-results"},this._renderMoreResultsButton(),this._renderMoreResultsLists())}_renderSearchResultName(){const e=this.viewModel?.selectedResult,s=e?.name||"";return(0,_.K)("div",{class:n.moreResultsItem,key:"esri-search-renderer__result-name"},s)}_renderMoreResultsLists(){const{viewModel:e}=this;if(!e)return[];const s=e.results;if((e.resultCount??0)<2)return null;const r=s?.map((e=>this._renderMoreResultsList(e)));return(0,_.K)("div",{class:n.moreResultsList,key:"esri-search-renderer__more-results-container"},r)}_renderMoreResultsButton(){const{messages:e,viewModel:s}=this;return s?(s.resultCount??0)<2?null:(0,_.K)("div",{class:n.moreResultsItem,key:"esri-search-renderer__more-results-button"},(0,_.K)("a",{bind:this,class:c.D.anchor,href:"#",onclick:this._showMoreResultsClick,onkeydown:this._showMoreResultsClick},this.showMoreResultsOpen?e.hideMoreResults:e.showMoreResults)):null}_renderMoreResultsHeader(e,s){return(0,_.K)("div",{class:n.moreResultsListHeader,key:`esri-search-result-renderer__header-${s}`},e)}_renderMoreResultsList(e){const{results:s}=e,r=s?.length??0,t=r>0,l=this.viewModel?.selectedResult,o=1===r&&s[0]===l,u=this._getSourceName(e.source,e.sourceIndex),i=(this.viewModel?.results?.length??0)>1&&!o?this._renderMoreResultsHeader(u,e.sourceIndex):null,n=t&&s.map(((e,s)=>this._renderMoreResultsListItem(e,s))),d=t&&!o?(0,_.K)("ul",{key:`esri-search-result-renderer__list-${e.sourceIndex}`},n):null;return t?(0,_.K)("div",{key:`esri-search-result-renderer__results-${e.sourceIndex}`},i,d):null}_renderMoreResultsListItem(e,s){const r=this.viewModel?.selectedResult;return e!==r?(0,_.K)("li",{key:`esri-search-result-renderer__list-item-${s}`},(0,_.K)("a",{bind:this,class:c.D.anchor,"data-result":e,href:"#",onclick:this._selectResultClick,onkeydown:this._selectResultClick,tabIndex:0},e.name)):null}_showMoreResultsClick(e){e.preventDefault(),this.showMoreResultsOpen=!this.showMoreResultsOpen;const s=this.viewModel?.view?.popup;s&&"reposition"in s&&s.reposition()}_selectResultClick(e){e.preventDefault();const s=e.currentTarget["data-result"];this.viewModel?.select(s)}_getSourceName(e,s){return s===d.default.ALL_INDEX?this.messages.all:e.name}};(0,t._)([(0,l.MZ)(),(0,a.G)("esri/widgets/Search/t9n/Search")],R.prototype,"messages",void 0),(0,t._)([(0,l.MZ)()],R.prototype,"showMoreResultsOpen",void 0),(0,t._)([(0,l.MZ)()],R.prototype,"viewModel",void 0),(0,t._)([(0,h.$)()],R.prototype,"_showMoreResultsClick",null),(0,t._)([(0,h.$)()],R.prototype,"_selectResultClick",null),R=(0,t._)([(0,o.$)("esri.widgets.Search.SearchResultRenderer")],R);const m=R}}]);
//# sourceMappingURL=13888.41e67cd2.chunk.js.map