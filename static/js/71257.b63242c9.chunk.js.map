{"version":3,"file":"static/js/71257.b63242c9.chunk.js","mappings":"6IAI4F,MAAMA,EAAEC,GAAGC,EAAED,IAAIE,EAAEF,GAAGC,EAAED,IAAI,KAAK,SAASA,GAAG,OAAM,EAAG,OAAOA,EAAEG,MAAM,IAAI,UAAU,IAAI,UAAU,IAAI,MAAM,IAAI,WAAW,IAAI,MAAM,IAAI,YAAY,IAAI,mBAAmB,IAAI,QAAQ,IAAI,iBAAiB,IAAI,mBAAmB,OAAM,EAAG,QAAQ,OAAM,EAAE,EAAGD,EAAED,IAAI,MAAMC,GAAEF,EAAAA,EAAAA,IAAEC,GAAG,GAAG,MAAMC,GAAGD,EAAEG,eAAeF,IAAI,MAAMD,EAAEC,GAAG,IAAI,MAAMF,KAAKC,EAAEC,GAAG,GAAGH,EAAEC,GAAG,OAAM,EAAG,OAAM,CAAE,EAAEK,EAAEA,CAACL,EAAED,IAAI,MAAMA,GAAG,MAAMC,IAAID,EAAEO,KAAKN,EAAEO,OAAO,SAASP,EAAEQ,SAASC,MAAMT,IAAG,IAAKK,EAAEL,EAAED,MAAM,W,oDCAWW,E,qLAAE,IAAIC,EAAED,EAAE,cAAcX,EAAAA,QAAEa,WAAAA,CAAYZ,GAAGa,MAAMb,GAAGc,KAAKN,SAAS,IAAIP,EAAAA,QAAEa,KAAKC,OAAO,IAAI,CAAC,WAAIC,GAAU,MAAMR,SAASR,GAAGc,KAAK,GAAG,IAAId,EAAEiB,OAAO,OAAO,MAAMH,KAAKI,eAAeJ,KAAKI,cAAcF,QAAQ,UAAU,WAAW,IAAId,GAAE,EAAGD,GAAE,EAAG,IAAI,MAAMkB,KAAKnB,EAAE,CAAC,GAAG,kBAAkBmB,EAAEH,QAAQ,OAAOG,EAAEH,QAAQ,GAAG,YAAYG,EAAEH,QAAQd,GAAE,EAAG,aAAaiB,EAAEH,UAAUf,GAAE,GAAIA,GAAGC,EAAE,MAAM,eAAe,CAAC,OAAOD,EAAE,WAAW,SAAS,CAAC,iBAAImB,GAAgB,OAAON,KAAKN,SAASa,UAAUC,SAAStB,GAAG,CAACA,EAAEuB,OAAOC,MAAMxB,EAAEoB,gBAAgB,CAAC,iBAAIF,GAAgB,MAAMK,MAAMvB,EAAEyB,0BAA0BvB,GAAGY,KAAK,OAAOZ,IAAIwB,MAAMxB,GAAGA,EAAEqB,QAAQvB,GAAG,CAAC2B,sBAAAA,CAAuB3B,GAAG,IAAIA,EAAE,OAAO,MAAME,EAAEF,EAAE4B,OAAOC,EAAAA,IAAGhB,MAAMc,uBAAuBzB,EAAE,CAAC4B,iBAAAA,CAAkB9B,GAAG,OAAOA,EAAE+B,KAAK/B,IAAGK,EAAAA,EAAAA,IAAEL,GAAG,IAAIU,EAAE,CAACa,MAAMvB,EAAEe,OAAOD,KAAKkB,KAAKlB,KAAKkB,KAAKP,0BAA0BX,KAAKW,4BAA4B,OAAOG,OAAO1B,EAAAA,IAAG+B,SAAS,IAAGjC,EAAAA,EAAAA,GAAE,EAACmB,EAAAA,EAAAA,OAAKR,EAAEuB,UAAU,UAAU,OAAMlC,EAAAA,EAAAA,GAAE,EAACmB,EAAAA,EAAAA,OAAKR,EAAEuB,UAAU,gBAAW,IAAQlC,EAAAA,EAAAA,GAAE,EAACmB,EAAAA,EAAAA,OAAKR,EAAEuB,UAAU,gBAAgB,OAAMlC,EAAAA,EAAAA,GAAE,EAACmB,EAAAA,EAAAA,OAAKR,EAAEuB,UAAU,gBAAgB,OAAMlC,EAAAA,EAAAA,GAAE,EAACmB,EAAAA,EAAAA,IAAE,CAACgB,eAAc,KAAMxB,EAAEuB,UAAU,iCAA4B,IAAQlC,EAAAA,EAAAA,GAAE,EAACmB,EAAAA,EAAAA,OAAKR,EAAEuB,UAAU,cAAS,GAAQvB,EAAED,GAAEV,EAAAA,EAAAA,GAAE,EAACoC,EAAAA,EAAAA,GAAE,2DAA2DzB,GCApuC,IAAIkB,EAAE,cAAcO,EAAAA,QAAExB,WAAAA,GAAcC,SAASwB,WAAWvB,KAAKwB,uBAAuB,IAAIrC,EAAAA,OAAC,CAAC,wBAAIsC,GAAuB,OAAOzB,KAAK0B,iBAAiBC,SAASzC,GAAGA,EAAEQ,UAAU,CAAC,mBAAIkC,GAAkB,OAAO5B,KAAKyB,qBAAqBX,QAAQ5B,IAAIA,EAAEQ,UAAUS,QAAQ,CAAC0B,YAAAA,GAAe,MAAM3C,EAAEc,KAAKkB,MAAMD,KAAKa,OAAO,IAAI5C,EAAE,OAAO,MAAMC,EAAED,EAAE4B,OAAOT,EAAAA,IAAGL,KAAK+B,qBAAqB5C,GAAG,MAAMC,EAAEY,KAAKgC,mBAAmB7C,GAAGC,GAAGe,QAAQH,KAAKiC,gBAAgB7C,GAAGY,KAAKkC,aAAa9C,GAAGY,KAAKmC,WAAW/C,IAAIY,KAAKoC,iBAAiB,CAACC,eAAAA,CAAgBnD,GAAG,OAAO,IAAIW,EAAE,CAACY,MAAMvB,EAAEgC,KAAKlB,KAAKkB,KAAKP,0BAA0BA,IAAIX,KAAKwB,wBAAwB,IAAGtC,EAAAA,EAAAA,GAAE,EAACE,EAAAA,EAAAA,OAAK2B,EAAEK,UAAU,8BAAyB,IAAQlC,EAAAA,EAAAA,GAAE,EAACE,EAAAA,EAAAA,OAAK2B,EAAEK,UAAU,wBAAmB,IAAQlC,EAAAA,EAAAA,GAAE,EAACE,EAAAA,EAAAA,OAAK2B,EAAEK,UAAU,uBAAuB,OAAMlC,EAAAA,EAAAA,GAAE,EAACE,EAAAA,EAAAA,OAAK2B,EAAEK,UAAU,kBAAkB,MAAML,GAAE7B,EAAAA,EAAAA,GAAE,EAACD,EAAAA,EAAAA,GAAE,qEAAqE8B,GCAjpB,IAAIuB,EAAE,cAAclD,EAAAA,QAAEU,WAAAA,CAAYZ,GAAGa,MAAMb,GAAGc,KAAKuC,mBAAmB,IAAIC,EAAExC,KAAKyC,gBAAgB,IAAI5C,EAAAA,QAAEG,KAAKkB,KAAK,IAAI,CAACwB,UAAAA,GAAa1C,KAAK2C,WAAW,EAACtC,EAAAA,EAAAA,QAAG,MAAMuC,UAAU5C,KAAKuC,mBAAmBrB,KAAKlB,KAAKkB,SAAS2B,IAAwB,IAAtBD,UAAU1D,EAAEgC,KAAK9B,GAAEyD,EAAI3D,EAAEgC,KAAK9B,CAAC,GAAGkC,EAAAA,UAAGjB,EAAAA,EAAAA,QAAG,MAAMuC,UAAU5C,KAAKuC,mBAAmBO,QAAQ9C,KAAKyC,iBAAiBM,mBAAmBC,IAA2B,IAAzBJ,UAAU1D,EAAE4D,QAAQ1D,GAAE4D,EAAI9D,EAAEsC,uBAAuBpC,CAAC,GAAGkC,EAAAA,UAAI,CAAC,oBAAI2B,GAAmB,OAAOjD,KAAKuC,oBAAoBX,iBAAiB,IAAIsB,OAAOhE,GAAG,YAAYA,EAAEgB,SAAS,CAAC,qBAAIiD,GAAoB,OAAOnD,KAAKuC,oBAAoBX,iBAAiB,IAAIsB,OAAOhE,IAAIA,EAAEgB,SAAS,CAAC,sBAAIkD,GAAqB,OAAOpD,KAAKuC,oBAAoBX,iBAAiBd,QAAQ5B,GAAG,YAAYA,EAAEgB,UAAUC,QAAQ,CAAC,CAAC,SAAIkD,GAAQ,OAAOrD,KAAKyC,gBAAgB,QAAQ,UAAU,CAACa,uBAAAA,CAAwBpE,EAAEE,GAAGF,GAAGqE,SAASrE,GAAGE,EAAEY,KAAKwD,uBAAuBtE,GAAGc,KAAKyD,wBAAwBvE,IAAI,CAACwE,0BAAAA,CAA2BxE,GAAGc,KAAKuC,mBAAmBX,gBAAgB2B,SAASI,IAAa,IAAXlD,MAAMrB,GAAEuE,EAAI,MAAMxE,EAAEC,GAAGsB,GAAGxB,EAAEc,KAAKwD,uBAAuBrE,GAAGa,KAAKyD,wBAAwBtE,EAAE,GAAG,CAACqE,sBAAAA,CAAuBtE,GAAG,MAAME,EAAEY,KAAK4D,4BAA4B1E,IAAIc,KAAK6D,4BAA4B3E,GAAGE,IAAIA,EAAEc,SAAQ,EAAG,CAACuD,uBAAAA,CAAwBvE,GAAG,MAAME,EAAEY,KAAK4D,4BAA4B1E,GAAGE,IAAIA,EAAEc,SAAQ,EAAG,CAAC4D,2BAAAA,CAA4B5E,GAAG,IAAI,MAAME,KAAKY,KAAKyC,gBAAgBM,gBAAenD,EAAAA,EAAAA,IAAER,EAAEqB,SAASrB,EAAEc,QAAQhB,EAAE6E,SAAS3E,EAAEqB,MAAMC,IAAI,CAACkD,2BAAAA,CAA4B1E,GAAG,OAAOc,KAAKyC,gBAAgBM,eAAenC,MAAMxB,GAAGA,EAAEqB,MAAMC,KAAKxB,GAAG,CAAC2E,2BAAAA,CAA4B3E,GAAG,MAAME,EAAEY,KAAKuC,mBAAmBd,qBAAqBb,MAAMxB,GAAGA,EAAEqB,OAAOC,KAAKxB,KAAKuB,MAAM,IAAIrB,EAAE,MAAM,IAAID,EAAAA,QAAE,oCAAoC,4CAA4CD,iDAAiD,GAAG,UAAUE,EAAEC,KAAK,OAAO,MAAMgB,EAAE,IAAId,EAAAA,QAAE,CAACkB,MAAMrB,IAAI,OAAOY,KAAKyC,gBAAgBM,eAAeiB,IAAI3D,GAAGA,CAAC,IAAGnB,EAAAA,EAAAA,GAAE,EAACD,EAAAA,EAAAA,OAAKqD,EAAElB,UAAU,mBAAmB,OAAMlC,EAAAA,EAAAA,GAAE,EAACD,EAAAA,EAAAA,OAAKqD,EAAElB,UAAU,oBAAoB,OAAMlC,EAAAA,EAAAA,GAAE,EAACD,EAAAA,EAAAA,IAAE,CAACoC,eAAc,KAAMiB,EAAElB,UAAU,0BAAqB,IAAQlC,EAAAA,EAAAA,GAAE,EAACD,EAAAA,EAAAA,OAAKqD,EAAElB,UAAU,qBAAqB,OAAMlC,EAAAA,EAAAA,GAAE,EAACD,EAAAA,EAAAA,IAAE,CAACI,KAAKQ,EAAAA,QAAEoE,aAAY,KAAM3B,EAAElB,UAAU,uBAAkB,IAAQlC,EAAAA,EAAAA,GAAE,EAACD,EAAAA,EAAAA,OAAKqD,EAAElB,UAAU,QAAQ,OAAMlC,EAAAA,EAAAA,GAAE,EAACD,EAAAA,EAAAA,OAAKqD,EAAElB,UAAU,YAAO,GAAQkB,GAAEpD,EAAAA,EAAAA,GAAE,EAAC6B,EAAAA,EAAAA,GAAE,oEAAoEuB,GAAG,MAAM4B,EAAE5B,C","sources":["../node_modules/@arcgis/core/widgets/support/SnappingControls/snappingLayerListUtils.js","../node_modules/@arcgis/core/widgets/support/SnappingControls/SnappingListItem.js","../node_modules/@arcgis/core/widgets/support/SnappingControls/SnappingLayerListViewModel.js","../node_modules/@arcgis/core/widgets/support/SnappingControls/SnappingControlsViewModel.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getNormalizedChildLayerProperty as e}from\"../../LayerList/support/layerListUtils.js\";const s=e=>t(e)||r(e),t=e=>{if(!(\"type\"in e))return!1;switch(e.type){case\"feature\":case\"geojson\":case\"csv\":case\"graphics\":case\"wfs\":case\"map-notes\":case\"oriented-imagery\":case\"scene\":case\"building-scene\":case\"subtype-sublayer\":return!0;default:return!1}},r=t=>{const r=e(t);if(null!=r&&t.hasOwnProperty(r)&&null!=t[r])for(const e of t[r])if(s(e))return!0;return!1},n=(e,s)=>null!=s&&null!=e&&(s.test(e.title)?\"self\":!!e.children.some((e=>!1!==n(e,s)))&&\"children\");export{s as isValidSnappingLayer,r as isValidSnappingLayerGroup,t as isValidSnappingLayerSource,n as itemTitleMatchesFilter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{isSome as r}from\"../../../core/arrayUtils.js\";import t from\"../../../core/Collection.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../LayerList/ListItem.js\";import{canDisplayLayer as n}from\"../../LayerList/support/layerListUtils.js\";import{isValidSnappingLayer as a}from\"./snappingLayerListUtils.js\";var l;let p=l=class extends s{constructor(e){super(e),this.children=new t,this.parent=null}get enabled(){const{children:e}=this;if(0===e.length)return null!=this.featureSource&&this.featureSource.enabled?\"enabled\":\"disabled\";let r=!1,t=!1;for(const i of e){if(\"indeterminate\"===i.enabled)return i.enabled;if(\"enabled\"===i.enabled?r=!0:\"disabled\"===i.enabled&&(t=!0),t&&r)return\"indeterminate\"}return t?\"disabled\":\"enabled\"}get childLayerIds(){return this.children.toArray().flatMap((e=>[e.layer?.id,...e.childLayerIds]))}get featureSource(){const{layer:e,getFeatureSnappingSources:r}=this;return r().find((r=>r.layer===e))}_initializeChildLayers(e){if(!e)return;const r=e.filter(a);super._initializeChildLayers(r)}_createChildItems(e){return e.map((e=>n(e)?new l({layer:e,parent:this,view:this.view,getFeatureSnappingSources:this.getFeatureSnappingSources}):null)).filter(r).reverse()}};e([i()],p.prototype,\"enabled\",null),e([i()],p.prototype,\"children\",void 0),e([i()],p.prototype,\"childLayerIds\",null),e([i()],p.prototype,\"featureSource\",null),e([i({constructOnly:!0})],p.prototype,\"getFeatureSnappingSources\",void 0),e([i()],p.prototype,\"parent\",void 0),p=l=e([o(\"esri.widgets.support.SnappingControls.SnappingListItem\")],p);export{p as SnappingListItem};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Collection.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import o from\"../../LayerList/LayerListViewModel.js\";import{isValidSnappingLayer as i}from\"./snappingLayerListUtils.js\";import{SnappingListItem as p}from\"./SnappingListItem.js\";let a=class extends o{constructor(){super(...arguments),this.featureSnappingSources=new t}get operationalItemsFlat(){return this.operationalItems.flatten((e=>e.children))}get selectableItems(){return this.operationalItemsFlat.filter((e=>!e.children?.length))}_compileList(){const e=this.view?.map?.layers;if(!e)return;const t=e.filter(i);this._watchLayersListMode(t);const r=this._getViewableLayers(t);r?.length?(this._createNewItems(r),this._removeItems(r),this._sortItems(r)):this._removeAllItems()}_createListItem(e){return new p({layer:e,view:this.view,getFeatureSnappingSources:()=>this.featureSnappingSources})}};e([r()],a.prototype,\"featureSnappingSources\",void 0),e([r()],a.prototype,\"operationalItems\",void 0),e([r()],a.prototype,\"operationalItemsFlat\",null),e([r()],a.prototype,\"selectableItems\",null),a=e([s(\"esri.widgets.support.SnappingControls.SnappingLayerListViewModel\")],a);export{a as SnappingLayerListViewModel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Accessor.js\";import t from\"../../../core/Error.js\";import{watch as i,initial as o}from\"../../../core/reactiveUtils.js\";import{property as s}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as a}from\"../../../core/accessorSupport/decorators/subclass.js\";import n from\"../../../views/interactive/snapping/FeatureSnappingLayerSource.js\";import p from\"../../../views/interactive/snapping/SnappingOptions.js\";import{canDisplayLayer as l}from\"../../LayerList/support/layerListUtils.js\";import{SnappingLayerListViewModel as d}from\"./SnappingLayerListViewModel.js\";let c=class extends r{constructor(e){super(e),this.layerListViewModel=new d,this.snappingOptions=new p,this.view=null}initialize(){this.addHandles([i((()=>({viewModel:this.layerListViewModel,view:this.view})),(({viewModel:e,view:r})=>{e.view=r}),o),i((()=>({viewModel:this.layerListViewModel,sources:this.snappingOptions?.featureSources})),(({viewModel:e,sources:r})=>{e.featureSnappingSources=r}),o)])}get allLayersEnabled(){return(this.layerListViewModel?.selectableItems??[]).every((e=>\"enabled\"===e.enabled))}get allLayersDisabled(){return(this.layerListViewModel?.selectableItems??[]).every((e=>!e.enabled))}get layersEnabledCount(){return this.layerListViewModel?.selectableItems?.filter((e=>\"enabled\"===e.enabled)).length??0}get state(){return this.snappingOptions?\"ready\":\"disabled\"}toggleSnappingForLayers(e,r){e?.forEach((e=>r?this.enableSnappingForLayer(e):this.disableSnappingForLayer(e)))}toggleSnappingForAllLayers(e){this.layerListViewModel.selectableItems.forEach((({layer:r})=>{const t=r?.id;e?this.enableSnappingForLayer(t):this.disableSnappingForLayer(t)}))}enableSnappingForLayer(e){const r=this._findSnappingSourceForLayer(e)??this._makeSnappingSourceForLayer(e);r&&(r.enabled=!0)}disableSnappingForLayer(e){const r=this._findSnappingSourceForLayer(e);r&&(r.enabled=!1)}updateEnabledFeatureSources(e){for(const r of this.snappingOptions.featureSources)l(r.layer)&&(r.enabled=e.includes(r.layer.id))}_findSnappingSourceForLayer(e){return this.snappingOptions.featureSources.find((r=>r.layer.id===e))}_makeSnappingSourceForLayer(e){const r=this.layerListViewModel.operationalItemsFlat.find((r=>r.layer?.id===e))?.layer;if(!r)throw new t(\"snapping-controls:layer-not-found\",`cannot enable snapping for layer with id ${e} because no such layer was found in the view`);if(\"group\"===r.type)return;const i=new n({layer:r});return this.snappingOptions.featureSources.add(i),i}};e([s()],c.prototype,\"allLayersEnabled\",null),e([s()],c.prototype,\"allLayersDisabled\",null),e([s({constructOnly:!0})],c.prototype,\"layerListViewModel\",void 0),e([s()],c.prototype,\"layersEnabledCount\",null),e([s({type:p,nonNullable:!0})],c.prototype,\"snappingOptions\",void 0),e([s()],c.prototype,\"state\",null),e([s()],c.prototype,\"view\",void 0),c=e([a(\"esri.widgets.support.SnappingControls.SnappingControlsViewModel\")],c);const y=c;export{y as default};\n"],"names":["s","e","t","r","type","hasOwnProperty","n","test","title","children","some","l","p","constructor","super","this","parent","enabled","length","featureSource","i","childLayerIds","toArray","flatMap","layer","id","getFeatureSnappingSources","find","_initializeChildLayers","filter","a","_createChildItems","map","view","reverse","prototype","constructOnly","o","arguments","featureSnappingSources","operationalItemsFlat","operationalItems","flatten","selectableItems","_compileList","layers","_watchLayersListMode","_getViewableLayers","_createNewItems","_removeItems","_sortItems","_removeAllItems","_createListItem","c","layerListViewModel","d","snappingOptions","initialize","addHandles","viewModel","_ref","sources","featureSources","_ref2","allLayersEnabled","every","allLayersDisabled","layersEnabledCount","state","toggleSnappingForLayers","forEach","enableSnappingForLayer","disableSnappingForLayer","toggleSnappingForAllLayers","_ref3","_findSnappingSourceForLayer","_makeSnappingSourceForLayer","updateEnabledFeatureSources","includes","add","nonNullable","y"],"sourceRoot":""}