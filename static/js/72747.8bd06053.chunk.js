"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[72747],{42785:(e,o,t)=>{t.d(o,{A:()=>r});var n=t(35143),i=t(91967),a=t(46053),l=(t(81806),t(76460),t(47249),t(85842));let s=class extends i.default{constructor(e){super(e),this.area=!0,this.coordinates=!0,this.direction=!0,this.distance=!0,this.elevation=!0,this.header=!0,this.helpMessage=!1,this.orientation=!0,this.radius=!0,this.rotation=!0,this.scale=!0,this.size=!0,this.totalLength=!0}};(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"area",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"coordinates",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"direction",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"distance",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"elevation",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"header",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"helpMessage",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"orientation",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"radius",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"rotation",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"scale",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"size",void 0),(0,n._)([(0,a.MZ)({type:Boolean,nonNullable:!0})],s.prototype,"totalLength",void 0),s=(0,n._)([(0,l.$)("esri.views.interactive.sketch.SketchTooltipVisibleElements")],s);const r=s},72747:(e,o,t)=>{t.r(o),t.d(o,{hideAllVisibleElements:()=>v,showTooltipAndFocusField:()=>d});var n=t(98773),i=t(79053),a=t(54901),l=t(50346),s=t(68134),r=t(52394),p=t(76931),c=t(42785);async function d(e,o){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const c=u.get(e);c&&(c.abort(),await c.promise);const d=(0,n.UT)((async function(n){const c=function(e){const{activeComponent:o}=e;return o&&"tooltip"in o&&"activeTooltipInfo"in o&&"destroyed"in o?o:null}(e),{tooltipOptions:d}=e;if("coordinates"===o?(o="x",d.xyMode="coordinates"):"direction"!==o&&"distance"!==o||(d.xyMode="direction-distance"),await(0,r.waitAnimationFrame)(),(0,l.isAborted)(t)||(0,l.isAborted)(n))return;const u=c?.tooltip;if(!u||!c.activeTooltipInfo?.editableFields?.find((e=>e.name===o)))return;const{handle:h,promise:v}=function(e,o){let{hideOnBlur:t=!0}=o;const n=(0,l.createResolver)();if(!t)return{promise:n.promise,handle:(0,a.hA)()};const{outerContainer:s}=e,r=(0,i.on)(s,"focusout",(e=>{let{relatedTarget:o}=e;o instanceof HTMLElement&&s.contains(o)||n.resolve()}));return{promise:n.promise,handle:r}}(u,t),y=(0,l.createResolver)(),b=(0,l.onAbort)(t.signal,y.resolve),f=(0,l.onAbort)(n,y.resolve),m=d.offset,M=u.position;try{if(d.forceEnabled=!0,await(0,l.waitTick)(),t.position&&(d.offset=0,u.position=(0,p.tc)(t.position[0],t.position[1])),await u.enterInputMode(o),(0,l.isAborted)(t)||(0,l.isAborted)(n))return;t.onOpen?.(),await Promise.race([(0,s.whenOnce)((()=>c.destroyed||"feedback"===u.content?.mode),t),v,y.promise])}finally{b?.remove(),f?.remove(),h.remove();const o=u.outerContainer.contains(document.activeElement);d.enabled?await u.exitInputMode({focusOnView:o}):o&&e.view?.focus(),t.onClose?.(),u.position=M,d.offset=m,d.forceEnabled=!1}}));return u.set(e,d),d.promise.catch(l.ignoreAbortErrors).finally((()=>{u.get(e)===d&&u.delete(e)}))}const u=new Map,h={area:!1,distance:!1,direction:!1,elevation:!1,orientation:!1,radius:!1,rotation:!1,scale:!1,size:!1,totalLength:!1,coordinates:!1,helpMessage:!1,header:!1};function v(e){e.tooltipOptions.visibleElements=new c.A(h)}}}]);
//# sourceMappingURL=72747.8bd06053.chunk.js.map