{"version":3,"file":"static/js/35689.d6a57566.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/widgets/Print/CustomTemplate.js","../node_modules/@arcgis/core/widgets/Print/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{id as o}from\"../../kernel.js\";import e from\"../../core/Error.js\";import r from\"../../core/JSONSupport.js\";import{createMD5Hash as s}from\"../../core/MD5.js\";import{isAbortError as a}from\"../../core/promiseUtils.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{enumeration as n}from\"../../core/accessorSupport/decorators/enumeration.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import p from\"../../portal/PortalItem.js\";import{formatJsonMap as u}from\"../../rest/support/fileFormat.js\";import{fromJSON as m}from\"../../rest/support/layoutTemplate.js\";import{fetchLayoutTemplateInfos as d}from\"./utils.js\";let y=class extends r{constructor(t){super(t),this.description=null,this.format=null,this.state=\"not-loaded\",this.label=null,this.layoutInfoTaskUrl=null,this.layout=null,this.layoutItem=null,this.layoutOptions=null,this.layoutTemplateInfo=null,this.type=null}get id(){return this.layoutItem?.id??`${this.layout}-${s(JSON.stringify(this.toJSON()))}`}get mapSurroundInfoOptions(){const t=this.layoutTemplateInfo?.layoutOptions?.mapSurroundInfos;if(!t)return null;const o={northArrow:[],scaleBar:[],legend:[]};for(const e of t)switch(e.type){case\"CIMMarkerNorthArrow\":o.northArrow.push(e);break;case\"CIMScaleLine\":o.scaleBar.push(e);break;case\"CIMGroupElement\":e.elements?.some((t=>\"CIMScaleLine\"===t.type))&&o.scaleBar.push(e);break;case\"CIMLegend\":o.legend.push(e)}return o}_updateLayoutOptions(t){const o=this.layoutOptions?.legend??t.layoutOptions?.hasLegend,e=this.layoutOptions?.northArrow??(this.mapSurroundInfoOptions?.northArrow.length?this.mapSurroundInfoOptions?.northArrow.some((({visible:t})=>t)):void 0),r=this.layoutOptions?.scaleBar??(this.mapSurroundInfoOptions?.scaleBar.length?this.mapSurroundInfoOptions?.scaleBar.some((({visible:t})=>t)):void 0);this._set(\"layoutOptions\",{legend:o,northArrow:e,scaleBar:r})}async fetchLayoutItemTemplateInfo(t){const{layoutItem:r}=this;if(r?.id&&!this.layoutTemplateInfo&&\"loaded\"!==this.state)try{this._set(\"state\",\"loading\");const s=this.layoutInfoTaskUrl;if(!s)throw new e(\"print:invalid-layout-info-task-url\",\"Can't fetch layout template info\",{url:s});\"public\"!==r.access&&o&&await o.getCredential(s);const a={Layout_Item_ID:JSON.stringify({id:r.id})},i=(await d(s,a,t))[0];this.setLayoutTemplateInfo(i)}catch(s){this._set(\"state\",a(s)?\"not-loaded\":\"error\")}}setLayoutTemplateInfo(t){this._set(\"layoutTemplateInfo\",t),this._updateLayoutOptions(t),this._set(\"state\",\"loaded\")}};t([i({json:{write:!0}})],y.prototype,\"description\",void 0),t([n(u)],y.prototype,\"format\",void 0),t([i({readOnly:!0})],y.prototype,\"id\",null),t([i({readOnly:!0})],y.prototype,\"state\",void 0),t([i({json:{write:!0}})],y.prototype,\"label\",void 0),t([i()],y.prototype,\"layoutInfoTaskUrl\",void 0),t([i({json:{read:m,write:!0}})],y.prototype,\"layout\",void 0),t([i({type:p,json:{write:!0}})],y.prototype,\"layoutItem\",void 0),t([i({readOnly:!0,json:{write:!0}})],y.prototype,\"layoutOptions\",void 0),t([i({readOnly:!0})],y.prototype,\"layoutTemplateInfo\",void 0),t([i({readOnly:!0})],y.prototype,\"mapSurroundInfoOptions\",null),t([i()],y.prototype,\"type\",void 0),y=t([l(\"esri.widgets.Print.CustomTemplate\")],y);const c=y;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"../../core/Error.js\";import{getMode as o}from\"../../rest/print.js\";import{execute as r}from\"../../rest/geoprocessor/execute.js\";import{submitJob as e}from\"../../rest/geoprocessor/submitJob.js\";async function a(a,i,s){if(!a)throw new t(\"print:invalid-layout-info-task-url\",\"Can't fetch layout template info\",{url:a});if(\"async\"===await o(a)){const t=await e(a,i,void 0,s||void 0);await t.waitForJobCompletion();return(await t.fetchResultData(\"Output_JSON\")).value}return(await r(a,i,null,s)).results[0].value}export{a as fetchLayoutTemplateInfos};\n"],"names":["y","r","constructor","t","super","this","description","format","state","label","layoutInfoTaskUrl","layout","layoutItem","layoutOptions","layoutTemplateInfo","type","id","s","JSON","stringify","toJSON","mapSurroundInfoOptions","mapSurroundInfos","o","northArrow","scaleBar","legend","e","push","elements","some","_updateLayoutOptions","hasLegend","length","_ref","visible","_ref2","_set","fetchLayoutItemTemplateInfo","url","access","getCredential","a","Layout_Item_ID","i","d","setLayoutTemplateInfo","json","write","prototype","n","u","readOnly","read","m","p","l","c","async","waitForJobCompletion","fetchResultData","value","results"],"sourceRoot":""}