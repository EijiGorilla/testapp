/*! For license information please see 46752.04bf5a47.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[46752,73596],{35120:(e,t,i)=>{i.d(t,{u:()=>s});var n=i(28531),l=i(30533),a=i(70885);const o=(e,t,i)=>{const n=new Map;for(let l=t;l<=i;l++)n.set(e[l],l);return n},s=(0,l.u$)(class extends l.WL{constructor(e){if(super(e),e.type!==l.OA.CHILD)throw Error("repeat() can only be used in text expressions")}dt(e,t,i){let n;void 0===i?i=t:void 0!==t&&(n=t);const l=[],a=[];let o=0;for(const s of e)l[o]=n?n(s,o):o,a[o]=i(s,o),o++;return{values:a,keys:l}}render(e,t,i){return this.dt(e,t,i).values}update(e,t){let[i,l,s]=t;const r=(0,a.cN)(e),{values:c,keys:h}=this.dt(i,l,s);if(!Array.isArray(r))return this.ut=h,c;const d=this.ut??=[],u=[];let p,v,m=0,g=r.length-1,C=0,b=c.length-1;for(;m<=g&&C<=b;)if(null===r[m])m++;else if(null===r[g])g--;else if(d[m]===h[C])u[C]=(0,a.lx)(r[m],c[C]),m++,C++;else if(d[g]===h[b])u[b]=(0,a.lx)(r[g],c[b]),g--,b--;else if(d[m]===h[b])u[b]=(0,a.lx)(r[m],c[b]),(0,a.Dx)(e,u[b+1],r[m]),m++,b--;else if(d[g]===h[C])u[C]=(0,a.lx)(r[g],c[C]),(0,a.Dx)(e,r[m],r[g]),g--,C++;else if(void 0===p&&(p=o(h,C,b),v=o(d,m,g)),p.has(d[m]))if(p.has(d[g])){const t=v.get(h[C]),i=void 0!==t?r[t]:null;if(null===i){const t=(0,a.Dx)(e,r[m]);(0,a.lx)(t,c[C]),u[C]=t}else u[C]=(0,a.lx)(i,c[C]),(0,a.Dx)(e,r[m],i),r[t]=null;C++}else(0,a.KO)(r[g]),g--;else(0,a.KO)(r[m]),m++;for(;C<=b;){const t=(0,a.Dx)(e,u[b+1]);(0,a.lx)(t,c[C]),u[C++]=t}for(;m<=g;){const e=r[m++];null!==e&&(0,a.KO)(e)}return this.ut=h,(0,a.mY)(e,u),n.c0}})},46752:(e,t,i)=>{i.r(t),i.d(t,{ColorPicker:()=>D});i(73596),i(79709),i(41763);var n=i(30697),l=i(80526),a=i(49469),o=i(81085),s=i(37022),r=i(5417),c=i(78598),h=i(50965),d=i(98246),u=i(94161);const p="container",v="hex-input",m="opacity-input",g=u.AH`:host{display:block}.container{display:flex;inline-size:100%;flex-wrap:nowrap;align-items:center}.hex-input{flex-grow:1;text-transform:uppercase}.opacity-input{inline-size:100px;margin-inline-start:-1px}:host([hidden]){display:none}[hidden]{display:none}`,C=(0,o.A)();class b extends r.WF{constructor(){super(...arguments),this.internalColor=C,this.alphaChannel=!1,this.allowEmpty=!1,this.hexLabel="Hex",this.scale="m",this.value=(0,c.n)((0,c.h)(C,this.alphaChannel),this.alphaChannel,!0),this.calciteColorPickerHexInputChange=(0,r.lh)({cancelable:!1})}static#e=(()=>this.properties={internalColor:16,alphaChannel:5,allowEmpty:5,hexLabel:1,messages:0,numberingSystem:1,scale:3,value:3})();static#t=(()=>this.styles=g)();async setFocus(){return await(0,d.c)(this),(0,h.b)(this.hexInputNode)}connectedCallback(){super.connectedCallback(),this.previousNonNullValue=this.value;const{allowEmpty:e,alphaChannel:t,value:i}=this;if(i){const e=(0,c.n)(i,t);(0,c.i)(e,t)&&this.internalSetValue(e,e,!1)}else e&&this.internalSetValue(void 0,void 0,!1)}willUpdate(e){e.has("value")&&(this.hasUpdated||this.value!==(0,c.n)((0,c.h)(C,this.alphaChannel),this.alphaChannel,!0))&&this.internalSetValue(this.value,e.get("value"),!1)}onHexInputBlur(){const e=this.hexInputNode,t=e.value,i=`#${t}`,{allowEmpty:n,internalColor:l}=this,a=n&&!t,o=(0,c.a)(i);((0,c.b)(i,!0)||(0,c.b)(i,!1))&&this.onHexInputChange(),!(a||(0,c.i)(i)&&o)&&(e.value=n&&!l?"":this.formatHexForInternalInput((0,c.r)(l.object())))}onOpacityInputBlur(){const e=this.opacityInputNode,t=e.value,{allowEmpty:i,internalColor:n}=this;i&&!t||(e.value=i&&!n?"":this.formatOpacityForInternalInput(n))}onOpacityInputInput(){this.onOpacityInputChange()}onHexInputChange(){let e=this.hexInputNode.value;if(e){const t=(0,c.n)(e,!1);if((0,c.i)(t)&&this.alphaChannel&&this.internalColor){e=`${t+(0,c.n)(this.internalColor.hexa(),!0).slice(-2)}`}}this.internalSetValue(e,this.value)}onOpacityInputChange(){const e=this.opacityInputNode;let t;if(e.value){const i=(0,c.o)(Number(e.value));t=this.internalColor?.alpha(i).hexa()}else t=e.value;this.internalSetValue(t,this.value)}onInputFocus(e){"calciteInternalInputTextFocus"===e.type?this.hexInputNode.selectText():this.opacityInputNode.selectText()}onHexInputInput(){const e=`#${this.hexInputNode.value}`,t=this.value;(0,c.i)(e,this.alphaChannel)&&(0,c.a)(e,this.alphaChannel)&&this.internalSetValue(e,t)}onInputKeyDown(e){const{altKey:t,ctrlKey:i,metaKey:n,shiftKey:l}=e,{alphaChannel:a,hexInputNode:o,internalColor:s,value:r}=this,{key:h}=e,d=e.composedPath();if("Tab"===h&&(0,c.b)(r,this.alphaChannel)||"Enter"===h)return d.includes(o)?this.onHexInputChange():this.onOpacityInputChange(),void("Enter"===h&&e.preventDefault());const u="ArrowDown"===h||"ArrowUp"===h,p=this.value;if(u){if(!r)return this.internalSetValue(this.previousNonNullValue,p),void e.preventDefault();const t="ArrowUp"===h?1:-1,i=l?10:1;return this.internalSetValue((0,c.h)(this.nudgeRGBChannels(s,i*t,d.includes(o)?"rgb":"a"),a),p),void e.preventDefault()}const v=t||i||n,m=1===h.length,g=c.d.test(h);m&&!v&&!g&&e.preventDefault()}onHexInputPaste(e){const t=e.clipboardData.getData("text");(0,c.i)(t,this.alphaChannel)&&(0,c.a)(t,this.alphaChannel)&&(e.preventDefault(),this.hexInputNode.value=t.slice(1),this.internalSetValue(t,this.value))}internalSetValue(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e){const{alphaChannel:t}=this,n=(0,c.n)(e,t,t);if((0,c.i)(n,t)){const{internalColor:e}=this,l=(0,o.A)(n),a=(0,c.n)((0,c.h)(l,t),t),s=!e||a!==(0,c.n)((0,c.h)(e,t),t);return this.internalColor=l,this.previousNonNullValue=a,this.value=a,void(s&&i&&this.calciteColorPickerHexInputChange.emit())}}else if(this.allowEmpty)return this.internalColor=void 0,this.value=void 0,void(i&&this.calciteColorPickerHexInputChange.emit());this.value=t}storeHexInputRef(e){this.hexInputNode=e}storeOpacityInputRef(e){this.opacityInputNode=e}formatHexForInternalInput(e){return e?e.replace("#","").slice(0,6):""}formatOpacityForInternalInput(e){return e?`${(0,c.c)(e.alpha())}`:""}nudgeRGBChannels(e,t,i){let n;const l=e.array(),a=l.slice(0,3);if("rgb"===i)n=[...a.map((e=>e+t)),this.alphaChannel?l[3]:void 0];else{const i=(0,c.o)((0,c.c)(e.alpha())+t);n=[...a,i]}return(0,o.A)(n)}render(){const{alphaChannel:e,hexLabel:t,internalColor:i,messages:n,scale:o,value:h}=this,d=this.formatHexForInternalInput(h),u=this.formatOpacityForInternalInput(i),g="l"===o?"m":"s";return s.qy`<div class=${(0,r.CP)(p)}><calcite-input-text class=${(0,r.CP)(v)} .label=${n?.hex||t} .maxLength=${this.alphaChannel?8:6} @keydown=${this.onInputKeyDown} @paste=${this.onHexInputPaste} @calciteInputTextChange=${this.onHexInputChange} @calciteInputTextInput=${this.onHexInputInput} @calciteInternalInputTextBlur=${this.onHexInputBlur} @calciteInternalInputTextFocus=${this.onInputFocus} prefix-text=# .scale=${g} .value=${d} ${(0,l.K)(this.storeHexInputRef)}></calcite-input-text>${e?(0,a.D)("opacity-input",s.qy`<calcite-input-number class=${(0,r.CP)(m)} .label=${n?.opacity} .max=${c.O.max} max-length=3 .min=${c.O.min} number-button-type=none .numberingSystem=${this.numberingSystem} @keydown=${this.onInputKeyDown} @calciteInputNumberInput=${this.onOpacityInputInput} @calciteInternalInputNumberBlur=${this.onOpacityInputBlur} @calciteInternalInputNumberFocus=${this.onInputFocus} .scale=${g} suffix-text=% .value=${u} ${(0,l.K)(this.storeOpacityInputRef)}></calcite-input-number>`):null}</div>`}}(0,n.c)("calcite-color-picker-hex-input",b);i(51345),i(57748),i(43285),i(6013),i(26204);var f=i(35120),x=i(79887),y=i(929),w=i(41838),$=i(84243),S=i(88267),k=i(13922);const I=u.AH`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal);inline-size:var(--calcite-internal-color-picker-min-width);min-inline-size:var(--calcite-internal-color-picker-min-width)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([scale=s]){--calcite-internal-color-picker-min-width: 200px;--calcite-color-picker-spacing: 8px}:host([scale=s]) .saved-colors{gap:.25rem;grid-template-columns:repeat(auto-fill,20px)}:host([scale=m]){--calcite-internal-color-picker-min-width: 240px;--calcite-color-picker-spacing: 12px}:host([scale=l]){--calcite-internal-color-picker-min-width: 304px;--calcite-color-picker-spacing: 16px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) .section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}:host([scale=l]) .saved-colors{grid-template-columns:repeat(auto-fill,32px)}:host([scale=l]) .control-section{display:flex;flex-direction:column;flex-wrap:wrap;align-items:baseline}:host([scale=l]) .color-hex-options{inline-size:100%;display:flex;flex-shrink:1;flex-direction:column;justify-content:space-around}:host([scale=l]) .color-mode-container{flex-shrink:3}.container{background-color:var(--calcite-color-foreground-1);display:flex;flex-direction:column;block-size:min-content;border:1px solid var(--calcite-color-border-1)}.control-and-scope{position:relative;display:flex;cursor:pointer;touch-action:none}.color-field,.control-and-scope{-webkit-user-select:none;user-select:none}.scope{pointer-events:none;position:absolute;z-index:var(--calcite-z-index);block-size:1px;inline-size:1px;border-radius:9999px;background-color:transparent;font-size:var(--calcite-font-size--1);outline-color:transparent}.scope:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))));outline-offset:6px}.hex-and-channels-group{display:flex;inline-size:100%;flex-direction:column;flex-wrap:wrap}.section{padding-block:0 var(--calcite-color-picker-spacing);padding-inline:var(--calcite-color-picker-spacing)}.section:first-of-type{padding-block-start:var(--calcite-color-picker-spacing)}.sliders{display:flex;flex-direction:column;justify-content:space-between;margin-inline-start:var(--calcite-color-picker-spacing);gap:var(--calcite-spacing-xxs)}.preview-and-sliders{display:flex;align-items:center;padding:var(--calcite-color-picker-spacing)}.color-hex-options,.section--split{flex-grow:1}.header{display:flex;align-items:center;justify-content:space-between;color:var(--calcite-color-text-1)}.color-mode-container{padding-block-start:var(--calcite-color-picker-spacing)}.channels{display:flex}.channel{flex-grow:1}.channel[data-channel-index="3"]{margin-inline-start:-1px;min-inline-size:81px}:host([scale=s]) .channel[data-channel-index="3"]{min-inline-size:68px}:host([scale=l]) .channel[data-channel-index="3"]{min-inline-size:88px}.saved-colors{display:grid;gap:.5rem;padding-block-start:var(--calcite-color-picker-spacing);grid-template-columns:repeat(auto-fill,24px)}.saved-colors-buttons{display:flex}.saved-color{outline-offset:0;outline-color:transparent;cursor:pointer}.saved-color:focus{outline:2px solid var(--calcite-color-brand);outline-offset:2px}.saved-color:hover{transition:outline-color var(--calcite-internal-animation-timing-fast) ease-in-out;outline:2px solid var(--calcite-color-border-2);outline-offset:2px}:host([hidden]){display:none}[hidden]{display:none}`;class D extends r.WF{constructor(){var e;super(),e=this,this._color=c.D,this.internalColorUpdateContext=null,this.isActiveChannelInputEmpty=!1,this.mode=c.C.HEX,this.resizeObserver=(0,k.c)("resize",(e=>this.resizeCanvas(e))),this.shiftKeyChannelAdjustment=0,this.upOrDownArrowKeyTracker=null,this._valueWasSet=!1,this.channelMode="rgb",this.channels=this.toChannels(c.D),this.staticDimensions=c.S.m,this.savedColors=[],this.allowEmpty=!1,this.alphaChannel=!1,this.channelsDisabled=!1,this.clearable=!1,this.disabled=!1,this.format="auto",this.hexDisabled=!1,this.messages=(0,S.u)({blocking:!0}),this.savedDisabled=!1,this.scale="m",this.calciteColorPickerChange=(0,r.lh)({cancelable:!1}),this.calciteColorPickerInput=(0,r.lh)({cancelable:!1}),this.captureColorFieldColor=function(t,i){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const{width:l,height:a}=e.dynamicDimensions.colorField,o=Math.round(c.H.s/l*t),s=Math.round(c.H.v/a*(a-i));e.internalColorSet(e.baseColorFieldColor.hsv().saturationv(o).value(s),n)},this.drawColorControls=(0,x.A)((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";("all"===t||"color-field"===t)&&e.colorFieldRenderingContext&&e.drawColorField(),("all"===t||"hue-slider"===t)&&e.hueSliderRenderingContext&&e.drawHueSlider(),e.alphaChannel&&("all"===t||"opacity-slider"===t)&&e.opacitySliderRenderingContext&&e.drawOpacitySlider()}),16),this.globalPointerMoveHandler=e=>{const{activeCanvasInfo:t,el:i}=this;if(!i.isConnected||!t)return;const{context:n,bounds:l}=t;let a,o;const{clientX:s,clientY:r}=e;n.canvas.matches(":hover")?(a=s-l.x,o=r-l.y):(a=s<l.x+l.width&&s>l.x?s-l.x:s<l.x?0:l.width,o=r<l.y+l.height&&r>l.y?r-l.y:r<l.y?0:l.height),n===this.colorFieldRenderingContext?this.captureColorFieldColor(a,o,!1):n===this.hueSliderRenderingContext?this.captureHueSliderColor(a):n===this.opacitySliderRenderingContext&&this.captureOpacitySliderValue(a)},this.globalPointerUpHandler=e=>{if(!(0,h.i)(e))return;const t=this.activeCanvasInfo;this.activeCanvasInfo=null,this.drawColorControls(),t&&this.calciteColorPickerChange.emit()},this.resizeCanvas=(0,x.A)((e=>{if(!this.hasUpdated)return;const[t]=e,i=Math.floor(t.contentBoxSize[0].inlineSize);this.dynamicDimensions.colorField.width!==i&&(this.updateDynamicDimensions(i),this.updateCanvasSize(),this.drawColorControls())}),16),this.updateDynamicDimensions=e=>{const t={width:(0,c.g)(e,this.staticDimensions,this.alphaChannel),height:this.staticDimensions.slider.height};this.dynamicDimensions={colorField:(0,c.e)(e),slider:t}},this.listen("keydown",this.handleChannelKeyUpOrDown,{capture:!0}),this.listen("keyup",this.handleChannelKeyUpOrDown,{capture:!0})}static#e=(()=>this.properties={channelMode:16,channels:16,colorFieldScopeLeft:16,colorFieldScopeTop:16,staticDimensions:16,hueScopeLeft:16,opacityScopeLeft:16,savedColors:16,scopeOrientation:16,allowEmpty:7,alphaChannel:5,channelsDisabled:5,clearable:7,color:0,disabled:7,format:3,hexDisabled:5,messageOverrides:0,numberingSystem:3,savedDisabled:7,scale:3,storageId:3,value:1})();static#t=(()=>this.styles=I)();get baseColorFieldColor(){return this.color||this.previousColor||c.D}get effectiveSliderWidth(){return this.dynamicDimensions.slider.width}get color(){return this._color}set color(e){const t=this._color;this._color=e,this.handleColorChange(e,t)}get value(){return this._value}set value(e){const t=this._value;this._value=e,this.handleValueChange(e,t),this._valueWasSet=!0}async setFocus(){await(0,d.c)(this),(0,h.h)(this.el)}connectedCallback(){super.connectedCallback(),this.observeResize()}async load(){this._valueWasSet||(this._value??=(0,c.n)((0,c.h)(c.D,this.alphaChannel))),this.handleAllowEmptyOrClearableChange();const{isClearable:e,color:t,format:i,value:n}=this,l=e&&!n,a=(0,c.p)(n),s=l||"auto"===i&&a||i===a,r=l?null:s?(0,o.A)(n):t;s||this.showIncompatibleColorWarning(n,i),this.setMode(i,!1),this.internalColorSet(r,!1,"initial"),this.updateStaticDimensions(this.scale),this.updateDynamicDimensions(c.S[this.scale].minWidth);const h=`${c.f}${this.storageId}`;this.storageId&&localStorage.getItem(h)&&(this.savedColors=JSON.parse(localStorage.getItem(h)))}willUpdate(e){(e.has("allowEmpty")&&(this.hasUpdated||!1!==this.allowEmpty)||e.has("clearable")&&(this.hasUpdated||!1!==this.clearable))&&this.handleAllowEmptyOrClearableChange(),e.has("alphaChannel")&&(this.hasUpdated||!1!==this.alphaChannel)&&this.handleAlphaChannelChange(this.alphaChannel),this.hasUpdated&&(e.has("alphaChannel")&&!1!==this.alphaChannel||e.has("staticDimensions")&&this.staticDimensions!==c.S.m)&&this.handleAlphaChannelDimensionsChange(),(e.has("alphaChannel")&&(this.hasUpdated||!1!==this.alphaChannel)||e.has("format")&&(this.hasUpdated||"auto"!==this.format))&&this.handleFormatOrAlphaChannelChange(),e.has("scale")&&(this.hasUpdated||"m"!==this.scale)&&this.handleScaleChange(this.scale)}updated(){(0,y.u)(this)}loaded(){this.handleAlphaChannelDimensionsChange()}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("pointermove",this.globalPointerMoveHandler),window.removeEventListener("pointerup",this.globalPointerUpHandler),this.resizeObserver?.disconnect()}observeResize(){this.resizeObserver?.observe(this.el)}handleAllowEmptyOrClearableChange(){this.isClearable=this.clearable||this.allowEmpty}handleAlphaChannelChange(e){const{format:t}=this;e&&"auto"!==t&&!(0,c.j)(t)&&(console.warn(`ignoring alphaChannel as the current format (${t}) does not support alpha`),this.alphaChannel=!1)}handleAlphaChannelDimensionsChange(){this.drawColorControls()}handleColorChange(e,t){this.drawColorControls(),this.updateChannelsFromColor(e),this.previousColor=t}handleFormatOrAlphaChannelChange(){this.setMode(this.format),this.internalColorSet(this.color,!1,"internal")}handleScaleChange(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"m";this.updateStaticDimensions(e),this.updateCanvasSize(),this.drawColorControls()}handleValueChange(e,t){const{isClearable:i,format:n}=this;let l=!1;if(!i||e){const i=(0,c.p)(e);if(!i||"auto"!==n&&i!==n)return this.showIncompatibleColorWarning(e,n),void(this._value=t);l=this.mode!==i,this.setMode(i,null===this.internalColorUpdateContext)}const a=this.activeCanvasInfo;if("initial"===this.internalColorUpdateContext)return;if("user-interaction"===this.internalColorUpdateContext)return this.calciteColorPickerInput.emit(),void(a||this.calciteColorPickerChange.emit());const s=i&&!e?null:(0,o.A)(null!=e&&"object"==typeof e&&(0,c.j)(this.mode)?(0,c.k)(e):e),r=!(0,c.l)(s,this.color);(l||r)&&this.internalColorSet(s,this.alphaChannel&&!(this.mode.endsWith("a")||this.mode.endsWith("a-css"))||"internal"===this.internalColorUpdateContext,"internal")}handleTabActivate(e){this.channelMode=e.currentTarget.getAttribute("data-color-mode"),this.updateChannelsFromColor(this.color)}handleColorFieldScopeKeyDown(e){const{key:t}=e,i={ArrowUp:{x:0,y:-10},ArrowRight:{x:10,y:0},ArrowDown:{x:0,y:10},ArrowLeft:{x:-10,y:0}};i[t]&&(e.preventDefault(),this.scopeOrientation="ArrowDown"===t||"ArrowUp"===t?"vertical":"horizontal",this.captureColorFieldColor(this.colorFieldScopeLeft+i[t].x||0,this.colorFieldScopeTop+i[t].y||0,!1))}handleHueScopeKeyDown(e){const t=e.shiftKey?10:1,{key:i}=e,n={ArrowUp:1,ArrowRight:1,ArrowDown:-1,ArrowLeft:-1};if(n[i]){e.preventDefault();const l=n[i]*t,a=this.baseColorFieldColor.hue(),o=this.baseColorFieldColor.hue(a+l);this.internalColorSet(o,!1)}}handleHexInputChange(e){e.stopPropagation();const{isClearable:t,color:i}=this,n=e.target.value;if(t&&!n)return void this.internalColorSet(null);n!==(i&&(0,c.n)((0,c.h)(i,(0,c.j)(this.mode))))&&this.internalColorSet((0,o.A)(n))}handleSavedColorSelect(e){const t=e.currentTarget;this.internalColorSet((0,o.A)(t.color))}handleChannelInput(e){const t=e.currentTarget,i=Number(t.getAttribute("data-channel-index")),n=3===i?c.O.max:"rgb"===this.channelMode?c.R[Object.keys(c.R)[i]]:c.H[Object.keys(c.H)[i]];let l;if(t.value){const e=Number(t.value)+this.shiftKeyChannelAdjustment;l=(0,$.c)(e,0,n).toString()}else l="",this.isActiveChannelInputEmpty=!0,this.upOrDownArrowKeyTracker=null;t.value=l,(""!==l&&0!==this.shiftKeyChannelAdjustment||""!==l)&&this.handleChannelChange(e)}handleChannelBlur(e){const t=e.currentTarget,i=Number(t.getAttribute("data-channel-index")),n=[...this.channels];!t.value&&!this.isClearable&&(t.value=n[i]?.toString())}handleChannelFocus(e){e.currentTarget.selectText()}handleChannelKeyUpOrDown(e){this.shiftKeyChannelAdjustment=0;const{key:t}=e;if("ArrowUp"!==t&&"ArrowDown"!==t||!e.composedPath().some((e=>e.classList?.contains(c.m.channel))))return;const{shiftKey:i}=e;if(e.preventDefault(),!this.color)return this.internalColorSet(this.previousColor),void e.stopPropagation();this.shiftKeyChannelAdjustment="ArrowUp"===t&&i?9:"ArrowDown"===t&&i?-9:0,"ArrowUp"===t&&(this.upOrDownArrowKeyTracker="up"),"ArrowDown"===t&&(this.upOrDownArrowKeyTracker="down")}getChannelInputLimit(e){return"rgb"===this.channelMode?c.R[Object.keys(c.R)[e]]:c.H[Object.keys(c.H)[e]]}handleChannelChange(e){const t=e.currentTarget,i=Number(t.getAttribute("data-channel-index")),n=[...this.channels];if(this.isClearable&&!t.value)return this.channels=[null,null,null,null],void this.internalColorSet(null);const l=3===i;this.isActiveChannelInputEmpty&&this.upOrDownArrowKeyTracker&&(t.value="up"===this.upOrDownArrowKeyTracker?(n[i]+1<=this.getChannelInputLimit(i)?n[i]+1:this.getChannelInputLimit(i)).toString():(n[i]-1>=0?n[i]-1:0).toString(),this.isActiveChannelInputEmpty=!1,this.upOrDownArrowKeyTracker=null);const a=t.value?Number(t.value):n[i];n[i]=l?(0,c.o)(a):a,this.updateColorFromChannels(n)}handleSavedColorKeyDown(e){(0,w.i)(e.key)&&(e.preventDefault(),this.handleSavedColorSelect(e))}handleColorFieldPointerDown(e){this.handleCanvasControlPointerDown(e,this.colorFieldRenderingContext,this.captureColorFieldColor,this.colorFieldScopeNode)}focusScope(e){requestAnimationFrame((()=>{e.focus()}))}handleHueSliderPointerDown(e){this.handleCanvasControlPointerDown(e,this.hueSliderRenderingContext,this.captureHueSliderColor,this.hueScopeNode)}handleOpacitySliderPointerDown(e){this.handleCanvasControlPointerDown(e,this.opacitySliderRenderingContext,this.captureOpacitySliderValue,this.opacityScopeNode)}handleCanvasControlPointerDown(e,t,i,n){(0,h.i)(e)&&(window.addEventListener("pointermove",this.globalPointerMoveHandler),window.addEventListener("pointerup",this.globalPointerUpHandler,{once:!0}),this.activeCanvasInfo={context:t,bounds:t.canvas.getBoundingClientRect()},i.call(this,e.offsetX,e.offsetY),this.focusScope(n))}storeColorFieldScope(e){this.colorFieldScopeNode=e}storeHueScope(e){this.hueScopeNode=e}handleKeyDown(e){"Enter"===e.key&&e.preventDefault()}showIncompatibleColorWarning(e,t){console.warn(`ignoring color value (${e}) as it is not compatible with the current format (${t})`)}setMode(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i="auto"===e?this.mode:e;this.mode=this.ensureCompatibleMode(i,t)}ensureCompatibleMode(e,t){const{alphaChannel:i}=this,n=(0,c.j)(e);if(i&&!n){const i=(0,c.t)(e);return t&&console.warn(`setting format to (${i}) as the provided one (${e}) does not support alpha`),i}if(!i&&n){const i=(0,c.q)(e);return t&&console.warn(`setting format to (${i}) as the provided one (${e}) does not support alpha`),i}return e}captureHueSliderColor(e){const t=c.s/this.effectiveSliderWidth*e;this.internalColorSet(this.baseColorFieldColor.hue(t),!1)}captureOpacitySliderValue(e){const t=(0,c.o)(c.O.max/this.effectiveSliderWidth*e);this.internalColorSet(this.baseColorFieldColor.alpha(t),!1)}internalColorSet(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"user-interaction";(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(0,c.l)(e,this.color)||(this.internalColorUpdateContext=t,this.color=e,this.value=this.toValue(e),this.internalColorUpdateContext=null)}toValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mode;if(!e)return null;if(t.includes("hex")){const i=t===c.C.HEXA;return(0,c.n)((0,c.h)(e.round(),i),i)}if(t.includes("-css")){const i=e[t.replace("-css","").replace("a","")]().round().string();if((t.endsWith("a")||t.endsWith("a-css"))&&1===e.alpha()){return`${i.slice(0,3)}a(${i.slice(4,-1)}, ${e.alpha()})`}return i}const i=e[(0,c.q)(t)]().round().object();return t.endsWith("a")?(0,c.u)(i):i}getSliderCapSpacing(){const{staticDimensions:{slider:{height:e},thumb:{radius:t}}}=this;return 2*t-e}updateStaticDimensions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"m";this.staticDimensions=c.S[e]}deleteColor(){const e=(0,c.h)(this.color,this.alphaChannel);if(!(this.savedColors.indexOf(e)>-1))return;const t=this.savedColors.filter((t=>t!==e));this.savedColors=t;const i=`${c.f}${this.storageId}`;this.storageId&&localStorage.setItem(i,JSON.stringify(t))}saveColor(){const e=(0,c.h)(this.color,this.alphaChannel);if(this.savedColors.indexOf(e)>-1)return;const t=[...this.savedColors,e];this.savedColors=t;const i=`${c.f}${this.storageId}`;this.storageId&&localStorage.setItem(i,JSON.stringify(t))}drawColorField(){const e=this.colorFieldRenderingContext,{width:t,height:i}=this.dynamicDimensions.colorField;e.fillStyle=this.baseColorFieldColor.hsv().saturationv(100).value(100).alpha(1).string(),e.fillRect(0,0,t,i);const n=e.createLinearGradient(0,0,t,0);n.addColorStop(0,"rgba(255,255,255,1)"),n.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=n,e.fillRect(0,0,t,i);const l=e.createLinearGradient(0,0,0,i);l.addColorStop(0,"rgba(0,0,0,0)"),l.addColorStop(1,"rgba(0,0,0,1)"),e.fillStyle=l,e.fillRect(0,0,t,i),this.drawActiveColorFieldColor()}setCanvasContextSize(e,t){let{height:i,width:n}=t;if(!e)return;const l=window.devicePixelRatio||1;e.width=n*l,e.height=i*l,e.style.height=`${i}px`,e.style.width=`${n}px`,e.getContext("2d").scale(l,l)}initColorField(e){e&&(this.colorFieldRenderingContext=e.getContext("2d"),this.updateCanvasSize("color-field"),this.drawColorControls())}initHueSlider(e){e&&(this.hueSliderRenderingContext=e.getContext("2d"),this.updateCanvasSize("hue-slider"),this.drawHueSlider())}initOpacitySlider(e){e&&(this.opacitySliderRenderingContext=e.getContext("2d"),this.updateCanvasSize("opacity-slider"),this.drawOpacitySlider())}updateCanvasSize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";const{dynamicDimensions:t,staticDimensions:i}=this;("all"===e||"color-field"===e)&&this.setCanvasContextSize(this.colorFieldRenderingContext?.canvas,t.colorField);const n={width:this.effectiveSliderWidth,height:i.slider.height+2*(i.thumb.radius-t.slider.height/2)};("all"===e||"hue-slider"===e)&&this.setCanvasContextSize(this.hueSliderRenderingContext?.canvas,n),("all"===e||"opacity-slider"===e)&&this.setCanvasContextSize(this.opacitySliderRenderingContext?.canvas,n)}drawActiveColorFieldColor(){const{color:e}=this;if(!e)return;const t=e.hsv(),{staticDimensions:{thumb:{radius:i}}}=this,{width:n,height:l}=this.dynamicDimensions.colorField,a=t.saturationv()/(c.H.s/n),o=l-t.value()/(c.H.v/l);requestAnimationFrame((()=>{this.colorFieldScopeLeft=a,this.colorFieldScopeTop=o})),this.drawThumb(this.colorFieldRenderingContext,i,a,o,t,!1)}drawThumb(e,t,i,n,l,a){const o=2*Math.PI;if(e.beginPath(),e.arc(i,n,t,0,o),e.fillStyle="#fff",e.fill(),e.strokeStyle="rgba(0,0,0,0.3)",e.lineWidth=1,e.stroke(),a&&l.alpha()<1){const l=e.createPattern(this.getCheckeredBackgroundPattern(),"repeat");e.beginPath(),e.arc(i,n,t-3,0,o),e.fillStyle=l,e.fill()}e.globalCompositeOperation="source-atop",e.beginPath(),e.arc(i,n,t-3,0,o);const s=a?l.alpha():1;e.fillStyle=l.rgb().alpha(s).string(),e.fill(),e.globalCompositeOperation="source-over"}drawActiveHueSliderColor(){const{color:e}=this;if(!e)return;const t=e.hsv().saturationv(100).value(100),{staticDimensions:{thumb:{radius:i}}}=this,n=this.effectiveSliderWidth,l=t.hue()/(c.s/n),a=i,o=this.getSliderBoundX(l,n,i);requestAnimationFrame((()=>{this.hueScopeLeft=o})),this.drawThumb(this.hueSliderRenderingContext,i,o,a,t,!1)}drawHueSlider(){const e=this.hueSliderRenderingContext,{staticDimensions:{slider:{height:t},thumb:{radius:i}}}=this,n=i-t/2,l=this.effectiveSliderWidth,a=e.createLinearGradient(0,0,l,0),s=["red","yellow","lime","cyan","blue","magenta","#ff0004"],r=1/(s.length-1);let c=0;s.forEach((e=>{a.addColorStop(c,(0,o.A)(e).string()),c+=r})),e.clearRect(0,0,l,t+2*this.getSliderCapSpacing()),this.drawSliderPath(e,t,l,0,n),e.fillStyle=a,e.fill(),e.strokeStyle="rgba(0,0,0,0.3)",e.lineWidth=1,e.stroke(),this.drawActiveHueSliderColor()}drawOpacitySlider(){const e=this.opacitySliderRenderingContext,{baseColorFieldColor:t,staticDimensions:{slider:{height:i},thumb:{radius:n}}}=this,l=n-i/2,a=this.effectiveSliderWidth;e.clearRect(0,0,a,i+2*this.getSliderCapSpacing());const o=e.createLinearGradient(0,l,a,0),s=t.rgb().alpha(0),r=t.rgb().alpha(.5),c=t.rgb().alpha(1);o.addColorStop(0,s.string()),o.addColorStop(.5,r.string()),o.addColorStop(1,c.string()),this.drawSliderPath(e,i,a,0,l);const h=e.createPattern(this.getCheckeredBackgroundPattern(),"repeat");e.fillStyle=h,e.fill(),e.fillStyle=o,e.fill(),e.strokeStyle="rgba(0,0,0,0.3)",e.lineWidth=1,e.stroke(),this.drawActiveOpacitySliderColor()}drawSliderPath(e,t,i,n,l){const a=t/2+1;e.beginPath(),e.moveTo(n+a,l),e.lineTo(n+i-a,l),e.quadraticCurveTo(n+i,l,n+i,l+a),e.lineTo(n+i,l+t-a),e.quadraticCurveTo(n+i,l+t,n+i-a,l+t),e.lineTo(n+a,l+t),e.quadraticCurveTo(n,l+t,n,l+t-a),e.lineTo(n,l+a),e.quadraticCurveTo(n,l,n+a,l),e.closePath()}getCheckeredBackgroundPattern(){if(this.checkerPattern)return this.checkerPattern;const e=document.createElement("canvas");e.width=10,e.height=10;const t=e.getContext("2d");return t.fillStyle="#ccc",t.fillRect(0,0,10,10),t.fillStyle="#fff",t.fillRect(0,0,5,5),t.fillRect(5,5,5,5),this.checkerPattern=e,e}drawActiveOpacitySliderColor(){const{color:e}=this;if(!e)return;const t=e,{staticDimensions:{thumb:{radius:i}}}=this,n=this.effectiveSliderWidth,l=(0,c.c)(t.alpha())/(c.O.max/n),a=i,o=this.getSliderBoundX(l,n,i);requestAnimationFrame((()=>{this.opacityScopeLeft=o})),this.drawThumb(this.opacitySliderRenderingContext,i,o,a,t,!0)}getSliderBoundX(e,t,i){const n=(0,$.a)(e,t,i);return 0===n?e:-1===n?(0,$.r)(e,0,t,i,2*i):(0,$.r)(e,0,t,t-2*i,t-i)}storeOpacityScope(e){this.opacityScopeNode=e}handleOpacityScopeKeyDown(e){const t=e.shiftKey?10:1,{key:i}=e,n={ArrowUp:.01,ArrowRight:.01,ArrowDown:-.01,ArrowLeft:-.01};if(n[i]){e.preventDefault();const l=n[i]*t,a=this.baseColorFieldColor.alpha(),o=this.baseColorFieldColor.alpha(a+l);this.internalColorSet(o,!1)}}updateColorFromChannels(e){this.internalColorSet((0,o.A)(e,this.channelMode))}updateChannelsFromColor(e){this.channels=e?this.toChannels(e):[null,null,null,null]}toChannels(e){const{channelMode:t}=this,i=e[t]().array().map(((e,t)=>3===t?e:Math.floor(e)));return 3===i.length&&i.push(1),i}getAdjustedScopePosition(e,t){return[e-c.v/2,t-c.v/2]}render(){const{channelsDisabled:e,color:t,colorFieldScopeLeft:i,colorFieldScopeTop:n,staticDimensions:{thumb:{radius:a}},hexDisabled:o,hueScopeLeft:h,messages:d,alphaChannel:u,opacityScopeLeft:p,savedColors:v,savedDisabled:m,scale:g,scopeOrientation:C}=this,b=this.effectiveSliderWidth,x=t?(0,c.h)(t,u):null,w=a,$=h??b*c.D.hue()/c.H.h,S=a,k=p??b*(0,c.c)(c.D.alpha())/c.O.max,I=void 0===t,D="vertical"===C,[P,A]=this.getAdjustedScopePosition(i,n),[z,F]=this.getAdjustedScopePosition($,w),[O,E]=this.getAdjustedScopePosition(k,S);return(0,y.I)({disabled:this.disabled,children:s.qy`<div class=${(0,r.CP)(c.m.container)}><div class=${(0,r.CP)(c.m.controlAndScope)}><canvas class=${(0,r.CP)(c.m.colorField)} @pointerdown=${this.handleColorFieldPointerDown} ${(0,l.K)(this.initColorField)}></canvas><div .ariaLabel=${D?d.value:d.saturation} .ariaValueMax=${D?c.H.v:c.H.s} aria-valuemin=0 .ariaValueNow=${(D?t?.saturationv():t?.value())||"0"} class=${(0,r.CP)({[c.m.scope]:!0,[c.m.colorFieldScope]:!0})} @keydown=${this.handleColorFieldScopeKeyDown} role=slider style=${(0,r.zl)({top:`${A||0}px`,left:`${P||0}px`})} tabindex=0 ${(0,l.K)(this.storeColorFieldScope)}></div></div><div class=${(0,r.CP)(c.m.previewAndSliders)}><calcite-color-picker-swatch class=${(0,r.CP)(c.m.preview)} .color=${x} .scale=${this.alphaChannel?"l":this.scale}></calcite-color-picker-swatch><div class=${(0,r.CP)(c.m.sliders)}><div class=${(0,r.CP)(c.m.controlAndScope)}><canvas class=${(0,r.CP)({[c.m.slider]:!0,[c.m.hueSlider]:!0})} @pointerdown=${this.handleHueSliderPointerDown} ${(0,l.K)(this.initHueSlider)}></canvas><div .ariaLabel=${d.hue} .ariaValueMax=${c.H.h} aria-valuemin=0 .ariaValueNow=${t?.round().hue()||c.D.round().hue()} class=${(0,r.CP)({[c.m.scope]:!0,[c.m.hueScope]:!0})} @keydown=${this.handleHueScopeKeyDown} role=slider style=${(0,r.zl)({top:`${F}px`,left:`${z}px`})} tabindex=0 ${(0,l.K)(this.storeHueScope)}></div></div>${u?s.qy`<div class=${(0,r.CP)(c.m.controlAndScope)}><canvas class=${(0,r.CP)({[c.m.slider]:!0,[c.m.opacitySlider]:!0})} @pointerdown=${this.handleOpacitySliderPointerDown} ${(0,l.K)(this.initOpacitySlider)}></canvas><div .ariaLabel=${d.opacity} .ariaValueMax=${c.O.max} .ariaValueMin=${c.O.min} .ariaValueNow=${(t||c.D).round().alpha()} class=${(0,r.CP)({[c.m.scope]:!0,[c.m.opacityScope]:!0})} @keydown=${this.handleOpacityScopeKeyDown} role=slider style=${(0,r.zl)({top:`${E}px`,left:`${O}px`})} tabindex=0 ${(0,l.K)(this.storeOpacityScope)}></div></div>`:null}</div></div>${o&&e?null:s.qy`<div class=${(0,r.CP)({[c.m.controlSection]:!0,[c.m.section]:!0})}><div class=${(0,r.CP)(c.m.hexAndChannelsGroup)}>${o?null:s.qy`<div class=${(0,r.CP)(c.m.hexOptions)}><calcite-color-picker-hex-input .allowEmpty=${this.isClearable} .alphaChannel=${u} class=${(0,r.CP)(c.m.control)} .messages=${d} .numberingSystem=${this.numberingSystem} @calciteColorPickerHexInputChange=${this.handleHexInputChange} .scale=${g} .value=${x}></calcite-color-picker-hex-input></div>`}${e?null:s.qy`<calcite-tabs class=${(0,r.CP)({[c.m.colorModeContainer]:!0,[c.m.splitSection]:!0})} .scale=${"l"===g?"m":"s"}><calcite-tab-nav slot=title-group>${this.renderChannelsTabTitle("rgb")}${this.renderChannelsTabTitle("hsv")}</calcite-tab-nav>${this.renderChannelsTab("rgb")}${this.renderChannelsTab("hsv")}</calcite-tabs>`}</div></div>`}${m?null:s.qy`<div class=${(0,r.CP)({[c.m.savedColorsSection]:!0,[c.m.section]:!0})}><div class=${(0,r.CP)(c.m.header)}><label>${d.saved}</label><div class=${(0,r.CP)(c.m.savedColorsButtons)}><calcite-button appearance=transparent class=${(0,r.CP)(c.m.deleteColor)} .disabled=${I} icon-start=minus kind=neutral .label=${d.deleteColor} @click=${this.deleteColor} .scale=${g} type=button></calcite-button><calcite-button appearance=transparent class=${(0,r.CP)(c.m.saveColor)} .disabled=${I} icon-start=plus kind=neutral .label=${d.saveColor} @click=${this.saveColor} .scale=${g} type=button></calcite-button></div></div>${v.length>0?s.qy`<div class=${(0,r.CP)(c.m.savedColors)}>${(0,f.u)(v,(e=>e),(e=>s.qy`<calcite-color-picker-swatch class=${(0,r.CP)(c.m.savedColor)} .color=${e} @click=${this.handleSavedColorSelect} @keydown=${this.handleSavedColorKeyDown} .scale=${g} tabindex=0></calcite-color-picker-swatch>`))}</div>`:null}</div>`}</div>`})}renderChannelsTabTitle(e){const{channelMode:t,messages:i}=this,n=e===t,l="rgb"===e?i.rgb:i.hsv;return(0,a.D)(e,s.qy`<calcite-tab-title class=${(0,r.CP)(c.m.colorMode)} data-color-mode=${e??s.s6} @calciteTabsActivate=${this.handleTabActivate} .selected=${n}>${l}</calcite-tab-title>`)}renderChannelsTab(e){const{isClearable:t,channelMode:i,channels:n,messages:l,alphaChannel:o}=this,d=e===i,u="rgb"===e?[l.red,l.green,l.blue]:[l.hue,l.saturation,l.value],p=(0,h.g)(this.el),v=o?n:n.slice(0,3);return(0,a.D)(e,s.qy`<calcite-tab class=${(0,r.CP)(c.m.control)} .selected=${d}><div class=${(0,r.CP)(c.m.channels)} dir=ltr>${v.map(((e,i)=>{const n=3===i;return n&&(e=t&&!e?e:(0,c.c)(e)),this.renderChannel(e,i,u[i],p,n?"%":"")}))}</div></calcite-tab>`)}renderChannel(e,t,i,n,l){return(0,a.D)(t,s.qy`<calcite-input-number class=${(0,r.CP)(c.m.channel)} data-channel-index=${t??s.s6} dir=${n??s.s6} .label=${i} lang=${this.messages._lang??s.s6} number-button-type=none .numberingSystem=${this.numberingSystem} @keydown=${this.handleKeyDown} @calciteInputNumberChange=${this.handleChannelChange} @calciteInputNumberInput=${this.handleChannelInput} @calciteInternalInputNumberBlur=${this.handleChannelBlur} @calciteInternalInputNumberFocus=${this.handleChannelFocus} .scale=${"l"===this.scale?"m":"s"} style=${(0,r.zl)({marginLeft:t>0&&("s"!==this.scale||!this.alphaChannel||3!==t)?"-1px":""})} .suffixText=${l} .value=${e?.toString()}></calcite-input-number>`)}}(0,n.c)("calcite-color-picker",D)},73596:(e,t,i)=>{i.r(t),i.d(t,{ColorPickerSwatch:()=>f});var n=i(30697),l=i(49469),a=i(81085),o=i(37022),s=i(5417),r=i(50965),c=i(78598),h=i(94161);const d="swatch",u="swatch--no-color",p="checker",v="rgba(0, 0, 0, 0.3)",m="rgba(255, 255, 255, 0.15)",g=4,C=8,b=h.AH`:host{position:relative;display:inline-flex}:host([scale=s]){block-size:1.25rem;inline-size:1.25rem}:host([scale=m]){block-size:1.5rem;inline-size:1.5rem}:host([scale=l]){block-size:2rem;inline-size:2rem}.swatch{overflow:hidden;block-size:inherit;inline-size:inherit}.swatch rect{transition-property:all;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.swatch--no-color rect{fill:var(--calcite-color-foreground-1)}.swatch--no-color line{stroke:var(--calcite-color-status-danger)}.checker{fill:#cacaca}:host([hidden]){display:none}[hidden]{display:none}`;class f extends s.WF{constructor(){super(...arguments),this.active=!1,this.scale="m"}static#e=(()=>this.properties={active:7,color:1,scale:3})();static#t=(()=>this.styles=b)();load(){this.handleColorChange(this.color)}willUpdate(e){e.has("color")&&this.handleColorChange(this.color)}handleColorChange(e){this.internalColor=e?(0,a.A)(e):null}render(){const e=!this.internalColor,t={[d]:!0,[u]:e};return o.qy`<svg class=${(0,s.CP)(t)} xmlns=http://www.w3.org/2000/svg>${this.renderSwatch()}</svg>`}renderSwatch(){const{active:e,el:t,internalColor:i}=this,n=e?"100%":"0",l={height:"100%",rx:n,stroke:"light"===(0,r.C)(t)?v:m,strokeWidth:"2",width:"100%"};if(!i)return o.JW`<clipPath id=shape><rect height=100% rx=${n??o.s6} width=100% /></clipPath>${this.renderSwatchRect({clipPath:`inset(0 round ${n})`,...l})}<line clip-path=url(#shape) stroke-width=3 x1=100% x2=0 y1=0 y2=100% />`;const a=i.alpha(),h=(0,c.h)(i),d=(0,c.h)(i,a<1);return o.JW`<title>${d}</title><defs><pattern height=${C} id=checker patternUnits=userSpaceOnUse width=${C} x=0 y=0><rect class=${(0,s.CP)(p)} height=${g} width=${g} x=0 y=0 /><rect class=${(0,s.CP)(p)} height=${g} width=${g} x=${g} y=${g} /></pattern></defs>${this.renderSwatchRect({fill:"url(#checker)",rx:l.rx,height:l.height,width:l.width})}${this.renderSwatchRect({clipPath:a<1?"polygon(100% 0, 0 0, 0 100%)":`inset(0 round ${n})`,fill:h,...l})}${a<1?this.renderSwatchRect({clipPath:"polygon(100% 0, 100% 100%, 0 100%)",fill:d,key:"opacity-fill",...l}):null}`}renderSwatchRect(e){let{clipPath:t,fill:i,height:n,key:a,rx:s,stroke:r,strokeWidth:c,width:h}=e;return(0,l.D)(a,o.JW`<rect clip-path=${t??o.s6} fill=${i??o.s6} height=${n??o.s6} rx=${s??o.s6} stroke=${r??o.s6} stroke-width=${c??o.s6} width=${h??o.s6} />`)}}(0,n.c)("calcite-color-picker-swatch",f)},79709:(e,t,i)=>{i(92903),i(98144),i(16702);var n=i(30697),l=i(90953),a=i(37022),o=i(80526),s=i(5417),r=i(66284),c=i(50965),h=i(72423),d=i(929),u=i(45907),p=i(98246),v=i(14358),m=i(20477),g=i(88267),C=i(94161);const b="loader",f="clear-button",x="editing-enabled",y="inline-child",w="icon",$="prefix",S="suffix",k="element-wrapper",I="wrapper",D="action-wrapper",P="inputTextValidationMessage",A="action",z=C.AH`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([scale=s]) input{padding-inline-start:.5rem;padding-inline-end:var(--calcite-internal-input-text-input-padding-inline-end, .5rem)}:host([scale=s]) input,:host([scale=s]) .prefix,:host([scale=s]) .suffix{block-size:1.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) .prefix,:host([scale=s]) .suffix{padding-inline:.5rem}:host([scale=s]) .action-wrapper calcite-button,:host([scale=s]) .action-wrapper calcite-button button{block-size:1.5rem}:host([scale=s]) .clear-button{min-block-size:1.5rem;min-inline-size:1.5rem}:host([scale=m]) input{padding-inline-start:.75rem;padding-inline-end:var(--calcite-internal-input-text-input-padding-inline-end, .75rem)}:host([scale=m]) input,:host([scale=m]) .prefix,:host([scale=m]) .suffix{block-size:2rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) .prefix,:host([scale=m]) .suffix{padding-inline:.75rem}:host([scale=m]) .action-wrapper calcite-button,:host([scale=m]) .action-wrapper calcite-button button{block-size:2rem}:host([scale=m]) .clear-button{min-block-size:2rem;min-inline-size:2rem}:host([scale=l]) input{padding-inline-start:1rem;padding-inline-end:var(--calcite-internal-input-text-input-padding-inline-end, 1rem)}:host([scale=l]) input,:host([scale=l]) .prefix,:host([scale=l]) .suffix{block-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .prefix,:host([scale=l]) .suffix{padding-inline:1rem}:host([scale=l]) .action-wrapper calcite-button,:host([scale=l]) .action-wrapper calcite-button button{block-size:2.75rem}:host([scale=l]) .clear-button{min-block-size:2.75rem;min-inline-size:2.75rem}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}input{transition:var(--calcite-animation-timing),block-size 0,outline-offset 0s;-webkit-appearance:none;position:relative;margin:0;box-sizing:border-box;display:flex;max-block-size:100%;inline-size:100%;max-inline-size:100%;flex:1 1 0%;text-overflow:ellipsis;border-radius:0;background-color:var(--calcite-color-foreground-1);font-family:inherit;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-1)}input:placeholder-shown{text-overflow:ellipsis}input{border-width:1px;border-style:solid;border-color:var(--calcite-color-border-input);color:var(--calcite-color-text-1)}input::placeholder,input:-ms-input-placeholder,input::-ms-input-placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-3)}input:focus{border-color:var(--calcite-color-brand);color:var(--calcite-color-text-1)}input[readonly]{background-color:var(--calcite-color-background);font-weight:var(--calcite-font-weight-medium)}input[readonly]:focus{color:var(--calcite-color-text-1)}calcite-icon{color:var(--calcite-color-text-3)}input{outline-color:transparent}input:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([status=invalid]) input{border-color:var(--calcite-color-status-danger)}:host([status=invalid]) input:focus{outline:2px solid var(--calcite-color-status-danger);outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([scale=s]) .icon{inset-inline-start:.5rem}:host([scale=m]) .icon{inset-inline-start:.75rem}:host([scale=l]) .icon{inset-inline-start:1rem}:host([icon][scale=s]) input{padding-inline-start:2rem}:host([icon][scale=m]) input{padding-inline-start:2.5rem}:host([icon][scale=l]) input{padding-inline-start:3.5rem}.element-wrapper{position:relative;order:3;display:inline-flex;flex:1 1 0%;align-items:center}.icon{pointer-events:none;position:absolute;z-index:var(--calcite-z-index);display:block;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}input[type=text]::-ms-clear,input[type=text]::-ms-reveal{display:none;block-size:0px;inline-size:0px}.clear-button{pointer-events:initial;order:4;margin:0;box-sizing:border-box;display:flex;min-block-size:100%;cursor:pointer;align-items:center;justify-content:center;align-self:stretch;border-width:1px;border-style:solid;border-color:var(--calcite-color-border-input);background-color:var(--calcite-color-foreground-1);outline-color:transparent;border-inline-start-width:0px}.clear-button:hover{background-color:var(--calcite-color-foreground-2);transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}.clear-button:hover calcite-icon{color:var(--calcite-color-text-1);transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}.clear-button:active{background-color:var(--calcite-color-foreground-3)}.clear-button:active calcite-icon{color:var(--calcite-color-text-1)}.clear-button:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.clear-button:disabled{opacity:var(--calcite-opacity-disabled)}.loader{inset-block-start:1px;inset-inline:1px;pointer-events:none;position:absolute;display:block}.action-wrapper{order:7;display:flex}.prefix,.suffix{box-sizing:border-box;display:flex;block-size:auto;min-block-size:100%;-webkit-user-select:none;user-select:none;align-content:center;align-items:center;overflow-wrap:break-word;border-width:1px;border-style:solid;border-color:var(--calcite-color-border-input);background-color:var(--calcite-color-background);font-weight:var(--calcite-font-weight-medium);line-height:1;color:var(--calcite-color-text-2)}.prefix{order:2;border-inline-end-width:0px;inline-size:var(--calcite-input-prefix-size, auto)}.suffix{order:5;border-inline-start-width:0px;inline-size:var(--calcite-input-suffix-size, auto)}:host([alignment=start]) input{text-align:start}:host([alignment=end]) input{text-align:end}.wrapper{position:relative;display:flex;flex-direction:row;align-items:center}:host(.input--no-bottom-border) input{border-block-end-width:0px}:host(.input--no-top-border) input{border-block-start-width:0px}:host(.input--no-right-border) input{border-inline-end:0}:host(.input--no-left-border) input{border-inline-start:0}:host(.border-top-color-one) input{border-block-start-color:var(--calcite-color-border-1)}input.inline-child{background-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}input.inline-child .editing-enabled{background-color:inherit}input.inline-child:not(.editing-enabled){display:flex;cursor:pointer;text-overflow:ellipsis;border-color:transparent;padding-inline-start:0}.validation-container{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch}:host([scale=m]) .validation-container,:host([scale=l]) .validation-container{padding-block-start:.5rem}:host([scale=s]) .validation-container{padding-block-start:.25rem}::slotted(input[slot=hidden-form-input]){margin:0!important;opacity:0!important;outline:none!important;padding:0!important;position:absolute!important;inset:0!important;transform:none!important;-webkit-appearance:none!important;z-index:-1!important}:host([hidden]){display:none}[hidden]{display:none}`;class F extends s.WF{constructor(){super(),this.actionWrapperEl=(0,o._)(),this.attributeWatch=(0,r.oW)(["autofocus","enterkeyhint","inputmode","spellcheck"],this.handleGlobalAttributesChanged),this.inputWrapperEl=(0,o._)(),this.onHiddenFormInputInput=e=>{e.target.name===this.name&&this.setValue({value:e.target.value,origin:"direct"}),this.setFocus(),e.stopPropagation()},this.previousValueOrigin="initial",this.userChangedValue=!1,this._value="",this.slottedActionElDisabledInternally=!1,this.alignment="start",this.clearable=!1,this.disabled=!1,this.editingEnabled=!1,this.iconFlipRtl=!1,this.loading=!1,this.messages=(0,g.u)(),this.readOnly=!1,this.required=!1,this.scale="m",this.status="idle",this.validity={valid:!1,badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1},this.calciteInputTextChange=(0,s.lh)(),this.calciteInputTextInput=(0,s.lh)(),this.calciteInternalInputTextBlur=(0,s.lh)(),this.calciteInternalInputTextFocus=(0,s.lh)(),this.listen("click",this.clickHandler),this.listen("keydown",this.keyDownHandler)}static#e=(()=>this.properties={slottedActionElDisabledInternally:16,alignment:3,autocomplete:0,clearable:7,disabled:7,editingEnabled:7,form:3,icon:[3,{converter:s.pf}],iconFlipRtl:7,label:1,loading:7,maxLength:11,messageOverrides:0,minLength:11,name:3,pattern:1,placeholder:1,prefixText:1,readOnly:7,required:7,scale:3,status:3,suffixText:1,validationIcon:[3,{converter:s.pf}],validationMessage:1,validity:0,value:1})();static#t=(()=>this.styles=z)();get isClearable(){return this.clearable&&this.value.length>0}get value(){return this._value}set value(e){const t=this._value;e!==t&&(this._value=e,this.valueWatcher(e,t))}async selectText(){this.childEl?.select()}async setFocus(){await(0,p.c)(this),this.childEl?.focus()}connectedCallback(){super.connectedCallback(),this.inlineEditableEl=this.el.closest("calcite-inline-editable"),this.inlineEditableEl&&(this.editingEnabled=this.inlineEditableEl.editingEnabled||!1),(0,u.c)(this),(0,h.c)(this),this.el.addEventListener(h.i,this.onHiddenFormInputInput)}async load(){this.requestedIcon=(0,c.v)({},this.icon,"text"),this.setPreviousEmittedValue(this.value),this.setPreviousValue(this.value)}willUpdate(e){e.has("icon")&&(this.requestedIcon=(0,c.v)({},this.icon,"text"))}updated(){(0,d.u)(this)}disconnectedCallback(){super.disconnectedCallback(),(0,u.d)(this),(0,h.d)(this),this.el.removeEventListener(h.i,this.onHiddenFormInputInput)}handleGlobalAttributesChanged(){this.requestUpdate()}valueWatcher(e,t){this.userChangedValue||this.setValue({origin:"direct",previousValue:t,value:e||""}),this.userChangedValue=!1}keyDownHandler(e){this.readOnly||this.disabled||e.defaultPrevented||(this.isClearable&&"Escape"===e.key&&(this.clearInputTextValue(e),e.preventDefault()),"Enter"===e.key&&(0,h.s)(this)&&e.preventDefault())}onLabelClick(){this.setFocus()}clearInputTextValue(e){this.setValue({committing:!0,nativeEvent:e,origin:"user",value:""})}emitChangeIfUserModified(){"user"===this.previousValueOrigin&&this.value!==this.previousEmittedValue&&(this.calciteInputTextChange.emit(),this.setPreviousEmittedValue(this.value))}inputTextBlurHandler(){this.calciteInternalInputTextBlur.emit({element:this.childEl,value:this.value}),this.emitChangeIfUserModified()}clickHandler(e){if(this.disabled)return;const t=e.composedPath();!t.includes(this.inputWrapperEl.value)||t.includes(this.actionWrapperEl.value)||this.setFocus()}inputTextFocusHandler(){this.calciteInternalInputTextFocus.emit({element:this.childEl,value:this.value})}inputTextInputHandler(e){this.disabled||this.readOnly||this.setValue({nativeEvent:e,origin:"user",value:e.target.value})}inputTextKeyDownHandler(e){this.disabled||this.readOnly||"Enter"===e.key&&this.emitChangeIfUserModified()}syncHiddenFormInput(e){(0,m.s)("text",this,e)}setChildElRef(e){this.childEl=e}setInputValue(e){this.childEl&&(this.childEl.value=e)}setPreviousEmittedValue(e){this.previousEmittedValue=e}setPreviousValue(e){this.previousValue=e}setValue(e){let{committing:t=!1,nativeEvent:i,origin:n,previousValue:l,value:a}=e;this.setPreviousValue(l??this.value),this.previousValueOrigin=n,this.userChangedValue="user"===n&&a!==this.value,this.value=a,"direct"===n&&(this.setInputValue(a),this.setPreviousEmittedValue(a)),i&&(this.calciteInputTextInput.emit().defaultPrevented?this.value=this.previousValue:t&&this.emitChangeIfUserModified())}render(){const e=(0,c.g)(this.el),t=a.qy`<div class=${(0,s.CP)(b)}><calcite-progress .label=${this.messages.loading} type=indeterminate></calcite-progress></div>`,i=a.qy`<button .ariaLabel=${this.messages.clear} class=${(0,s.CP)(f)} .disabled=${this.disabled||this.readOnly} @click=${this.clearInputTextValue} tabindex=-1 type=button><calcite-icon icon=x .scale=${(0,p.g)(this.scale)}></calcite-icon></button>`,r=a.qy`<calcite-icon class=${(0,s.CP)(w)} .flipRtl=${this.iconFlipRtl} .icon=${this.requestedIcon} .scale=${(0,p.g)(this.scale)}></calcite-icon>`,m=a.qy`<div class=${(0,s.CP)($)}>${this.prefixText}</div>`,g=a.qy`<div class=${(0,s.CP)(S)}>${this.suffixText}</div>`,C=a.qy`<input aria-errormessage=${P} .ariaInvalid=${"invalid"===this.status} .ariaLabel=${(0,u.g)(this)} autocomplete=${this.autocomplete??a.s6} .autofocus=${this.el.autofocus} class=${(0,s.CP)({[x]:this.editingEnabled,[y]:!!this.inlineEditableEl})} value=${this.defaultValue??a.s6} .disabled=${!!this.disabled||null} enterkeyhint=${this.el.enterKeyHint??a.s6} inputmode=${this.el.inputMode??a.s6} maxlength=${this.maxLength??a.s6} minlength=${this.minLength??a.s6} name=${this.name??a.s6} @blur=${this.inputTextBlurHandler} @focus=${this.inputTextFocusHandler} @input=${this.inputTextInputHandler} @keydown=${this.inputTextKeyDownHandler} pattern=${this.pattern??a.s6} placeholder=${(this.placeholder||"")??a.s6} .readOnly=${this.readOnly} .required=${!!this.required||null} spellcheck=${this.el.spellcheck??a.s6} tabindex=${(this.disabled||this.inlineEditableEl&&!this.editingEnabled?-1:null)??a.s6} type=text .value=${(0,l.V)(this.value??"")} ${(0,o.K)(this.setChildElRef)}>`;return(0,d.I)({disabled:this.disabled,children:a.qy`<div class=${(0,s.CP)({[I]:!0,[n.C.rtl]:"rtl"===e})} ${(0,o.K)(this.inputWrapperEl)}>${this.prefixText?m:null}<div class=${(0,s.CP)(k)}>${C}${this.isClearable?i:null}${this.requestedIcon?r:null}${this.loading?t:null}</div><div class=${(0,s.CP)(D)} ${(0,o.K)(this.actionWrapperEl)}><slot name=${A}></slot></div>${this.suffixText?g:null}${(0,h.H)({component:this})}</div>${this.validationMessage&&"invalid"===this.status?(0,v.V)({icon:this.validationIcon,id:P,message:this.validationMessage,scale:this.scale,status:this.status}):null}`})}}(0,n.c)("calcite-input-text",F)},79887:(e,t,i)=>{i.d(t,{A:()=>a});var n=i(33670),l=i(37664);const a=function(e,t,i){var a=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return(0,l.A)(i)&&(a="leading"in i?!!i.leading:a,o="trailing"in i?!!i.trailing:o),(0,n.A)(e,t,{leading:a,maxWait:t,trailing:o})}}}]);
//# sourceMappingURL=46752.04bf5a47.chunk.js.map