"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[90692],{90494:(e,i,a)=>{a.d(i,{p:()=>t,z:()=>r});var s=a(50076);const r="aggregateCount";function t(e,i){if(!e.view)throw new s.default(`${i}:missing-parameters`,"'view' parameter is required for binning");if(e.sqlExpression)throw new s.default(`${i}:invalid-parameters`,"'sqlExpression' parameter is not supported for binning");if("3d"===e.view.type)throw new s.default(`${i}:invalid-parameters`,"3d view is not supported for binning")}},90692:(e,i,a)=>{a.r(i),a.d(i,{default:()=>f});var s=a(50076),r=a(53430),t=a(28383),n=a(90494),o=a(42633),l=a(11563);const p=[...o.i3,"time-only",...r.numericTypes];async function f(e){const{layerAdapter:i,...a}=await async function(e){if(!e?.layer||!(e.field||e.valueExpression||e.sqlExpression))throw new s.default("histogram:missing-parameters","'layer' and 'field', 'valueExpression' or 'sqlExpression' parameters are required");if(e.valueExpression&&!e.sqlExpression&&!e.view)throw new s.default("histogram:missing-parameters","View is required when 'valueExpression' is specified");e.forBinning&&(0,n.p)(e,"histogram");const{layer:i,...a}=e,f=e.forBinning?l.Mi:l.G3,d=(0,l.Jg)(i,f,e.forBinning);if(!d)throw new s.default("histogram:invalid-parameters","'layer' must be one of these types: "+(0,l.Ho)(f).join(", "));const u={layerAdapter:d,...a};u.normalizationType=(0,o.Wy)(u);const h=null!=u.signal?{signal:u.signal}:null;await d.load(h);const m=u.valueExpression||u.sqlExpression,w=u.field,c=w?d.getField(w):null,g=!u.classificationMethod||"equal-interval"===u.classificationMethod,v=await(0,o.EG)({field:w,normalizationField:u.normalizationField,valueExpression:u.valueExpression}),y=(0,t.MH)(d,v,"histogram:invalid-parameters");if(y)throw y;if(c){const e=(0,t.a)(d,c,"histogram:invalid-parameters",p);if(e)throw e;if((0,o.fs)(c)||(0,r.isTimeOnlyField)(c)){if(u.normalizationType)throw new s.default("histogram:invalid-parameters","Normalization is not allowed for date fields");if(!g)throw new s.default("histogram:invalid-parameters","'classificationMethod' other than 'equal-interval' is not allowed for date fields")}}else if(m){if(u.normalizationType)throw new s.default("histogram:invalid-parameters","Normalization is not allowed when 'valueExpression' or 'sqlExpression' is specified");if(!g)throw new s.default("histogram:invalid-parameters","'classificationMethod' other than 'equal-interval' is not allowed when 'valueExpression' or 'sqlExpression' is specified")}u.filter&&!u.filter.spatialRelationship&&(u.filter.spatialRelationship="intersects");const E=(0,t.Wk)(u.filter,"histogram:invalid-parameters");if(E)throw E;return null==u.useQueryAttributeBins&&(u.useQueryAttributeBins=!0),u}(e);return i.histogram(a)}}}]);
//# sourceMappingURL=90692.4d8ce303.chunk.js.map