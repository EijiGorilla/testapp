"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[12245,27980,60664,78059,87131],{12245:(e,t,s)=>{s.r(t),s.d(t,{default:()=>w});var i=s(35143),n=s(95085),o=s(78059),r=s(60664),l=s(19276),a=s(3975),c=s(68134),u=s(46053),d=(s(81806),s(76460),s(47249),s(85842)),p=s(9624),h=s(42294),y=s(12482);const v=l.default.ofType(r.default);let g=class extends n.A{constructor(e){super(e),this.type="line-of-sight",this.observer=null,this.extent=null}initialize(){this.addHandles((0,c.watch)((()=>this._computeExtent()),(e=>{null==e?.pending&&this._set("extent",null!=e?e.extent:null)}),c.syncAndInitial))}get targets(){return this._get("targets")||new v}set targets(e){this._set("targets",(0,a.V)(e,this.targets,v))}get spatialReference(){return null!=this.observer?.position?this.observer.position.spatialReference:null}get requiredPropertiesForEditing(){return[this.observer?.position]}async waitComputeExtent(){const e=this._computeExtent();return null!=e?e.pending:Promise.resolve()}_computeExtent(){const e=this.spatialReference;if(null==this.observer?.position||null==e)return null;const t=e=>"absolute-height"===(0,y.w7)(e.position,e.elevationInfo),s=this.observer.position,i=(0,h.fA)(s.x,s.y,s.z,s.x,s.y,s.z);for(const o of this.targets)if(null!=o.position){const t=(0,p.projectOrLoad)(o.position,e);if(null!=t.pending)return{pending:t.pending,extent:null};if(null!=t.geometry){const{x:e,y:s,z:n}=t.geometry;(0,h.iT)(i,[e,s,n])}}const n=(0,h.w1)(i,e);return t(this.observer)&&this.targets.every(t)||(n.zmin=void 0,n.zmax=void 0),{pending:null,extent:n}}clear(){this.observer=null,this.targets.removeAll()}};(0,i._)([(0,u.MZ)({type:["line-of-sight"]})],g.prototype,"type",void 0),(0,i._)([(0,u.MZ)({type:o.default,json:{read:!0,write:!0}})],g.prototype,"observer",void 0),(0,i._)([(0,u.MZ)({cast:a.H,type:v,nonNullable:!0,json:{read:!0,write:!0}})],g.prototype,"targets",null),(0,i._)([(0,u.MZ)({value:null,readOnly:!0})],g.prototype,"extent",void 0),(0,i._)([(0,u.MZ)({readOnly:!0})],g.prototype,"spatialReference",null),(0,i._)([(0,u.MZ)({readOnly:!0})],g.prototype,"requiredPropertiesForEditing",null),g=(0,i._)([(0,d.$)("esri.analysis.LineOfSightAnalysis")],g);const w=g},27980:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var i=s(35143),n=s(39356),o=s(91967),r=s(46053),l=(s(81806),s(76460),s(47249),s(85842)),a=s(19247);let c=class extends o.default{constructor(e){super(e),this.location=null,this.intersectedLocation=null,this.intersectedGraphic=null,this.visible=void 0}};(0,i._)([(0,r.MZ)({type:a.default})],c.prototype,"location",void 0),(0,i._)([(0,r.MZ)({type:a.default})],c.prototype,"intersectedLocation",void 0),(0,i._)([(0,r.MZ)({type:n.default})],c.prototype,"intersectedGraphic",void 0),(0,i._)([(0,r.MZ)({type:Boolean})],c.prototype,"visible",void 0),c=(0,i._)([(0,l.$)("esri.widgets.LineOfSight.LineOfSightTarget")],c);const u=c},29078:(e,t,s)=>{s.d(t,{D:()=>y});var i,n,o=s(35143),r=s(91967),l=s(98773),a=(s(81806),s(76460)),c=s(30726),u=s(50346),d=s(68134),p=s(46053),h=(s(47249),s(85842));(n=i||(i={}))[n.PENDING=0]="PENDING",n[n.WAIT_FOR_VIEW_READY=1]="WAIT_FOR_VIEW_READY",n[n.RUNNING=2]="RUNNING";let y=class extends r.default{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(e),this.view=null,this.analysisView=null,this._reconnectViewTask=null,this._forceInteractiveHandle=null,this._parentChangeFromReconnect=!1,this._startUserOperation=null;const t=e?.analysis;null!=t?this.analysis=t:(this._set("analysis",this.constructAnalysis()),this._set("isAnalysisOwner",!0)),null!=e?.visible&&(this.visible=e.visible)}normalizeCtorArgs(e){const{analysis:t,...s}=e;return s}initialize(){this.addHandles([(0,d.watch)((()=>({readyAndNotSupported:null!=this.view&&this.view.ready&&!this.supported})),(e=>{let{readyAndNotSupported:t}=e;t&&a.A.getLogger(this).errorOnce(this.unsupportedErrorMessage)}),d.syncAndInitial),(0,d.watch)((()=>this.analysis?.parent),(e=>{this._parentChangeFromReconnect||e===this.view||this._set("isAnalysisOwner",!1);const t=!this._parentChangeFromReconnect;this._parentChangeFromReconnect=!1,t&&this._scheduleViewReconnect()}),d.sync),(0,d.watch)((()=>({view:this.view,ready:null!=this.view&&this.view.ready,supported:this.supported})),((e,t)=>{let{view:s}=e;const i=t?.view;s!==i&&(this._startUserOperation=(0,c.DC)(this._startUserOperation),this._disconnectFromView(i)),this._scheduleViewReconnect()}),d.syncAndInitial)])}destroy(){this._reconnectViewTask=(0,c.DC)(this._reconnectViewTask),this._startUserOperation=(0,c.DC)(this._startUserOperation),null!=this.analysisView&&(this.analysisView.visible=void 0),this._disconnectFromView(this.view),this._set("view",null),null!=this.analysis&&this.isAnalysisOwner&&(this.analysis.destroy(),this._set("analysis",null))}get supported(){return null==this.view||this.view.type===this.supportedViewType}set visible(e){this._set("visible",e),null!=this.analysisView&&(this.analysisView.visible=e)}get active(){return null!=this.tool&&this.tool.active}get disabled(){return null==this.view||!this.view.ready||!this.supported}set analysis(e){e!==this._get("analysis")&&(this._startUserOperation=(0,c.DC)(this._startUserOperation),this._disconnectFromView(this.view),this._setExternalAnalysis(e),this._scheduleViewReconnect())}get ready(){return null!=this.analysisView&&!this.connectingToView}get connectingToView(){return null!=this._reconnectViewTask}get isAnalysisOwner(){return this._get("isAnalysisOwner")}get tool(){return null!=this.analysisView?this.analysisView.tool:null}clear(){this._startUserOperation=(0,c.DC)(this._startUserOperation),this._resetInteractiveCreationState(),null!=this.tool&&null!=this.view&&this.view.activeTool===this.tool&&(this.view.activeTool=null)}async start(){if(!this.visible)return void a.A.getLogger(this).warn("Cannot start analysis when not visible");this.clear();const e={task:null,abort:null,state:i.PENDING},t=(0,l.UT)((async t=>{if(e.state=i.WAIT_FOR_VIEW_READY,await(0,d.whenOnce)((()=>this.ready),t),e.state=i.RUNNING,null==this.analysisView||null==this.view)return;const s=this.analysisView.tool;null!=s&&(this.view.activeTool=s,(0,d.when)((()=>s.created),(()=>{s.active&&null!=this.view&&(this.view.activeTool=null)}),{initial:!0,once:!0}))}));return e.task=t,e.abort=()=>t.abort(),this._startUserOperation=e,t.promise}onConnectToAnalysisView(e){}onDisconnectFromAnalysisView(){}_scheduleViewReconnect(){this._reconnectViewTask=(0,c.DC)(this._reconnectViewTask);const e=(0,l.UT)((async t=>{try{await this._reconnectView(t)}catch(s){if((0,u.throwIfAborted)(t),!(0,u.isAbortError)(s))return void a.A.getLogger(this).warn("Failed to use analysis in view model",s);throw s}finally{e===this._reconnectViewTask&&(this._reconnectViewTask=null)}}));this._reconnectViewTask=e}async _reconnectView(e){const{view:t}=this,s=null!=t&&t.ready&&this.supported,i=this.analysis;if(this._startUserOperation=v(this._startUserOperation),this._disconnectFromView(t),s&&null!=t&&null!=i){if(this.isAnalysisOwner){if(null!=i.parent)return void a.A.getLogger(this).errorOnce("expected owned analysis to have null parent when connecting to view");this._parentChangeFromReconnect=!0,t.analyses.add(i)}this.analysisView=await t.whenAnalysisView(i),(0,u.isAborted)(e)?this._startUserOperation=v(this._startUserOperation):(this.analysisView.visible=this.visible,this._forceInteractiveHandle=this.analysisView.forceInteractiveForViewModel(),this.addHandles(this._forceInteractiveHandle),this.onConnectToAnalysisView(this.analysisView))}}_disconnectFromView(e){null!=e&&this.isAnalysisOwner&&e.analyses.includes(this.analysis)&&(this._parentChangeFromReconnect=!0,this.analysis.clear(),e.analyses.remove(this.analysis)),this.onDisconnectFromAnalysisView(),this._forceInteractiveHandle=(0,c.xt)(this._forceInteractiveHandle),this.analysisView=null}_setExternalAnalysis(e){null==this.analysisView||this.isAnalysisOwner||(this.analysisView.visible=void 0,this._forceInteractiveHandle=(0,c.xt)(this._forceInteractiveHandle)),this.analysisView=null,this._set("isAnalysisOwner",!1),this._set("analysis",e),this._parentChangeFromReconnect=!1}_resetInteractiveCreationState(){this.analysis.clear(),null!=this.tool&&this.tool.resetCreated()}get testInfo(){}};function v(e){return null!=e&&e.state>=i.RUNNING?(e.abort(),null):e}(0,o._)([(0,p.MZ)()],y.prototype,"supported",null),(0,o._)([(0,p.MZ)()],y.prototype,"view",void 0),(0,o._)([(0,p.MZ)({type:Boolean,value:!0})],y.prototype,"visible",null),(0,o._)([(0,p.MZ)()],y.prototype,"active",null),(0,o._)([(0,p.MZ)()],y.prototype,"disabled",null),(0,o._)([(0,p.MZ)({nonNullable:!0})],y.prototype,"analysis",null),(0,o._)([(0,p.MZ)()],y.prototype,"analysisView",void 0),(0,o._)([(0,p.MZ)()],y.prototype,"ready",null),(0,o._)([(0,p.MZ)()],y.prototype,"connectingToView",null),(0,o._)([(0,p.MZ)({readOnly:!0})],y.prototype,"isAnalysisOwner",null),(0,o._)([(0,p.MZ)()],y.prototype,"_reconnectViewTask",void 0),(0,o._)([(0,p.MZ)()],y.prototype,"_forceInteractiveHandle",void 0),(0,o._)([(0,p.MZ)()],y.prototype,"tool",null),y=(0,o._)([(0,h.$)("esri.widgets.support.AnalysisViewModel")],y)},37546:(e,t,s)=>{s.d(t,{P:()=>h});var i=s(50076),n=s(53514),o=s(24387),r=s(90534),l=s(49723),a=s(19258),c=s(49140),u=s(46053),d=s(95474),p=s(79453);function h(e){const t=e?.origins??[void 0];return(s,i)=>{const n=function(e,t,s){if("resource"===e?.type)return function(e,t,s){const i=(0,a.z4)(t,s);return{type:String,read:(e,t,s)=>{const n=(0,p.r)(e,t,s);return i.type===String?n:"function"==typeof i.type?new i.type({url:n}):void 0},write:{isRequired:i.json?.write?.isRequired,writer(t,n,l,a){if(!a?.resources)return"string"==typeof t?void(n[l]=(0,p.t)(t,a)):void(n[l]=t.write({},a));const u=function(e){return null==e?null:"string"==typeof e?e:e.url}(t),h=(0,p.t)(u,{...a,verifyItemRelativeUrls:a?.verifyItemRelativeUrls?{writtenUrls:a.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},p.M.NO),w=i.type!==String&&(!(0,o.H)(this)||a?.origin&&this.originIdOf(s)>(0,c.aB)(a.origin)),f={object:this,propertyName:s,value:t,targetUrl:h,dest:n,targetPropertyName:l,context:a,params:e};a?.portalItem&&h&&!(0,r.isAbsolute)(h)?w&&e?.contentAddressed?y(f):w?function(e){const{context:t,targetUrl:s,params:i,value:n,dest:o,targetPropertyName:l}=e;if(!t.portalItem)return;const a=t.portalItem.resourceFromPath(s),c=g(n,s,t),u=(0,d.n)(c),p=(0,r.getPathExtension)(a.path),h=i?.compress??!1;u===p?(t.resources&&v({...e,resource:a,content:c,compress:h,updates:t.resources.toUpdate}),o[l]=s):y(e)}(f):function(e){let{context:t,targetUrl:s,dest:i,targetPropertyName:n}=e;t.portalItem&&t.resources&&(t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(s),compress:!1}),i[n]=s)}(f):a?.portalItem&&(null==h||null!=(0,p.i)(h)||(0,r.isBlobProtocol)(h)||w)?y(f):n[l]=h}}}}(e,t,s);switch(e?.type??"other"){case"other":return{read:!0,write:!0};case"url":{const{read:e,write:t}=p.b;return{read:e,write:t}}}}(e,s,i);for(const e of t){const t=(0,u.rM)(s,e,i);for(const e in n)t[e]=n[e]}}}function y(e){const{targetUrl:t,params:s,value:o,context:a,dest:c,targetPropertyName:u}=e;if(!a.portalItem)return;const h=(0,p.p)(t),y=g(o,t,a);if(s?.contentAddressed&&"json"!==y.type)return void a.messages?.push(new i.default("persistable:contentAddressingUnsupported",`Property "${u}" is trying to serializing a resource with content of type ${y.type} with content addressing. Content addressing is only supported for json resources.`,{content:y}));const w=s?.contentAddressed&&"json"===y.type?(0,n.d)(y.jsonString):h?.filename??(0,l.lk)(),f=(0,r.join)(s?.prefix??h?.prefix,w),_=`${f}.${(0,d.n)(y)}`;if(s?.contentAddressed&&a.resources&&"json"===y.type){const e=a.resources.toKeep.find((e=>{let{resource:t}=e;return t.path===_}))??a.resources.toAdd.find((e=>{let{resource:t}=e;return t.path===_}));if(e)return void(c[u]=e.resource.itemRelativeUrl)}const m=a.portalItem.resourceFromPath(_);(0,r.isBlobProtocol)(t)&&a.resources&&a.resources.pendingOperations.push((0,r.blobUrlToBlob)(t).then((e=>{m.path=`${f}.${(0,d.n)({type:"blob",blob:e})}`,c[u]=m.itemRelativeUrl})).catch((()=>{})));const b=s?.compress??!1;a.resources&&v({...e,resource:m,content:y,compress:b,updates:a.resources.toAdd}),c[u]=m.itemRelativeUrl}function v(e){let{object:t,propertyName:s,updates:i,resource:n,content:o,compress:r}=e;i.push({resource:n,content:o,compress:r,finish:e=>{!function(e,t,s){"string"==typeof e[t]?e[t]=s.url:e[t].url=s.url}(t,s,e)}})}function g(e,t,s){return"string"==typeof e?{type:"url",url:t}:{type:"json",jsonString:JSON.stringify(e.toJSON(s))}}},42251:(e,t,s)=>{s.d(t,{N1:()=>u,uY:()=>d,wY:()=>c,xH:()=>a});var i=s(20664),n=s(9392),o=s(95925),r=s(3112),l=s(30310);function a(e,t){return c(e)===c(t)}function c(e){if(null==e)return null;const t=null!=e.layer?e.layer.id:"";let s=null;return s=null!=e.objectId?e.objectId:null!=e.layer&&"objectIdField"in e.layer&&null!=e.layer.objectIdField&&null!=e.attributes?e.attributes[e.layer.objectIdField]:e.uid,null==s?null:`o-${t}-${s}`}const u={json:{write:{writer:function(e,t){null!=e?.layer?.objectIdField&&null!=e.attributes&&(t.feature={layerId:e.layer.id,objectId:e.attributes[e.layer.objectIdField]})},target:{"feature.layerId":{type:[Number,String],isRequired:!0},"feature.objectId":{type:[Number,String],isRequired:!0}}},origins:{"web-scene":{read:function(e){if(null!=e.layerId&&null!=e.objectId)return{uid:null,layer:{id:e.layerId,objectIdField:"ObjectId"},attributes:{ObjectId:e.objectId}}}}}}};function d(e,t,s,a){const{sceneIntersectionHelper:u}=e,{observer:d,observerFeatureId:h,targetFeatureId:g,target:w}=s;if(null==h&&null==g)return;a||(a=e=>e),(0,i.a)(v,d,w);const f=(0,i.l)(v);(0,i.b)(v,d,v,1/f);const _=(0,o.Cr)(v,w,y);t.options.store=r.oH.ALL,u.intersectToolIntersectorRay(_,t);let m=null,b=null,A=null,I=null;for(const i of t.results.all){const t=(0,l.Gy)(i,e);if(null==t||null==i.distanceInRenderSpace)continue;const s=c(t);null!=s&&(null!=h&&s===h&&(m??=a(p(i,e,f)),i.distanceInRenderSpace-1<m&&(A=i)),null!=g&&s===g&&(b??=a(p(i,e,f)),null==I&&i.distanceInRenderSpace-1<f&&f-i.distanceInRenderSpace+1<b&&(I=i)))}const{observerAdjusted:T,targetAdjusted:V}=s;A?.getIntersectionPoint(T)?s.observerSurfaceNormal=A.getTransformedNormal((0,n.vt)()):s.observerSurfaceNormal=null,I?.getIntersectionPoint(V)?s.targetSurfaceNormal=I.getTransformedNormal((0,n.vt)()):s.targetSurfaceNormal=null}function p(e,t,s){if((0,l.QS)(e)){const i=(0,l.SM)(e,t);if(null!=i)return Math.min(i*h,s)}return 1e-5*s}const h=.05,y=(0,o.vt)(),v=(0,n.vt)()},60664:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var i=s(35143),n=s(42251),o=s(69098),r=s(42553),l=s(30726),a=s(46053),c=(s(81806),s(76460),s(47249),s(85842)),u=s(37546),d=s(19247),p=s(731);let h=class extends(r.A.JSONSupportMixin(o.A)){constructor(e){super(e),this.position=null,this.elevationInfo=null,this.feature=null}equals(e){return(0,l.CM)(this.position,e.position)&&(0,l.CM)(this.elevationInfo,e.elevationInfo)&&(0,n.xH)(this.feature,e.feature)}};(0,i._)([(0,a.MZ)({type:d.default,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}}),(0,u.P)()],h.prototype,"position",void 0),(0,i._)([(0,a.MZ)({type:p.A}),(0,u.P)()],h.prototype,"elevationInfo",void 0),(0,i._)([(0,a.MZ)(n.N1)],h.prototype,"feature",void 0),h=(0,i._)([(0,c.$)("esri.analysis.LineOfSightAnalysisTarget")],h);const y=h},78059:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var i=s(35143),n=s(42251),o=s(91967),r=s(69098),l=s(42553),a=s(30726),c=s(46053),u=(s(81806),s(76460),s(47249),s(85842)),d=s(37546),p=s(19247),h=s(731);let y=class extends(l.A.JSONSupportMixin(r.A.ClonableMixin(o.default))){constructor(e){super(e),this.position=null,this.elevationInfo=null,this.feature=null}equals(e){return(0,a.CM)(this.position,e.position)&&(0,a.CM)(this.elevationInfo,e.elevationInfo)&&(0,n.xH)(this.feature,e.feature)}};(0,i._)([(0,c.MZ)({type:p.default,json:{write:{isRequired:!0}}})],y.prototype,"position",void 0),(0,i._)([(0,c.MZ)({type:h.A}),(0,d.P)()],y.prototype,"elevationInfo",void 0),(0,i._)([(0,c.MZ)(n.N1)],y.prototype,"feature",void 0),y=(0,i._)([(0,u.$)("esri.analysis.LineOfSightAnalysisObserver")],y);const v=y},87131:(e,t,s)=>{s.r(t),s.d(t,{default:()=>_});var i=s(35143),n=s(12245),o=s(78059),r=s(60664),l=s(19276),a=s(3975),c=s(54901),u=(s(81806),s(68134)),d=s(46053),p=(s(76460),s(47249),s(85842)),h=s(19247),y=s(12482),v=s(27980),g=s(29078);const w=l.default.ofType(v.default);let f=class extends g.D{constructor(e){super(e),this.analysis=null,this.supportedViewType="3d",this.unsupportedErrorMessage="LineOfSightViewModel is only supported in 3D views.",this._vmTargetsToConnection=new Map,this._analysisTargetsToConnection=new Map}initialize(){this.addHandles([this.targets.on("after-add",(e=>this._onViewModelTargetAdded(e.item))),this.targets.on("after-remove",(e=>this._onViewModelTargetRemoved(e.item))),(0,u.watch)((()=>this.analysis),(e=>this._onAnalysisChange(e)),u.syncAndInitial)])}destroy(){this._analysisTargetsToConnection.forEach((e=>e.remove()))}get state(){return this.disabled||!this.ready?"disabled":null==this.tool?"ready":this.tool.state}get observer(){const{observer:e}=this.analysis;return null==e?.position?null:this._convertAnalysisPointToAbsoluteHeight(e.position,e.elevationInfo)}set observer(e){let t=null;e&&(t=e.clone(),t.hasZ||(t.z=0)),this.analysis.observer=new o.default({position:t})}get targets(){return this._get("targets")||new w}set targets(e){this._set("targets",(0,a.V)(e,this.targets,w))}continue(){null!=this.tool&&this.tool.continue()}stop(){null!=this.tool&&this.tool.stop()}get testInfo(){}constructAnalysis(){return new n.default}async onConnectToAnalysisView(e){this.addHandles([e.on("result-changed",(e=>{const t=this._analysisTargetsToConnection.get(e.target);t&&(null!=e.result?(t.viewModelTarget.intersectedGraphic=e.result.intersectedGraphic,t.viewModelTarget.intersectedLocation=e.result.intersectedLocation,t.viewModelTarget.visible=e.result.visible):(t.viewModelTarget.intersectedGraphic=null,t.viewModelTarget.intersectedLocation=null,t.viewModelTarget.visible=void 0))}))],"view")}onDisconnectFromAnalysisView(){this.removeHandles("view")}_onViewModelTargetAdded(e){if(this._vmTargetsToConnection.get(e))return;const t=new r.default({position:e.location});this._connectViewModelWithAnalysisTarget(e,t),this.analysis.targets.add(t)}_onViewModelTargetRemoved(e){const t=this._vmTargetsToConnection.get(e);t&&(t.remove(),this.analysis.targets.remove(t.analysisTarget))}_onAnalysisTargetAdded(e){if(this._analysisTargetsToConnection.get(e))return;const{position:t}=e,s=new v.default({location:t?this._convertAnalysisPointToAbsoluteHeight(t,e.elevationInfo):null});this._connectViewModelWithAnalysisTarget(s,e),this.targets.add(s)}_onAnalysisTargetRemoved(e){const t=this._analysisTargetsToConnection.get(e);t&&(t.remove(),this.targets.remove(t.viewModelTarget))}_connectViewModelWithAnalysisTarget(e,t){let s=!1;const i=(0,c.vE)([(0,u.watch)((()=>({position:t.position,elevationInfo:t.elevationInfo})),(t=>{let{position:i,elevationInfo:n}=t;s||(s=!0,e.location=i?this._convertAnalysisPointToAbsoluteHeight(i,n):null,s=!1)}),u.sync),(0,u.watch)((()=>e.location),(e=>{if(!s){s=!0;let i=null;e&&(i=e.clone(),i.hasZ||(i.z=0)),t.position=i,t.elevationInfo=null,s=!1}}),u.sync)]),n={analysisTarget:t,viewModelTarget:e,remove:()=>{i.remove(),this._vmTargetsToConnection.delete(e),this._analysisTargetsToConnection.delete(t)}};this._vmTargetsToConnection.set(e,n),this._analysisTargetsToConnection.set(t,n)}_onAnalysisChange(e){const t="analysis";this.removeHandles(t),this.addHandles([this.analysis.targets.on("after-add",(e=>this._onAnalysisTargetAdded(e.item))),this.analysis.targets.on("after-remove",(e=>this._onAnalysisTargetRemoved(e.item)))],t),this.targets.removeAll(),e.targets.forEach((e=>{this._onAnalysisTargetAdded(e)}))}_convertAnalysisPointToAbsoluteHeight(e,t){const s=e.clone();if(null!=this.view){const i=(0,y.bK)(e.hasZ,t);s.z=(0,y.wS)(this.view,e,i,y.qt)}return s}};(0,i._)([(0,d.MZ)({type:n.default})],f.prototype,"analysis",void 0),(0,i._)([(0,d.MZ)({readOnly:!0})],f.prototype,"state",null),(0,i._)([(0,d.MZ)({type:h.default})],f.prototype,"observer",null),(0,i._)([(0,d.MZ)({type:w,cast:a.H,nonNullable:!0})],f.prototype,"targets",null),f=(0,i._)([(0,p.$)("esri.widgets.LineOfSight.LineOfSightViewModel")],f);const _=f},95474:(e,t,s)=>{s.d(t,{n:()=>n});var i=s(90534);function n(e){return o[function(e){return"json"===e.type?"application/json":"blob"===e.type?e.blob.type:function(e){const t=(0,i.getPathExtension)(e);return a[t]||r}(e.url)}(e)]||l}const o={},r="text/plain",l=o[r],a={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const c in a)o[a[c]]=c}}]);
//# sourceMappingURL=87131.4a0131e3.chunk.js.map