"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[10061,70961,76030],{5512:(t,e,i)=>{i.d(e,{Am:()=>Z,Gk:()=>m,Ku:()=>w,S3:()=>x,fL:()=>I,em:()=>R,LJ:()=>k,Y3:()=>M,dy:()=>O,qP:()=>b,fr:()=>_,Hw:()=>T,uf:()=>U});var o=i(24648),n=i(69077),r=i(35143),s=i(91967),a=i(49723),l=i(46053),c=(i(81806),i(76460),i(47249),i(85842));let u=class extends s.default{constructor(t){super(t),this.actual=null,this.lockable=!0,this.id=(0,a.lk)(),this.inputValue=null,this.readOnly=!1,this.suffix=null,this.visible=!0,this.invalid=!1,this.unlockOnVertexPlacement=!0}get committed(){return this.lockable?this._get("committed"):null}set committed(t){this.lockable&&this._set("committed",t)}get dirty(){return null!=this.inputValue}get locked(){return this.lockable&&null!=this.committed}onInput(t){this.inputValue=t,this.invalid=!1}onCommit(t,e,i){this.lockable?this._onCommitLockable(t,i):this._onCommitNonLockable(i),this.invalid&&"commit-and-exit"===t||i.onCommit(e,t)}_onCommitLockable(t,e){const{inputValue:i,locked:o}=this;o&&p(i)?this.unlock():("commit-and-exit"===t&&!o||null!=i)&&this._parseInputAndLock(e)}_onCommitNonLockable(t){const{inputValue:e}=this;p(e)?this.lockable?this.setActual(null):this.clearInputValue():null!=e&&this._parseInputAndSetActual(t)}applyValue(t){this.lockable?this.lock(t):this.setActual(t)}clearInputValue(){this.inputValue=null,this.invalid=!1}setActual(t){this.actual=t,this.clearInputValue()}lock(t){this.lockable&&(this.committed=t??this.actual,this.clearInputValue())}unlock(){this.lockable&&(this.committed=null,this.clearInputValue())}toggleLock(t){this.lockable&&(this.locked?this.unlock():this._parseInputAndLock(t))}getSuffix(t){const{suffix:e}=this;return"function"==typeof e?e(t):e}getFormattedValue(t){const{actual:e,committed:i,format:o}=this;return null!=i?o(i,t):null!=e?o(e,t):null}getRawDisplayValue(t){const{actual:e,committed:i,inputValue:o}=this;return null!=o?o:this.lockable&&null!=i?this.formatForInputMode(i,t):null!=e?this.formatForInputMode(e,t):null}_parseInputAndSetActual(t){const{inputValue:e}=this;if(null==e||p(e))return this.setActual(null);const i=this.parse(e,t);null!=i?this.setActual(i):this.invalid=!0}_parseInputAndLock(t){const{inputValue:e,actual:i}=this;if(p(e))return this.unlock();if(null==e)return this.lock(i);const o=this.parse(e,t);null!=o?this.lock(o):this.invalid=!0}};function p(t){return null!=t&&""===t.trim()}(0,r._)([(0,l.MZ)()],u.prototype,"actual",void 0),(0,r._)([(0,l.MZ)()],u.prototype,"committed",null),(0,r._)([(0,l.MZ)()],u.prototype,"dirty",null),(0,r._)([(0,l.MZ)()],u.prototype,"format",void 0),(0,r._)([(0,l.MZ)()],u.prototype,"formatForInputMode",void 0),(0,r._)([(0,l.MZ)()],u.prototype,"lockable",void 0),(0,r._)([(0,l.MZ)()],u.prototype,"locked",null),(0,r._)([(0,l.MZ)()],u.prototype,"id",void 0),(0,r._)([(0,l.MZ)()],u.prototype,"inputValue",void 0),(0,r._)([(0,l.MZ)()],u.prototype,"name",void 0),(0,r._)([(0,l.MZ)()],u.prototype,"parse",void 0),(0,r._)([(0,l.MZ)()],u.prototype,"readOnly",void 0),(0,r._)([(0,l.MZ)()],u.prototype,"suffix",void 0),(0,r._)([(0,l.MZ)()],u.prototype,"title",void 0),(0,r._)([(0,l.MZ)()],u.prototype,"visible",void 0),(0,r._)([(0,l.MZ)()],u.prototype,"invalid",void 0),(0,r._)([(0,l.MZ)()],u.prototype,"unlockOnVertexPlacement",void 0),u=(0,r._)([(0,c.$)("esri.views.interactive.tooltip.fields.TooltipField")],u);let d=class extends u{constructor(t){super(t),this.showAsZ=!1}normalizeCtorArgs(t){const e=t=>t.inputUnitInfos.verticalLength.unit;return{name:"elevation",actual:o.r7,parse:(0,n.hw)({createQuantity:(t,i)=>(0,o.d_)(t,e(i))}),format:(t,e)=>e.formatters.verticalLength(t),formatForInputMode:(t,i)=>i.formatters.scalar((0,o.kM)(t,e(i))),suffix:t=>t.inputUnitInfos.verticalLength.abbreviation,title:t=>t.messages.sketch[this.showAsZ?"z":"elevation"],unlockOnVertexPlacement:!1,...t}}};(0,r._)([(0,l.MZ)()],d.prototype,"showAsZ",void 0),d=(0,r._)([(0,c.$)("esri.views.interactive.tooltip.fields.TooltipFieldElevation")],d);var h=i(11113),f=i(89646);let g=class extends u{constructor(t){super(t),this.precision=1}normalizeCtorArgs(t){return{name:"orientation",actual:null,parse:(0,n.hw)({createQuantity:(t,e)=>(0,o.Wq)(t,(t=>t.inputUnitInfos.angle.unit)(e),"geographic"),sanitize:n.D5}),format:t=>{const e=(0,f.P1)(t);return(0,h.Nk)(e,"geographic",this.precision)},formatForInputMode:(t,e)=>{const i=(0,f.P1)(t);return e.formatters.scalar(i)},suffix:t=>t.inputUnitInfos.angle.abbreviation,title:t=>t.messages.sketch.orientation,...t}}};(0,r._)([(0,l.MZ)()],g.prototype,"precision",void 0),g=(0,r._)([(0,c.$)("esri.views.interactive.tooltip.fields.TooltipFieldOrientation")],g);let y=class extends u{constructor(t){super(t),this.precision=null}normalizeCtorArgs(t){const e=t=>t.inputUnitInfos.length.unit;return{name:"size",actual:null,parse:(0,n.hw)({createQuantity:(t,i)=>(0,o.d_)(t,e(i))}),format:(t,e)=>e.formatters.length(t),formatForInputMode:(t,i)=>i.formatters.scalar((0,o.kM)(t,e(i))),suffix:t=>t.inputUnitInfos.length.abbreviation,title:t=>t.messages.sketch.size,...t}}};function m(t){const e=t=>t.inputUnitInfos.angle.unit,i=t=>t.sketchOptions.values.effectiveDirectionMode;return new u({name:"direction",actual:o.IV,parse:(0,n.hw)({createQuantity:(t,i)=>(0,o.Wq)(t,e(i),"geographic"),sanitize:n.D5}),format:(t,e)=>{const o=i(e),n=(0,f.jQ)(t,o);switch(o){case f.rZ.Absolute:return e.formatters.direction(n);case f.rZ.Relative:return e.formatters.directionRelative(n);case f.rZ.RelativeBilateral:return e.formatters.directionRelativeBilateral(n)}},formatForInputMode:(t,n)=>{const r=(0,f.jQ)(t,i(n));return n.formatters.scalar((0,o.kM)(r,e(n)))},suffix:t=>t.inputUnitInfos.angle.abbreviation,title:t=>{const e=i(t),{absolute:o,relative:n}=t.messages.sketch.direction;switch(e){case f.rZ.Absolute:return o;case f.rZ.Relative:case f.rZ.RelativeBilateral:return n}},...t})}function v(t){const e=t=>t.inputUnitInfos.length.unit;return new u({name:"distance",actual:o.r7,parse:(0,n.hw)({createQuantity:(t,i)=>(0,o.d_)(Math.max(t,0),e(i))}),format:(t,e)=>e.formatters.length(t),formatForInputMode:(t,i)=>i.formatters.scalar((0,o.kM)(t,e(i))),suffix:t=>t.inputUnitInfos.length.abbreviation,title:t=>t.messages.sketch.distance,...t})}function _(t){return v({format:(t,e)=>e.formatters.totalLength(t),title:t=>t.messages.sketch.totalLength,readOnly:!0,...t})}function w(t){return v({...t})}function M(t){return v({...t,parse:(0,n.hw)({createQuantity:(t,e)=>(0,o.d_)(t,(t=>t.inputUnitInfos.length.unit)(e))}),format:(t,e)=>e.formatters.lengthRelative(t)})}function x(t){return new d(t)}function k(t){return new g(t)}function b(t){return new y(t)}function O(t){return A("scale",{name:"scale",actual:null,parse:(0,n.hw)({createQuantity:t=>(0,o.LF)(Math.abs(t))}),...t})}function Z(t){const e=t=>t.inputUnitInfos.area.unit;return new u({name:"area",actual:o.iT,parse:(0,n.hw)({createQuantity:(t,i)=>(0,o.gT)(t,e(i))}),format:(t,e)=>e.formatters.area(t),formatForInputMode:(t,i)=>i.formatters.scalar((0,o.kM)(t,e(i))),suffix:t=>t.inputUnitInfos.area.abbreviation,title:t=>t.messages.sketch.area,readOnly:!0,...t})}function R(t){return new u({name:"x",actual:o.IV,parse:n.L5,format:(t,e)=>e.formatters.longitudeDecimalDegrees(t),formatForInputMode:t=>(0,n.zX)(t),suffix:t=>t.inputUnitInfos.angle.abbreviation,title:t=>t.messages.sketch.longitude,...t})}function I(t){return new u({name:"y",actual:o.IV,parse:n.A3,format:(t,e)=>e.formatters.latitudeDecimalDegrees(t),formatForInputMode:t=>(0,n.oZ)(t),suffix:t=>t.inputUnitInfos.angle.abbreviation,title:t=>t.messages.sketch.latitude,...t})}function T(t){return A("x",{name:"x",...t})}function U(t){return A("y",{name:"y",...t})}function A(t,e){return new u({actual:(0,o.LF)(0),parse:(0,n.hw)({createQuantity:t=>(0,o.LF)(t)}),format:(t,e)=>e.formatters.scalar(t),formatForInputMode:(t,e)=>e.formatters.scalar(t),title:e=>e.messages.sketch[t],...e})}(0,r._)([(0,l.MZ)()],y.prototype,"precision",void 0),y=(0,r._)([(0,c.$)("esri.views.interactive.tooltip.fields.TooltipFieldSize")],y)},14185:(t,e,i)=>{i.d(e,{GF:()=>M,LZ:()=>_,N6:()=>w,_T:()=>x,eq:()=>v,zV:()=>I,zd:()=>T});var o=i(18690),n=i(53084),r=i(31633),s=i(20664),a=i(9392),l=i(70961),c=i(63391),u=i(66388),p=i(19247),d=i(65215),h=i(23701),f=i(5262),g=i(80963),y=i(42151);function m(t,e){const i=new p.default({x:t[0],y:t[1],spatialReference:e});return t.length>2&&(i.z=t[2]),i}function v(t,e){return new u.default({points:t,spatialReference:e})}function _(t,e,i){const o=new h.default({paths:t,spatialReference:e});return i&&(0,f._7)(o),o}function w(t,e,i){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const s=(0,n.clone)(t);s.forEach((t=>{const e=t[0],i=t[t.length-1];(0,o.aI)(e,i)&&1!==t.length||t.push(t[0])}));let a=new d.default({rings:s,spatialReference:e});return a.rings.forEach((t=>{(0,f.$3)(t)||t.reverse()})),i&&(0,f._7)(a),r&&a.isSelfIntersecting&&(0,g.fn)(e)&&(a=(0,c.simplify)(a)),a}function M(t,e,i){const n=e.mapToLocalMultiple(t),r=[],s={x:n[0].x,y:n[0].y},a=n[1].x,l=n[1].y,c=Math.round(a-s.x),u=Math.round(l-s.y),p=Math.max(Math.abs(c),Math.abs(u));if(i){const t={x:s.x+p,y:s.y+p},e={x:s.x-p,y:s.y-p};r.push((0,y.E5)(t.x,e.y),(0,y.E5)(e.x,e.y),(0,y.E5)(e.x,t.y),(0,y.E5)(t.x,t.y))}else{const t={x:c>0?s.x+p:s.x-p,y:u>0?s.y+p:s.y-p};r.push((0,y.E5)(s.x,s.y),(0,y.E5)(t.x,s.y),(0,y.E5)(t.x,t.y),(0,y.E5)(s.x,t.y))}return k(w([r.map((t=>e.localToMap(t))).filter(o.Ru)],e.spatialReference,e.doUnnormalization,!0),r,e)}function x(t,e,i){let n=e.mapToLocalMultiple(t);if(1===n.length){const t=48,e=n[0];n=[(0,y.E5)(e.x-t,e.y+t),(0,y.E5)(e.x+t,e.y-t),(0,y.E5)(e.x+t,e.y-t),(0,y.E5)(e.x-t,e.y+t)]}const r=[],s={x:n[0].x,y:n[0].y},a={x:n[1].x,y:n[1].y};if(i){const t=Math.round(a.x-s.x),e=Math.round(a.y-s.y);r.push((0,y.E5)(s.x-t,s.y-e),(0,y.E5)(a.x,s.y-e),(0,y.E5)(a.x,a.y),(0,y.E5)(s.x-t,a.y))}else r.push((0,y.E5)(s.x,s.y),(0,y.E5)(a.x,s.y),(0,y.E5)(a.x,a.y),(0,y.E5)(s.x,a.y));return k(w([r.map((t=>e.localToMap(t))).filter(o.Ru)],e.spatialReference,e.doUnnormalization,!0),r,e)}function k(t,e,i){const o=b(e[3],e[2],i),n=b(e[1],e[2],i),r=b(e[0],e[1],i),s=b(e[0],e[3],i);return{geometry:t,midpoints:null!=o&&null!=n&&null!=r&&null!=s?{top:o,right:n,bottom:r,left:s}:null}}function b(t,e,i){Z[0]=t.x,Z[1]=t.y,Z[2]=0,R[0]=e.x,R[1]=e.y,R[2]=0,(0,s.m)(Z,Z,R,.5),O.x=Z[0],O.y=R[1],O.z=R[2];const o=i.localToMap(O);return null!=o?m(o,i.spatialReference):null}const O=(0,y.E5)(0,0,0),Z=(0,a.vt)(),R=(0,a.vt)();function I(t,e,i,o){const n=e.mapToLocalMultiple(t);let s=null,a=null;if(i)s=n[0],a=n[1];else{const t=n[0],e=n[1],i=Math.round(e.x-t.x),o=Math.round(e.y-t.y),r=Math.max(Math.abs(i),Math.abs(o));s=(0,y.E5)(i>0?t.x+r/2:t.x-r/2,o>0?t.y+r/2:t.y-r/2),a=(0,y.E5)(Math.abs(i)>Math.abs(o)?s.x-r/2:s.x,Math.abs(i)>Math.abs(o)?s.y:s.y-r/2)}const u=e.localToMap(s),p=e.localToMap(a);if(null==u||null==p)return null;e.doUnnormalization&&(0,f.JM)([[u,p]],e.spatialReference);const d=m(u,e.spatialReference),h=m(p,e.spatialReference),v=(0,r.GA)(e.spatialReference);let _=0;if((0,g.fn)(e.spatialReference))_=v*(0,c.distance)(d,h,null);else{const t=s.x-a.x,e=s.y-a.y;_=v*Math.sqrt(t*t+e*e)*(o||1)}const M=new l.default({center:d,radius:_,radiusUnit:"meters",spatialReference:e.spatialReference});return{geometry:w(M.rings,M.spatialReference,!1),center:d,edge:h}}function T(t,e,i){const n=e.mapToLocalMultiple(t),r=n[0],s=n[1],a=Math.round(s.x-r.x),l=Math.round(s.y-r.y),c=(0,y.E5)(i?r.x:r.x+a/2,i?r.y:r.y+l/2),u=i?a:a/2,p=i?l:l/2,d=[],h=2*Math.PI/60;function f(t){const e=Math.cos(t),i=Math.sin(t);return(0,y.E5)(u*e+c.x,p*i+c.y)}for(let o=0;o<60;o++)d.push(f(o*h));d.push(d[0]);const{spatialReference:g,doUnnormalization:v}=e,_=w([d.map((t=>e.localToMap(t))).filter(o.Ru)],g,v,!1),M=e.localToMap(f(Math.PI/2)),x=e.localToMap(f(0)),k=e.localToMap(f(-Math.PI/2)),b=e.localToMap(f(Math.PI));return{geometry:_,midpoints:null!=M&&null!=x&&null!=k&&null!=b?{top:m(M,g),right:m(x,g),bottom:m(k,g),left:m(b,g)}:null}}},22292:(t,e,i)=>{i.d(e,{N:()=>vt,l:()=>Mt});var o,n,r=i(35143),s=i(39356),a=i(91967),l=i(19276),c=i(68134),u=i(46053),p=(i(81806),i(76460),i(47249),i(85842)),d=i(19451);!function(t){t[t.NeverApplied=0]="NeverApplied",t[t.Applied=1]="Applied",t[t.Undone=2]="Undone"}(o||(o={})),function(t){t.UndoRedoUpdating="UndoRedoUpdating",t.UndoInvalidError="UndoInvalidError",t.RedoInvalidError="RedoInvalidError",t.ApplyInvalidError="ApplyInvalidError"}(n||(n={}));const h={[n.UndoRedoUpdating]:"Cannot perform operation whilst undo redo is updating",[n.UndoInvalidError]:"There are no items to Undo",[n.RedoInvalidError]:"There are no items to Redo",[n.ApplyInvalidError]:"Cannot apply an item that is already applied"};class f extends Error{constructor(){super(h[n.UndoRedoUpdating]),this.type="undo-redo-updating-error"}}class g extends Error{constructor(){super(h[n.UndoInvalidError]),this.type="undo-redo-undo-error"}}class y extends Error{constructor(){super(h[n.RedoInvalidError]),this.type="undo-redo-redo-error"}}class m extends Error{constructor(){super(h[n.ApplyInvalidError]),this.type="undo-redo-apply-error"}}var v,_;(_=v||(v={}))[_.Apply=0]="Apply",_[_.Undo=1]="Undo",_[_.Redo=2]="Redo";let w=class extends a.default{constructor(){super(...arguments),this.name="",this.tag=Symbol(),this.status=o.NeverApplied}get canUndo(){return this.status===o.Applied}get canRedo(){return this.status===o.Undone}async executeUndoRedoOperation(t){switch(t){case v.Apply:if(this.status!==o.NeverApplied)throw new m;return await this.apply(),void(this.status=o.Applied);case v.Undo:if(this.status!==o.Applied)throw new g;return await this.undo(),void(this.status=o.Undone);case v.Redo:if(this.status!==o.Undone)throw new g;return await this.redo(),void(this.status=o.Applied)}}};(0,r._)([(0,u.MZ)()],w.prototype,"name",void 0),(0,r._)([(0,u.MZ)()],w.prototype,"tag",void 0),w=(0,r._)([(0,p.$)("esri.undoredo.UndoableOperation")],w);let M=class extends a.default{constructor(){super(...arguments),this._stack=new l.default,this._stackPosition=-1,this._updatingHandles=new d.U}get updating(){return this._updatingHandles.updating}get canUndo(){return this.hasUndo&&!this.updating}get hasUndo(){return this._stackPosition>=0}get canRedo(){return this.hasRedo&&!this.updating}get hasRedo(){return this._stackPosition<this._stack.length-1}_truncateForwardStack(){this._stack.splice(this._stackPosition+1,this._stack.length-this._stackPosition).forEach((t=>t.destroy()))}_drainStack(){this._stack.drain((t=>t.destroy())),this._stackPosition=-1}async undo(){if(!this.hasUndo)throw new g;if(this.updating)throw new f;const t=this._stack.getItemAt(this._stackPosition);t&&await this._updatingHandles.addPromise((async()=>{await t.executeUndoRedoOperation(v.Undo),--this._stackPosition,t.canRedo||this._truncateForwardStack()})())}async redo(){if(!this.hasRedo)throw new y;if(this.updating)throw new f;const t=this._stack.getItemAt(this._stackPosition+1);if(!t)throw new y;await this._updatingHandles.addPromise((async()=>{await t.executeUndoRedoOperation(v.Redo),++this._stackPosition})())}peekUndo(){if(this.canUndo)return this._stack.getItemAt(this._stackPosition)}peekRedo(){if(this.canRedo)return this._stack.getItemAt(this._stackPosition+1)}async inject(t){if(this.updating)throw new f;await this._updatingHandles.addPromise((async()=>{t.status===o.NeverApplied&&await t.executeUndoRedoOperation(v.Apply),t.canUndo?(this._stack.splice(this._stackPosition+1,0,t),this._stackPosition++):this._stackPosition>-1&&(this._stack.splice(0,this._stackPosition+1).forEach((t=>t.destroy())),this._stackPosition=-1)})())}async add(t){if(this.updating)throw new f;await this._updatingHandles.addPromise((async()=>{t.status===o.NeverApplied&&await t.executeUndoRedoOperation(v.Apply),this._stackPosition>=-1&&this._truncateForwardStack(),t.canUndo?(this._stack.push(t),this._stackPosition=this._stack.length-1):this._drainStack()})())}async removeTagged(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.updating&&!e)return;await(0,c.whenOnce)((()=>!this.updating));const i=new l.default;for(let o=0;o<this._stack.length;o++){const e=this._stack.getItemAt(o);e&&(e.tag===t?(e.destroy(),o===this._stackPosition&&(this._stackPosition=i.length-1)):i.push(e))}this._stack=i,this._stackPosition>i.length-1&&(this._stackPosition=i.length-1)}async clear(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.updating&&!t)throw new f;await(0,c.whenOnce)((()=>!this.updating)),this._drainStack()}};(0,r._)([(0,u.MZ)()],M.prototype,"_stack",void 0),(0,r._)([(0,u.MZ)()],M.prototype,"_stackPosition",void 0),(0,r._)([(0,u.MZ)()],M.prototype,"updating",null),(0,r._)([(0,u.MZ)({readOnly:!0})],M.prototype,"canUndo",null),(0,r._)([(0,u.MZ)({readOnly:!0})],M.prototype,"hasUndo",null),(0,r._)([(0,u.MZ)({readOnly:!0})],M.prototype,"canRedo",null),(0,r._)([(0,u.MZ)({readOnly:!0})],M.prototype,"hasRedo",null),M=(0,r._)([(0,p.$)("esri.UndoRedo")],M);var x=i(98773),k=i(54099),b=i(54901),O=i(30726),Z=i(58905),R=i(63733),I=i(74e3);class T{constructor(){this.committedVertices=null,this.cursorVertex=null,this.full=null,this.outline=null,this.cursorEdge=null,this.circle=null,this.rectangle=null}}var U=i(14185),A=i(42151),V=i(24648),S=i(31633),C=i(12482),F=i(94277),E=i(76030),P=i(48851),G=i(95735),L=i(37159);let z=class extends L.w{constructor(t){super(t),this.type="draw-circle",this.radius=null,this.xSize=null,this.ySize=null,this.area=V.iT}get allFields(){return[]}};(0,r._)([(0,u.MZ)()],z.prototype,"type",void 0),(0,r._)([(0,u.MZ)()],z.prototype,"radius",void 0),(0,r._)([(0,u.MZ)()],z.prototype,"xSize",void 0),(0,r._)([(0,u.MZ)()],z.prototype,"ySize",void 0),(0,r._)([(0,u.MZ)()],z.prototype,"area",void 0),(0,r._)([(0,u.MZ)()],z.prototype,"helpMessage",void 0),(0,r._)([(0,u.MZ)()],z.prototype,"allFields",null),z=(0,r._)([(0,p.$)("esri.views.interactive.tooltip.infos.DrawCircleTooltipInfo")],z);var H=i(5512),W=i(65240);let N=class extends((0,W.B)(L.w)){constructor(t){super(t),this.type="draw-mesh",this.orientation=(0,H.LJ)({lockable:!1}),this.scale=(0,H.dy)({lockable:!1})}get allFields(){return[this.longitude,this.latitude,this.x,this.y,this.elevation,this.orientation,this.scale]}};(0,r._)([(0,u.MZ)()],N.prototype,"helpMessage",void 0),(0,r._)([(0,u.MZ)()],N.prototype,"allFields",null),N=(0,r._)([(0,p.$)("esri.views.interactive.tooltip.infos.DrawMeshTooltipInfo")],N);let D=class extends((0,W.B)(L.w)){constructor(t){super(t),this.type="draw-multipoint"}get allFields(){return[this.longitude,this.latitude,this.x,this.y,this.elevation]}};(0,r._)([(0,u.MZ)()],D.prototype,"helpMessage",void 0),(0,r._)([(0,u.MZ)()],D.prototype,"allFields",null),D=(0,r._)([(0,p.$)("esri.views.interactive.tooltip.infos.DrawMultipointTooltipInfo")],D);let $=class extends((0,W.B)(L.w)){constructor(t){super(t),this.type="draw-point"}get allFields(){return[this.longitude,this.latitude,this.x,this.y,this.elevation]}};(0,r._)([(0,u.MZ)()],$.prototype,"helpMessage",void 0),(0,r._)([(0,u.MZ)()],$.prototype,"allFields",null),$=(0,r._)([(0,p.$)("esri.views.interactive.tooltip.infos.DrawPointTooltipInfo")],$);let B=class extends((0,W.B)(L.w)){constructor(t){super(t),this.type="draw-polygon",this.direction=(0,H.Gk)(),this.distance=(0,H.Ku)(),this.area=(0,H.Am)(),this.xyMode="direction-distance"}get allFields(){return[this.direction,this.distance,this.longitude,this.latitude,this.x,this.y,this.elevation,this.area]}};(0,r._)([(0,u.MZ)()],B.prototype,"xyMode",void 0),(0,r._)([(0,u.MZ)()],B.prototype,"helpMessage",void 0),(0,r._)([(0,u.MZ)()],B.prototype,"allFields",null),B=(0,r._)([(0,p.$)("esri.views.interactive.tooltip.infos.DrawPolygonTooltipInfo")],B);let Q=class extends((0,W.B)(L.w)){constructor(t){super(t),this.type="draw-polyline",this.direction=(0,H.Gk)(),this.distance=(0,H.Ku)(),this.totalLength=(0,H.fr)(),this.xyMode="direction-distance"}get allFields(){return[this.direction,this.distance,this.longitude,this.latitude,this.x,this.y,this.elevation,this.totalLength]}};(0,r._)([(0,u.MZ)()],Q.prototype,"helpMessage",void 0),(0,r._)([(0,u.MZ)()],Q.prototype,"xyMode",void 0),(0,r._)([(0,u.MZ)()],Q.prototype,"allFields",null),Q=(0,r._)([(0,p.$)("esri.views.interactive.tooltip.infos.DrawPolylineTooltipInfo")],Q);let Y=class extends L.w{constructor(t){super(t),this.type="draw-rectangle",this.xSize=V.r7,this.ySize=V.r7,this.area=V.iT}get allFields(){return[]}};(0,r._)([(0,u.MZ)()],Y.prototype,"type",void 0),(0,r._)([(0,u.MZ)()],Y.prototype,"xSize",void 0),(0,r._)([(0,u.MZ)()],Y.prototype,"ySize",void 0),(0,r._)([(0,u.MZ)()],Y.prototype,"area",void 0),(0,r._)([(0,u.MZ)()],Y.prototype,"helpMessage",void 0),(0,r._)([(0,u.MZ)()],Y.prototype,"allFields",null),Y=(0,r._)([(0,p.$)("esri.views.interactive.tooltip.infos.DrawRectangleTooltipInfo")],Y);var j=i(89646),q=i(28330),X=i(68655),K=i(29772);function J(t){const{directionOptions:e,geometryType:i,sketchOptions:o,tooltipInfos:n}=t,r=e=>{const i=pt(t).mode,o=n[e].elevation;"relative-to-ground"===i||"relative-to-scene"===i||"on-the-ground"===i?o.lock(ht(t)):o.unlock()};switch(i){case"polygon":case"polyline":r(i),(t=>{if(e){const i=n[t].direction;i.committed=e.angle,i.unlockOnVertexPlacement=!1,o.values.directionMode=e.mode}})(i);break;case"point":case"mesh":r(i)}}function tt(t,e){const{drawOperation:i,view:o}=e,n=it(e),r=pt(e);if("2d"===o.type||!t||"absolute-height"!==r.mode||1!==i?.numCommittedVertices||!n||"draw-polyline"!==n.type&&"draw-polygon"!==n.type||n.elevation.locked)return;const[s,a,l]=t,c=function(t,e,i,o,n){const{view:r,drawOperation:s}=n;if("3d"!==r.type||!s)return;i??=0;const a=dt(n),l=pt(n),c=(0,C.Fo)(r,t,e,i,a,l,o);return(0,K.Qc)(c,a)??ht(n)}(s,a,l,r,e);null!=c&&n.elevation.lock(c)}function et(t){it(t)?.allFields.forEach((t=>{t.unlockOnVertexPlacement&&t.unlock()}))}function it(t){let{geometryType:e,graphic:i,tooltipInfos:o}=t;return i?.geometry?.type!==ot[e]?"circle"===e||"rectangle"===e?o[e]:null:o[e]}const ot={point:"point",multipoint:"multipoint",mesh:"mesh",polyline:"polyline",polygon:"polygon",circle:"polygon",rectangle:"polygon",freehandPolygon:"polygon",freehandPolyline:"polyline"};function nt(t,e){switch(t?.type){case"draw-point":!function(t,e){const i=e.graphic?.geometry;"point"===i?.type&&(rt(t,i,e),t.helpMessage=(0,F.$)("point",i,e.drawOperation.drawingMode))}(t,e);break;case"draw-multipoint":!function(t,e){const i=e.graphic?.geometry;"multipoint"===i?.type&&(rt(t,i,e),t.helpMessage=(0,F.$)("multipoint",i,e.drawOperation.drawingMode))}(t,e);break;case"draw-polyline":!function(t,e){const{createOperationGeometry:i,drawOperation:o}=e,n=null!=i?i.full:null;n&&"polyline"!==n.type||(st(t,e),t.totalLength.actual=o.lastVertex?(n?(0,X.ob)(n):null)??V.r7:null,t.helpMessage=(0,F.$)("polyline",n,e.drawOperation.drawingMode))}(t,e);break;case"draw-polygon":!function(t,e){const{createOperationGeometry:i,drawOperation:o}=e,n=null!=i?i.full:null;n&&"polygon"!==n.type||(st(t,e),t.area.actual=o.lastVertex?(n?(0,q.n)(n):null)??V.iT:null,t.helpMessage=(0,F.$)("polygon",n,e.drawOperation.drawingMode))}(t,e);break;case"draw-rectangle":!function(t,e){t.sketchOptions=e.sketchOptions,t.xSize=ct(e),t.ySize=ut(e),t.area=lt(e),t.helpMessage=(0,F.$)("rectangle",e.graphic?.geometry,e.drawOperation.drawingMode)}(t,e);break;case"draw-circle":!function(t,e){const{forceUniformSize:i,sketchOptions:o}=e;t.sketchOptions=o,t.radius=i?function(t){let{createOperationGeometry:e}=t;return(null!=e?.circle?.center&&null!=e.circle.edge?(0,X.Kt)(e.circle.center,e.circle.edge):null)??V.r7}(e):null,t.xSize=i?null:ct(e),t.ySize=i?null:ut(e),t.area=lt(e),t.helpMessage=(0,F.$)("circle",e.graphic?.geometry,e.drawOperation.drawingMode)}(t,e);break;case"draw-mesh":!function(t,e){const{graphic:i,view:o}=e,n=i?.geometry;"3d"!==o.type||n&&"mesh"!==n.type||(rt(t,n?.origin,e),n&&(0,G.Ue)(t,n),t.helpMessage=(0,E.getDrawMeshHelpMessage)(i,o))}(t,e)}}function rt(t,e,i){const{drawOperation:o,view:n,sketchOptions:r}=i,{cursorVertex:s}=o;t.sketchOptions=r,t.viewType=n.type;const a="multipoint"===e?.type?e.getPoint(e.points.length-1):e;if(t.setLocationFromPoint(a,dt(i)),at(t.elevation,i),!s)return void(o.constraints=void 0);const l=s;o.constraints={context:ft(l,i),x:t.x.committed,y:t.y.committed,longitude:t.longitude.committed,latitude:t.latitude.committed,elevation:t.elevation.committed,distance:null,direction:null}}function st(t,e){const{drawOperation:i,sketchOptions:o,view:n}=e,{cursorVertex:r,lastVertex:s,secondToLastVertex:a}=i,l=o.values.effectiveDirectionMode;t.sketchOptions=o,t.viewType=n.type;const c=s&&r?(0,X.Kt)(s,r)??V.r7:null;if(t.distance.actual=c,t.distance.readOnly=null==s,t.direction.actual=null,t.direction.readOnly=!0,s&&r&&("absolute"===l||a)){const e=(0,j.uR)(a,s,r,l);t.direction.actual=e??V.n0,t.direction.readOnly=!1}t.setLocationFromPoint(r,dt(e)),at(t.elevation,e);const u=function(t,e){let{sketchOptions:i}=e;const o=i.tooltips.xyMode;return"auto"===o?t?"direction-distance":"coordinates":o}(s,e);t.xyMode=u,t.direction.visible="direction-distance"===u,t.distance.visible="direction-distance"===u,t.effectiveX.visible="coordinates"===u,t.effectiveY.visible="coordinates"===u;const p=r??s;i.constraints=p?{context:ft(p,e),x:t.x.committed,y:t.y.committed,longitude:t.longitude.committed,latitude:t.latitude.committed,elevation:t.elevation.committed,distance:t.distance.committed,direction:t.direction.committed}:void 0}function at(t,e){const{drawOperation:i}=e,o=i?.cursorVertex??i?.lastVertex;t.actual=(0,K.Of)(o)??ht(e),t.visible=i.hasZ,t.readOnly=!1,t.showAsZ=!0}function lt(t){const e=t.createOperationGeometry?.full;return"polygon"!==e?.type?V.iT:(0,q.n)(e)??V.iT}function ct(t){const e=t.createOperationGeometry?.rectangle?.midpoints;return(null!=e?(0,X.Kt)(e.left,e.right):null)??V.r7}function ut(t){const e=t.createOperationGeometry?.rectangle?.midpoints;return(null!=e?(0,X.Kt)(e.top,e.bottom):null)??V.r7}function pt(t){return t.drawOperation.elevationInfo??C.qt}function dt(t){return t.drawOperation.coordinateHelper.spatialReference}function ht(t){const e=(0,S.G9)(dt(t));return(0,V.d_)(t.defaultZ*e,"meters")}function ft(t,e){return(0,P.hj)(t,e.view,dt(e),pt(e),e.drawOperation.coordinateHelper.hasZ(),e.sketchOptions.values.effectiveDirectionMode)}var gt=i(56829),yt=i(97513),mt=i(49281);let vt=class extends(k.A.EventedMixin(gt.g)){constructor(t){super(t),this._graphic=null,this._coordinateFormatterLoadTask=null,this._createOperationGeometry=null,this.defaultZ=0,this.directionOptions=null,this.elevationLockOnVertexAddDisabled=!1,this.geometryType=null,this.hasZ=!0,this.geometryToPlace=null,this.snappingManager=null,this.snapToScene=!1,this.sketchOptions=new yt.A}initialize(){const{view:t}=this;this.internalGraphicsLayer=new R.default({listMode:"hide",internal:!0}),this.view.map.layers.add(this.internalGraphicsLayer);const e=this.drawOperation=this.makeDrawOperation();this.tooltipInfos=function(t,e){return{point:new $({sketchOptions:e,viewType:t}),multipoint:new D({sketchOptions:e,viewType:t}),polyline:new Q({sketchOptions:e,viewType:t}),polygon:new B({sketchOptions:e,viewType:t}),mesh:new N({sketchOptions:e,viewType:t}),rectangle:new Y({sketchOptions:e}),circle:new z({sketchOptions:e})}}(t.type,this.sketchOptions);const i=(0,G.A)((()=>({view:t,options:this.sketchOptions.tooltips})));this.tooltip=i,J(this._tooltipsContext),this._coordinateFormatterLoadTask=(0,x.UT)((()=>(0,Z.load)())),this.addHandles([e.on("vertex-add",(t=>this.onVertexAdd(t))),e.on("vertex-remove",(t=>this.onVertexRemove(t))),e.on("vertex-update",(t=>this.onVertexUpdate(t))),e.on("cursor-update",(t=>this.onCursorUpdate(t))),e.on("cursor-remove",(()=>this._updateGraphic())),e.on("complete",(t=>this.onComplete(t))),this._coordinateFormatterLoadTask,i.on("paste",(t=>(0,G.HA)(t,this.activeTooltipInfo))),(0,c.watch)((()=>this.cursor),(t=>{e.cursor=t}),c.syncAndInitial),(0,mt.fm)((()=>{const{activeTooltipInfo:t,sketchOptions:e}=this;nt(t,this._tooltipsContext),i.info=e.tooltips.effectiveEnabled?t:null})),(0,mt.fm)((()=>{e.constraintZ=function(t){const{geometryType:e,tooltipInfos:i}=t;switch(e){case"point":case"multipoint":case"mesh":case"polyline":case"polygon":{const o=i[e].elevation.committed;if(!o)return;return(0,V.l3)(o,"meters")/(0,S.G9)(dt(t))}default:return}}(this._tooltipsContext)}),c.sync)]),this.finishToolCreation()}destroy(){this.drawOperation=(0,O.pR)(this.drawOperation),this.tooltip=(0,O.pR)(this.tooltip),this._destroyAllVisualizations(),this.view.map.remove(this.internalGraphicsLayer),this.internalGraphicsLayer=(0,O.pR)(this.internalGraphicsLayer),this._set("view",null)}get _drawSpatialReference(){return this.drawOperation.coordinateHelper.spatialReference}get _tooltipsContext(){return{createOperationGeometry:this._createOperationGeometry,defaultZ:this.defaultZ,directionOptions:this.directionOptions,drawOperation:this.drawOperation,forceUniformSize:this.forceUniformSize,geometryType:this.geometryType,graphic:this.graphic,sketchOptions:this.sketchOptions,tooltipInfos:this.tooltipInfos,view:this.view}}get canRedo(){return this.drawOperation.canRedo}get canUndo(){return this.drawOperation.canUndo}set centered(t){this._set("centered",t),this._updateGraphic()}get cursor(){return this._get("cursor")}set cursor(t){this._set("cursor",t)}set enabled(t){this.drawOperation.interactive=t,this._set("enabled",t)}set forceUniformSize(t){this._set("forceUniformSize",t),this._updateGraphic()}get graphic(){return this._graphic}set graphicSymbol(t){this._set("graphicSymbol",t),null!=this._graphic&&(this._graphic.symbol=t)}set mode(t){const e=this.drawOperation;e&&(e.drawingMode=t),this._set("mode",t)}get updating(){return this.drawOperation?.updating??!1}get undoRedo(){const{view:{type:t,map:e}}=this;return"2d"===t&&e&&"undoRedo"in e&&e.undoRedo instanceof M?e.undoRedo:null}set undoRedo(t){this._override("undoRedo",t)}completeCreateOperation(){this.drawOperation.complete()}onInputEvent(t){this.destroyed||(0,G.wG)(t,this.tooltip)||this.drawOperation.onInputEvent(t)}redo(){this.drawOperation.redo()}reset(){}undo(){this.drawOperation.undo(),0===this.drawOperation.numCommittedVertices&&J(this._tooltipsContext)}_destroyAllVisualizations(){this.removeHandles(wt.outline),this.removeHandles(wt.regularVertices),this.removeHandles(wt.activeVertex),this.removeHandles(wt.activeEdge),this.removeHandles(_t)}_createOrUpdateGraphic(t){if(null!=this._graphic)return this.updateGraphicGeometry(t),this._graphic;const e=new s.default({...this.graphicProperties,symbol:this.graphicSymbol});return this._graphic=e,this.updateGraphicGeometry(t),this.internalGraphicsLayer.add(e),this.addHandles(this.initializeGraphic(e)),this.notifyChange("graphic"),this.addHandles((0,b.hA)((()=>{this.internalGraphicsLayer.remove(e),this._graphic===e&&(this._graphic=null)})),_t),e}updateGraphicGeometry(t){this._graphic.geometry=t}_getCreateOperationGeometry(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{operationComplete:!1};if(null==this.drawOperation)return;const{coordinateHelper:e,view:i,visualizationCursorVertex:o,lastVertex:n,committedVertices:r,geometryIncludingUncommittedVertices:s,numCommittedVertices:a}=this.drawOperation;if(!(a>0||null!=o))return;const l=t.operationComplete?r:s,c=l.length,u=null!=o?e.pointToArray(o):null,p=this._drawSpatialReference,d="3d"===i.type&&"global"===i.viewingMode,h=new T;h.committedVertices=r,h.cursorVertex=u;const{geometryType:f}=this;switch(f){case"point":case"mesh":h.full=e.arrayToPoint(l[0]);break;case"multipoint":h.full=c>0?(0,U.eq)(l,p):null;break;case"polyline":case"polygon":c>0&&(h.full="polygon"===f?(0,U.N6)([l],p,d,!0):(0,U.LZ)([l],p,d),h.cursorEdge=null!=u&&n&&!(0,I.CI)(o,n)?(0,U.LZ)([[u,e.pointToArray(n)]],p,d):null,h.outline=c>1?h.full:null);break;case"circle":case"rectangle":{if(h.committedVertices=h.cursorVertex=null,!c)break;const e=(0,A.ZP)(i,l[0]),o=l[0],n=e.makeMapPoint(o[0]+xt*i.resolution,o[1]);"circle"===f?1===c&&t.operationComplete?h.circle=(0,U.zV)([o,n],e,!0):2===c&&(this.forceUniformSize?h.circle=(0,U.zV)(l,e,this.centered):h.rectangle=(0,U.zd)(l,e,this.centered)):1===c&&t.operationComplete?h.rectangle=(0,U.GF)([o,n],e,!0):2===c&&(h.rectangle=this.forceUniformSize?(0,U.GF)(l,e,this.centered):(0,U._T)(l,e,this.centered)),h.full=null!=h.circle?h.circle.geometry:h.rectangle?.geometry,h.outline="polygon"===h.full?.type?h.full:null;break}default:return null}return h}initializeGraphic(t){return(0,b.hA)()}onComplete(t){if(!this.drawOperation)return;this._updateGraphic();let e=null;if(this.drawOperation.isCompleted){const t=this._getCreateOperationGeometry({operationComplete:!0});null!=t&&(e=this._createOrUpdateGraphic(t.full))}this._createOperationGeometry=null,this.emit("complete",{graphic:e,...t})}onCursorUpdate(t){this._updateGraphic(),this.emit("cursor-update",t)}onDeactivate(){const{drawOperation:t}=this;t&&(t.isCompleted||t.cancel())}onOutlineChanged(t){return(0,b.hA)()}onCursorEdgeChanged(t){return(0,b.hA)()}onVertexAdd(t){et(this._tooltipsContext),this._updateGraphic(),this.elevationLockOnVertexAddDisabled||tt(t.vertices.at(0)?.coordinates,this._tooltipsContext),this.emit("vertex-add",t)}onVertexRemove(t){et(this._tooltipsContext),this._updateGraphic(),this.emit("vertex-remove",t)}onVertexUpdate(t){this._updateGraphic(),this.emit("vertex-update",t)}_updateGraphic(){const t=this._getCreateOperationGeometry();this._createOperationGeometry=t,null!=t?(null!=t.cursorEdge?this.addHandles(this.onCursorEdgeChanged(t.cursorEdge),wt.activeEdge):this.removeHandles(wt.activeEdge),null!=t.outline?this.addHandles(this.onOutlineChanged(t.outline),wt.outline):this.removeHandles(wt.outline),null!=t.committedVertices?this.addHandles(this.onRegularVerticesChanged(t.committedVertices),wt.regularVertices):this.removeHandles(wt.regularVertices),null!=t.cursorVertex?this.addHandles(this.onActiveVertexChanged(t.cursorVertex),wt.activeVertex):this.removeHandles(wt.activeVertex),null!=t.full?this._createOrUpdateGraphic(t.full):this.removeHandles(_t)):this._destroyAllVisualizations()}get activeTooltipInfo(){return this._coordinateFormatterLoadTask?.finished?it(this._tooltipsContext):null}};(0,r._)([(0,u.MZ)()],vt.prototype,"_coordinateFormatterLoadTask",void 0),(0,r._)([(0,u.MZ)()],vt.prototype,"_createOperationGeometry",void 0),(0,r._)([(0,u.MZ)()],vt.prototype,"_tooltipsContext",null),(0,r._)([(0,u.MZ)({value:!0})],vt.prototype,"centered",null),(0,r._)([(0,u.MZ)()],vt.prototype,"cursor",null),(0,r._)([(0,u.MZ)({nonNullable:!0})],vt.prototype,"defaultZ",void 0),(0,r._)([(0,u.MZ)({constructOnly:!0})],vt.prototype,"directionOptions",void 0),(0,r._)([(0,u.MZ)()],vt.prototype,"drawOperation",void 0),(0,r._)([(0,u.MZ)()],vt.prototype,"elevationLockOnVertexAddDisabled",void 0),(0,r._)([(0,u.MZ)({value:!0})],vt.prototype,"enabled",null),(0,r._)([(0,u.MZ)({value:!0})],vt.prototype,"forceUniformSize",null),(0,r._)([(0,u.MZ)({constructOnly:!0})],vt.prototype,"geometryType",void 0),(0,r._)([(0,u.MZ)()],vt.prototype,"graphic",null),(0,r._)([(0,u.MZ)({constructOnly:!0})],vt.prototype,"graphicProperties",void 0),(0,r._)([(0,u.MZ)()],vt.prototype,"graphicSymbol",null),(0,r._)([(0,u.MZ)({constructOnly:!0})],vt.prototype,"hasZ",void 0),(0,r._)([(0,u.MZ)({constructOnly:!0})],vt.prototype,"geometryToPlace",void 0),(0,r._)([(0,u.MZ)()],vt.prototype,"mode",null),(0,r._)([(0,u.MZ)()],vt.prototype,"snappingManager",void 0),(0,r._)([(0,u.MZ)()],vt.prototype,"snapToScene",void 0),(0,r._)([(0,u.MZ)()],vt.prototype,"tooltip",void 0),(0,r._)([(0,u.MZ)()],vt.prototype,"tooltipInfos",void 0),(0,r._)([(0,u.MZ)({constructOnly:!0,type:yt.A})],vt.prototype,"sketchOptions",void 0),(0,r._)([(0,u.MZ)()],vt.prototype,"updating",null),(0,r._)([(0,u.MZ)({constructOnly:!0,nonNullable:!0})],vt.prototype,"view",void 0),(0,r._)([(0,u.MZ)({constructOnly:!0})],vt.prototype,"undoRedo",null),(0,r._)([(0,u.MZ)()],vt.prototype,"activeTooltipInfo",null),vt=(0,r._)([(0,p.$)("esri.views.draw.DrawGraphicTool")],vt);const _t=Symbol("create-operation-graphic"),wt={outline:Symbol("outline-visual"),regularVertices:Symbol("regular-vertices-visual"),activeVertex:Symbol("active-vertex-visual"),activeEdge:Symbol("active-edge-visual")};function Mt(t){switch(t){case"point":case"polyline":case"polygon":case"multipoint":return t;case"circle":case"rectangle":return"segment";case"mesh":return"point"}}const xt=48},28330:(t,e,i)=>{i.d(e,{n:()=>r});var o=i(78009),n=i(66678);function r(t){return function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,o.u0)();if("on-the-ground"===e){const e=(0,n.P)(t);return null!=e?e:(0,o.qh)(t,i)}return(0,o.EI)(t,i)}(t,"on-the-ground",arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,o.u0)())}},30120:(t,e,i)=>{i.d(e,{Bb:()=>d,G3:()=>g,fJ:()=>h});var o=i(19555),n=i(20664),r=i(9392),s=i(79650),a=i(75762),l=i(87823),c=i(14721),u=i(51230),p=i(86210);function d(t,e){return f(t,e,!1)}function h(t,e){return f(t,e,!0)}function f(t,e,i){if(t instanceof p.D){if(t.operation instanceof l.a)return function(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=i?-1:1,a=(0,r.fA)(o*t.dx,o*t.dy,o*t.dz);(0,n.g)(e.origin,e.origin,a),(0,s.u)(e)}(t.operation,e,i),!0;if(t.operation instanceof c.m)return function(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const o=i?-t.angle:t.angle;(0,n.L)(e.basis1,e.basis1,r.uY,o),(0,n.L)(e.basis2,e.basis2,r.uY,o),(0,s.u)(e)}(t.operation,e,i),!0;if(t.operation instanceof u.j)return function(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=i?1/t.factor1:t.factor1,a=i?1/t.factor2:t.factor2;(0,n.h)(e.basis1,e.basis1,r),(0,n.h)(e.basis2,e.basis2,a),(0,o.Vj)(e.origin,e.origin,t.origin,t.axis1,r),(0,o.Vj)(e.origin,e.origin,t.origin,t.axis2,a),(0,s.u)(e)}(t.operation,e,i),!0}return!1}function g(t,e,i,r){let l=arguments.length>4&&void 0!==arguments[4]&&arguments[4];r||(r=(0,s.d)());const c=(0,o.hZ)(a.oG.get(),t[1],-t[0]),u=(0,o.hZ)(a.oG.get(),Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY),p=(0,o.hZ)(a.oG.get(),Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY),d=a.oG.get(),h=e.allVertices;h.forEach((e=>{let{pos:i}=e;(0,o.hZ)(d,(0,o.Om)(t,i),(0,o.Om)(c,i)),(0,o.jk)(u,u,d),(0,o.T9)(p,p,d)}));const f=1e-6,g=(0,o.hZ)(a.oG.get(),p[0]-u[0]<f?i/2:0,p[1]-u[1]<f?i/2:0);(0,o.Re)(u,u,g),(0,o.WQ)(p,p,g);const y=l?h.reduce(((t,e)=>t+(e.pos[2]??0)),0)/h.length:0;return(0,o.hs)(r.basis1,t,(p[0]-u[0])/2),(0,o.hs)(r.basis2,c,(p[1]-u[1])/2),(0,n.i)(r.origin,u[0]*t[0]+u[1]*c[0],u[0]*t[1]+u[1]*c[1],y),(0,n.g)(r.origin,r.origin,r.basis1),(0,n.g)(r.origin,r.origin,r.basis2),(0,s.u)(r),r}},42151:(t,e,i)=>{i.d(e,{E5:()=>h,ZP:()=>m,vz:()=>g});var o=i(18690),n=i(94967),r=i(99809),s=i(60008),a=i(4336),l=i(20664),c=i(9392),u=i(19247),p=i(5568);function d(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return null!=i?[t,e,i]:[t,e]}function h(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return null!=i?{x:t,y:e,z:i}:{x:t,y:e}}class f{constructor(t){this.spatialReference=t}mapToLocalMultiple(t){return t.map((t=>this.mapToLocal(t))).filter(o.Ru)}get doUnnormalization(){return!1}}class g extends f{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(e),this._defaultZ=i,this.transform=(0,r.vt)(),this.transformInv=(0,r.vt)(),this.transform=(0,r.o8)(t),(0,n.B8)(this.transformInv,this.transform)}makeMapPoint(t,e){return d(t,e,this._defaultZ)}mapToLocal(t){return h(this.transform[0]*t[0]+this.transform[2]*t[1]+this.transform[4],this.transform[1]*t[0]+this.transform[3]*t[1]+this.transform[5])}localToMap(t){return d(this.transformInv[0]*t.x+this.transformInv[2]*t.y+this.transformInv[4],this.transformInv[1]*t.x+this.transformInv[3]*t.y+this.transformInv[5],this._defaultZ)}}class y extends f{constructor(t,e){super(t.spatialReference),this.view=t,this.defaultZ=null,this.pWS=(0,c.vt)(),this.tangentFrameUpWS=(0,c.vt)(),this.tangentFrameRightWS=(0,c.vt)(),this.tangentFrameForwardWS=(0,c.vt)(),this.localFrameRightWS=(0,c.vt)(),this.localFrameUpWS=(0,c.vt)(),this.worldToLocalTransform=(0,a.vt)(),this.localToWorldTransform=(0,a.vt)(),this.scale=1,this.scale=t.resolution,this.referenceMapPoint=e,this.defaultZ=e.hasZ?e.z:null;const i=t.state.camera.viewRight;this.view.renderCoordsHelper.toRenderCoords(this.referenceMapPoint,this.pWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,p._.X,this.tangentFrameRightWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,p._.Y,this.tangentFrameUpWS),this.view.renderCoordsHelper.worldBasisAtPosition(this.pWS,p._.Z,this.tangentFrameForwardWS);const o=(0,c.vt)();(0,l.h)(o,this.tangentFrameForwardWS,(0,l.f)(i,this.tangentFrameForwardWS)),(0,l.d)(this.localFrameRightWS,i,o),(0,l.n)(this.localFrameRightWS,this.localFrameRightWS),(0,l.e)(this.localFrameUpWS,this.tangentFrameForwardWS,this.localFrameRightWS),(0,s.Yc)(this.worldToLocalTransform,this.localFrameRightWS,this.tangentFrameRightWS),(0,s.B8)(this.localToWorldTransform,this.worldToLocalTransform)}get doUnnormalization(){return"global"===this.view.viewingMode}makeMapPoint(t,e){return d(t,e,this.defaultZ)}mapToLocal(t){const e=(0,c.vt)();this.view.renderCoordsHelper.toRenderCoords(new u.default({x:t[0],y:t[1],spatialReference:this.spatialReference}),e),(0,l.w)(e,e,this.worldToLocalTransform);const i=this.view.renderCoordsHelper.fromRenderCoords(e,new u.default({spatialReference:this.view.spatialReference}));return null!=i?h(i.x/this.scale,i.y/this.scale):null}localToMap(t){const e=(0,c.vt)();this.view.renderCoordsHelper.toRenderCoords(new u.default({x:t.x*this.scale,y:t.y*this.scale,spatialReference:this.spatialReference}),e),(0,l.w)(e,e,this.localToWorldTransform);const i=this.view.renderCoordsHelper.fromRenderCoords(e,new u.default({spatialReference:this.view.spatialReference}));return null!=i?d(i.x,i.y,this.defaultZ):null}}function m(t,e){if("2d"===t.type)return new g(t.state.transform,t.spatialReference,e.length>2?e[2]:null);if("3d"===t.type){const i=e.length>2?new u.default({x:e[0],y:e[1],z:e[2],spatialReference:t.spatialReference}):new u.default({x:e[0],y:e[1],spatialReference:t.spatialReference});return new y(t,i)}return null}},56061:(t,e,i)=>{i.d(e,{t:()=>n,x:()=>o});const o=["freehand","hybrid","click"],n="click"},60767:(t,e,i)=>{i.d(e,{A:()=>r});var o=i(99486),n=i(99702);class r{constructor(t){this._observable=new n.I,this._set=new Set(t)}get size(){return(0,o.gc)(this._observable),this._set.size}add(t){const e=this._set.size;return this._set.add(t),this._set.size!==e&&this._observable.notify(),this}clear(){this._set.size>0&&(this._set.clear(),this._observable.notify())}delete(t){const e=this._set.delete(t);return e&&this._observable.notify(),e}entries(){return(0,o.gc)(this._observable),this._set.entries()}forEach(t,e){(0,o.gc)(this._observable),this._set.forEach(((i,o)=>t.call(e,i,o,this)),e)}has(t){return(0,o.gc)(this._observable),this._set.has(t)}keys(){return(0,o.gc)(this._observable),this._set.keys()}values(){return(0,o.gc)(this._observable),this._set.values()}[Symbol.iterator](){return(0,o.gc)(this._observable),this._set[Symbol.iterator]()}[Symbol.dispose](){this._observable.destroy()}get[Symbol.toStringTag](){return this._set[Symbol.toStringTag]}}},65240:(t,e,i)=>{i.d(e,{B:()=>p});var o=i(35143),n=i(24648),r=i(46053),s=(i(81806),i(76460),i(47249),i(85842)),a=i(12294),l=i(5512),c=i(69077),u=i(90659);const p=t=>{let e=class extends t{constructor(){super(...arguments),this.longitude=(0,l.em)(),this.latitude=(0,l.fL)(),this.x=(0,l.Hw)(),this.y=(0,l.uf)(),this.elevation=(0,l.S3)(),this.geographic=!1}get effectiveX(){return this.geographic?this.longitude:this.x}get effectiveY(){return this.geographic?this.latitude:this.y}get key(){return{longitude:this.longitude.actual,latitude:this.latitude.actual,x:this.x.actual,y:this.y.actual,elevation:this.elevation.actual,geographic:this.geographic}}setLocationFromPoint(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t?.spatialReference;if(this.geographic=!!e&&(0,u.yF)(e),null==t)return this._setActualLonLat(null,null),void this._setActualXY(null,null);if(this.geographic){const e=(0,a.QP)(t,d);this._setActualLonLat((0,c.m6)(e?.[0]),(0,c.m6)(e?.[1]))}else this._setActualXY((0,n.LF)(t.x),(0,n.LF)(t.y))}_setActualLonLat(t,e){this.longitude.actual=t,this.latitude.actual=e}_setActualXY(t,e){this.x.actual=t,this.y.actual=e}};return(0,o._)([(0,r.MZ)()],e.prototype,"geographic",void 0),(0,o._)([(0,r.MZ)()],e.prototype,"effectiveX",null),(0,o._)([(0,r.MZ)()],e.prototype,"effectiveY",null),(0,o._)([(0,r.MZ)()],e.prototype,"key",null),e=(0,o._)([(0,s.$)("esri.views.interactive.tooltip.infos.TooltipInfoWithCoordinates")],e),e},d=[0,0]},70961:(t,e,i)=>{i.r(e),i.d(e,{default:()=>y});var o,n=i(35143),r=i(31633),s=i(46053),a=(i(81806),i(76460),i(47249),i(85842)),l=i(34111),c=i(19247),u=i(65215),p=i(13312),d=i(7137),h=i(45417),f=i(85996);let g=o=class extends u.default{constructor(t){super(t),this.center=null,this.geodesic=!1,this.numberOfPoints=60,this.radius=1e3,this.radiusUnit="meters"}initialize(){const t=this.center,e=this.numberOfPoints;if(this.hasZ=t?.hasZ??!1,0!==this.rings.length||!t)return;const i=(0,r.oU)(this.radius,this.radiusUnit,"meters"),o=t.spatialReference;let n,s="geographic";if(o.isWebMercator?s="webMercator":(null!=(o.wkid&&f.A[o.wkid])||(o.wkt2||o.wkt)&&(0,r.x1)(o.wkt2||o.wkt))&&(s="projected"),this.geodesic){let o;switch(s){case"webMercator":o=(0,h.webMercatorToGeographic)(t);break;case"projected":console.error("Creating a geodesic circle requires the center to be specified in web mercator or geographic coordinate system");break;case"geographic":o=t}n=this._createGeodesicCircle(o,i,e),"webMercator"===s&&(n=(0,h.geographicToWebMercator)(n))}else{let o;"webMercator"===s||"projected"===s?o=i/(0,r.Ao)(t.spatialReference):"geographic"===s&&(o=(0,r.vl)(i,"meters",(0,l.tO)(t.spatialReference).radius)),n=this._createPlanarCircle(t,o,e)}this.spatialReference=n.spatialReference,this.addRing(n.rings[0])}clone(){const{center:t,numberOfPoints:e,radius:i,radiusUnit:n,geodesic:r}=this;return new o({center:t?.clone(),numberOfPoints:e,radius:i,radiusUnit:n,geodesic:r})}_createGeodesicCircle(t,e,i){const o=[],n=[t.x,t.y];for(let r=0;r<360;r+=360/i){const i=this.hasZ?[0,0,t.z??0]:[0,0];(0,d.directGeodeticSolver)(i,n,r,e,p.default.WGS84),o.push(i)}return o.push(o[0]),new u.default({rings:[o]})}_createPlanarCircle(t,e,i){const o=[],n=2*Math.PI/i;for(let r=0;r<i;++r){const i=n*r,s=[t.x+Math.cos(-i)*e,t.y+Math.sin(-i)*e];this.hasZ&&s.push(t.z??0),o.push(s)}return o.push(o[0]),new u.default({spatialReference:t.spatialReference,rings:[o]})}};(0,n._)([(0,s.MZ)({type:c.default})],g.prototype,"center",void 0),(0,n._)([(0,s.MZ)()],g.prototype,"geodesic",void 0),(0,n._)([(0,s.MZ)()],g.prototype,"numberOfPoints",void 0),(0,n._)([(0,s.MZ)()],g.prototype,"radius",void 0),(0,n._)([(0,s.MZ)()],g.prototype,"radiusUnit",void 0),g=o=(0,n._)([(0,a.$)("esri.geometry.Circle")],g);const y=g},76030:(t,e,i)=>{i.r(e),i.d(e,{getDrawMeshHelpMessage:()=>a});var o=i(31633),n=i(20664),r=i(9392),s=i(12482);function a(t,e){const i=t?.geometry;if(!t||"mesh"!==i?.type||!e)return;const{renderCoordsHelper:r,elevationProvider:a}=e,{camera:d}=e.state,{extent:h}=i,{center:f,spatialReference:g}=h,y=(0,o.GA)(g),m=(0,o.G9)(g),v=(0,o.GA)(r.spatialReference),_=h.width*y,w=h.height*m,M=(h.zmax??0)*m,x=M-(h.zmin??0)*m,k=Math.max(_,w,x)/v,{x:b,y:O}=f,Z=f.z??0;(0,n.i)(p,b,O,Z),r.toRenderCoords(p,g,p);const R=k/d.computeScreenPixelSizeAt(p);if(R>d.width*c)return"meshTooClose";if(R<l)return"meshTooFar";const I=(0,s.bh)(t),{absoluteZ:T}=(0,s.Q5)(b,O,M,g,e,I);return T<(a.getElevation(b,O,Z,g,"ground")??0)*m+x*u?"meshUnderground":"mesh"}const l=20,c=1,u=.1,p=(0,r.vt)()},78009:(t,e,i)=>{i.d(e,{EI:()=>d,lO:()=>v,qh:()=>h,u0:()=>m});var o=i(24648),n=i(31633),r=i(38983),s=i(20664),a=i(9392),l=i(14487),c=i(13927),u=i(45097),p=i(41868);function d(t){return f(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{positionsWorldCoords:[]})}function h(t){return f(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{positionsWorldCoords:[]},!1)}function f(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.hasZ;const r=(0,p.l)(t.spatialReference),d=(0,n.B5)(r);if(null==d)return null;const h=(t,e)=>!(e.length<2)&&((0,s.i)(t,e[0],e[1],i&&e[2]||0),!0);let f=0;for(const o of t.rings){const i=o.length;if(i<3)continue;const{positionsWorldCoords:n}=e;for(;n.length<i;)n.push((0,a.vt)());const p=g,d=(0,s.i)(y,0,0,0),m=1/i;for(let e=0;e<i;e++){if(!h(p,o[e]))return null;if(!(0,l.F)(p,t.spatialReference,n[e],r))return null;(0,s.b)(d,d,n[e],m)}const _=(0,c.Cr)(n[0],n[1],d,(0,c.LV)());if(0===(0,s.k)((0,c.Qj)(_)))continue;for(let t=0;t<i;t++)(0,c.Z1)(_,d,n[t],n[t]);const w=v(n);for(let t=0;t<w.length;t+=3)f+=(0,u.Fm)(n[w[t]],n[w[t+1]],n[w[t+2]])}return(0,o.gT)(f,d)}const g=(0,a.vt)(),y=(0,a.vt)();function m(){return{positionsWorldCoords:[]}}function v(t){return(0,r.e)(function(t){const e=new Float64Array(2*t.length);for(let i=0;i<t.length;++i){const o=t[i],n=2*i;e[n]=o[0],e[n+1]=o[1]}return e}(t),[],2)}},94277:(t,e,i)=>{function o(t,e,i){if(null==t)return"noTool";switch(t){case"point":return"point";case"multipoint":return"multipoint";case"polyline":return function(t,e){const i=null!=t&&"polyline"===t.type&&t.paths.length?t.paths[0].length:0;return"freehand"===e?i<2?"freehandStart":"freehandEnd":i<2?"polylineZeroVertices":"polylineOneVertex"}(e,i);case"polygon":return function(t,e){const i=null!=t&&"polygon"===t.type&&t.rings.length?t.rings[0].length:0;if(i<3)switch(e){case"freehand":return"freehandStart";case"hybrid":return"polygonZeroVerticesHybrid";default:return"polygonZeroVertices"}else if(i<4)return"freehand"===e?"freehandEnd":"polygonOneVertex";return"polygonTwoVertices"}(e,i);case"rectangle":case"circle":return function(t,e){if((null!=t&&"polygon"===t.type&&t.rings.length?t.rings[0].length:0)<3)switch(e){case"freehand":return"freehandStart";case"click":return"shapeStartClick";default:return"shapeStartHybrid"}switch(e){case"freehand":return"freehandEnd";case"click":return"shapeEndClick";default:return"shapeEndHybrid"}}(e,i);default:return}}i.d(e,{$:()=>o})}}]);
//# sourceMappingURL=10061.f5f4830e.chunk.js.map