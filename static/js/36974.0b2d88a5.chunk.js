"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[36974],{23758:(e,n,t)=>{t.d(n,{W:()=>u,e:()=>i});var r=t(18690),o=t(31633),l=t(97153);function i(e){if(null==e)return null;if((0,l.Q)(e))return u(e);const n=e.tileInfo;if(null==n)return null;const t=n.lods?.at(-1);return null==t?null:t.resolution*(0,o.GA)(n.spatialReference)}function u(e){if(null==e)return null;const n=e.layers.items.map(s).filter(r.Ru);return(0,r.jk)(n)??null}function s(e){return e&&"tileInfo"in e?i(e):null}},36974:(e,n,t)=>{t.r(n),t.d(n,{default:()=>y});var r=t(35143),o=t(69539),l=t(54901),i=t(56002),u=t(68134),s=t(31633),a=t(46053),p=(t(81806),t(76460),t(47249),t(85842)),d=t(84174),c=t(23758);let f=class extends d.default{constructor(e){super(e),this.type="ground",this.color=new o.default("#ff7f00"),this.viewVisualizationEnabled=!0,this.numSamplesForPreview=50,this.numSamplesPerChunk=1e3,this._getQueryElevationDependencies=(0,i.B)(((e,n)=>({ground:e,groundLayers:n})))}get available(){const e=this._ground;return null!=e&&e.layers.some((e=>e.visible))}get minDemResolution(){return(0,c.W)(this._ground)}get _queryElevationDependencies(){return this._getQueryElevationDependencies(this._ground,this._groundLayers)}get _ground(){return this._viewModel?.view?.map?.ground}get _groundLayers(){return this._ground?.layers?.toArray()??[]}async queryElevation(e,n){const t=this._queryElevationDependencies;if(null==t)throw new Error("ElevationProfileLineGround: no dependencies");const{ground:r}=t;if(null==r)throw new Error("No ground configured in the view");const o=await r.queryElevation(e,n),l=(0,s.G9)(e.spatialReference),i=(0,s.G9)(r.layers.at(0).spatialReference);if(l!==i){const e=o.geometry;e.points=e.points.map((e=>{let[t,r,o]=e;return[t,r,o===n.noDataValue?o:o*i/l]}))}return o}attach(e){return(0,l.vE)([super.attach(e),(0,u.watch)((()=>this._queryElevationDependencies),(()=>this._onChange()))])}};(0,r._)([(0,a.MZ)({type:o.default,nonNullable:!0})],f.prototype,"color",void 0),(0,r._)([(0,a.MZ)()],f.prototype,"viewVisualizationEnabled",void 0),(0,r._)([(0,a.MZ)()],f.prototype,"available",null),(0,r._)([(0,a.MZ)({readOnly:!0})],f.prototype,"minDemResolution",null),(0,r._)([(0,a.MZ)()],f.prototype,"_queryElevationDependencies",null),(0,r._)([(0,a.MZ)()],f.prototype,"_ground",null),(0,r._)([(0,a.MZ)()],f.prototype,"_groundLayers",null),f=(0,r._)([(0,p.$)("esri.widgets.ElevationProfile.ElevationProfileLineGround")],f);const y=f}}]);
//# sourceMappingURL=36974.0b2d88a5.chunk.js.map