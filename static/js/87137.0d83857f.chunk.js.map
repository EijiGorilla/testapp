{"version":3,"file":"static/js/87137.0d83857f.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/GraphicsLayer.js","../node_modules/@arcgis/core/views/draw/support/layerUtils.js","../node_modules/@arcgis/core/widgets/UtilityNetworkAssociations/UtilityNetworkAssociationsViewModel.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../chunks/tslib.es6.js\";import{property as e}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as o}from\"../core/accessorSupport/decorators/subclass.js\";import{owningCollectionProperty as s}from\"../core/support/OwningCollection.js\";import t from\"./Layer.js\";import{BlendLayer as i}from\"./mixins/BlendLayer.js\";import{ScaleRangeLayer as p}from\"./mixins/ScaleRangeLayer.js\";import{GraphicsCollection as a}from\"../support/GraphicsCollection.js\";import n from\"../symbols/support/ElevationInfo.js\";let c=class extends(i(p(t))){constructor(r){super(r),this.elevationInfo=null,this.graphics=new a,this.screenSizePerspectiveEnabled=!0,this.type=\"graphics\",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(r){return this.graphics.add(r),this}addMany(r){return this.graphics.addMany(r),this}removeAll(){return this.graphics.removeAll(),this}remove(r){this.graphics.remove(r)}removeMany(r){this.graphics.removeMany(r)}on(r,e){return super.on(r,e)}graphicChanged(r){this.emit(\"graphic-update\",r)}};r([e({type:n})],c.prototype,\"elevationInfo\",void 0),r([e(s(a,\"graphics\"))],c.prototype,\"graphics\",void 0),r([e({type:[\"show\",\"hide\"]})],c.prototype,\"listMode\",void 0),r([e()],c.prototype,\"screenSizePerspectiveEnabled\",void 0),r([e({readOnly:!0})],c.prototype,\"type\",void 0),r([e({constructOnly:!0})],c.prototype,\"internal\",void 0),c=r([o(\"esri.layers.GraphicsLayer\")],c);const h=c;export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nfunction e(e,r,n){if(!r||!e?.map)return;const{map:s}=e,l=s.layers.find((e=>e===r));l||s.add(r,n),l&&null!=n&&s.layers.reorder(l,n)}function r(e,r){const n=\"subtype-sublayer\"===r?.type?r.parent:r;return e.allLayerViews.find((e=>{const r=e.layer;return r===n||\"sublayers\"in r&&null!=r.sublayers&&r.sublayers.includes(n)}))}export{e as addUniqueLayer,r as findLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import i from\"../../Graphic.js\";import\"../../intl.js\";import s from\"../../core/Accessor.js\";import o from\"../../core/Collection.js\";import e from\"../../core/Error.js\";import r from\"../../core/Logger.js\";import{watch as n}from\"../../core/reactiveUtils.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as l}from\"../../core/support/UpdatingHandles.js\";import h from\"../../layers/GraphicsLayer.js\";import y from\"../../symbols/LineSymbolMarker.js\";import m from\"../../symbols/SimpleLineSymbol.js\";import{addUniqueLayer as u}from\"../../views/draw/support/layerUtils.js\";import{onLocaleChange as p}from\"../../intl/locale.js\";import{fetchMessageBundle as A}from\"../../intl/messages.js\";const w={noAssociationTypeSpecified:-2147208504};let d=class extends s{constructor(t){super(t),this._internalGraphicsLayerConnectivity=this._createInternalGraphicsLayer(\"Connectivity Associations (Internal)\"),this._internalGraphicsLayerStructuralAttachment=this._createInternalGraphicsLayer(\"Structural Attachment Associations (Internal)\"),this._initialValidationsFinished=!1,this._updatingHandles=new l,this.autoRefreshAssociations=!1,this.connectivityAssociationsLineSymbol=new m({style:\"short-dash\",width:2,color:[190,159,159,1]}),this.executionError=\"\",this.loadErrors=new o,this.maxAllowableAssociations=250,this.showAssociationsEnabled=!1,this.showArrowsConnectivity=!1,this.showArrowsStructuralAttachment=!1,this.structuralAttachmentAssociationsLineSymbol=new m({style:\"short-dash\",width:2,color:[159,190,159,1]})}initialize(){const t=async()=>{this.messages||(this.messages=await A(\"esri/widgets/UtilityNetworkAssociations/t9n/UtilityNetworkAssociations\"))};t().then((()=>{this.view||(this.view=null),this.utilityNetwork||(this.utilityNetwork=null),this.addHandles([n((()=>[this.view,this.utilityNetwork]),(async()=>{const{loadErrors:t,messages:{info:{noUtilityNetwork:i,noView:s}}}=this;this._initialValidationsFinished=!1,t.removeAll();let o=!1,n=!1;this.removeAssociations(),\"2d\"===this.view?.type?(u(this.view,this._internalGraphicsLayerConnectivity),u(this.view,this._internalGraphicsLayerStructuralAttachment),o=!0):(this.loadErrors.push(s),r.getLogger(this).error(new e(\"utilityNetworkAssociations:missing-property\",s))),\"utility\"===this.utilityNetwork?.type?n=!0:(this.loadErrors.push(i),r.getLogger(this).error(new e(\"utilityNetworkAssociations:missing-property\",i))),o&&n&&this.showAssociationsEnabled&&await this.showAssociations(),this._internalGraphicsLayerConnectivity.visible=this.includeConnectivityAssociations,this._internalGraphicsLayerStructuralAttachment.visible=this.includeStructuralAttachmentAssociations,this._initialValidationsFinished=!0}),{initial:!0}),n((()=>[this.view?.stationary,this.showAssociationsEnabled,this.maxAllowableAssociations]),(async()=>{this.view?.stationary&&this.showAssociationsEnabled&&(this.includeConnectivityAssociations||this.includeStructuralAttachmentAssociations)&&await this.showAssociations()})),n((()=>[this.showArrowsConnectivity]),(()=>{const t=this.connectivityAssociationsLineSymbol.clone();t.marker=null,this.showArrowsConnectivity&&(t.marker=new y({color:this.connectivityAssociationsLineSymbol.color,placement:\"end\",style:\"arrow\"}));for(const i of this._internalGraphicsLayerConnectivity.graphics)i.symbol=t})),n((()=>[this.showArrowsStructuralAttachment]),(()=>{const t=this.structuralAttachmentAssociationsLineSymbol.clone();t.marker=null,this.showArrowsStructuralAttachment&&(t.marker=new y({color:this.structuralAttachmentAssociationsLineSymbol.color,placement:\"end\",style:\"arrow\"}));for(const i of this._internalGraphicsLayerStructuralAttachment.graphics)i.symbol=t})),n((()=>{const{cap:t,color:i,style:s,width:o,marker:e}=this.connectivityAssociationsLineSymbol;return[t,i,s,o,e]}),(()=>{const t=this.connectivityAssociationsLineSymbol.clone();for(const i of this._internalGraphicsLayerConnectivity.graphics)i.symbol=t;this.showArrowsConnectivity=!1,t.marker=null,this.connectivityAssociationsLineSymbol.marker&&(this.showArrowsConnectivity=!0,t.marker=new y({color:this.connectivityAssociationsLineSymbol.color,placement:\"end\",style:\"arrow\"}))})),n((()=>{const{cap:t,color:i,style:s,width:o,marker:e}=this.structuralAttachmentAssociationsLineSymbol;return[t,i,s,o,e]}),(()=>{const t=this.structuralAttachmentAssociationsLineSymbol.clone();for(const i of this._internalGraphicsLayerStructuralAttachment.graphics)i.symbol=t;this.showArrowsStructuralAttachment=!1,t.marker=null,this.structuralAttachmentAssociationsLineSymbol.marker&&(this.showArrowsStructuralAttachment=!0,t.marker=new y({color:this.structuralAttachmentAssociationsLineSymbol.color,placement:\"end\",style:\"arrow\"}))})),p(t)])}))}destroy(){this._updatingHandles.destroy(),this.view=null,this._removeInternalGraphicsLayers()}set includeConnectivityAssociations(t){this._set(\"includeConnectivityAssociations\",t),this._internalGraphicsLayerConnectivity.visible=t}set includeStructuralAttachmentAssociations(t){this._set(\"includeStructuralAttachmentAssociations\",t),this._internalGraphicsLayerStructuralAttachment.visible=t}get state(){return this.loadErrors.length?\"disabled\":this._updatingHandles.updating?\"executing\":\"\"!==this.executionError?\"warning\":this._initialValidationsFinished?\"ready\":\"loading\"}get utilityNetwork(){return this.utilityNetwork}set utilityNetwork(t){this._get(\"utilityNetwork\")!==t&&this._set(\"utilityNetwork\",t)}get view(){return this.view}set view(t){this._get(\"view\")!==t&&this._set(\"view\",t)}removeAssociations(){this._internalGraphicsLayerConnectivity.removeAll(),this._internalGraphicsLayerStructuralAttachment.removeAll()}async showAssociations(){const{messages:{info:{maxAllowableAssociationsExceeded:t,noAssociationsFound:s,noAssociationTypeSpecified:o}},utilityNetwork:r}=this;this._set(\"executionError\",\"\");const n={extent:this.view?.extent,gdbVersion:this.utilityNetwork?.gdbVersion,maxGeometryCount:this.maxAllowableAssociations,moment:this.utilityNetwork?.historicMoment,outSpatialReference:this.view?.spatialReference.clone(),returnConnectivityAssociations:this.includeConnectivityAssociations,returnAttachmentAssociations:this.includeStructuralAttachmentAssociations};this._updatingHandles.addPromise(r?.synthesizeAssociationGeometries(n).then((o=>{let e=[],r=[];return o?.maxGeometryCountExceeded?(this.removeAssociations(),void this._set(\"executionError\",t)):0===o?.associations.length?(this.removeAssociations(),void this._set(\"executionError\",s)):void(o&&(e=o?.associations.filter((({associationType:t})=>\"connectivity\"===t)).map((t=>(this.connectivityAssociationsLineSymbol.marker=null,this.showArrowsConnectivity&&(this.connectivityAssociationsLineSymbol.marker=new y({color:this.connectivityAssociationsLineSymbol.color,placement:\"end\",style:\"arrow\"})),new i({geometry:t.geometry.clone(),symbol:this.connectivityAssociationsLineSymbol})))),r=o.associations.filter((({associationType:t})=>\"attachment\"===t)).map((t=>(this.structuralAttachmentAssociationsLineSymbol.marker=null,this.showArrowsStructuralAttachment&&(this.structuralAttachmentAssociationsLineSymbol.marker=new y({color:this.structuralAttachmentAssociationsLineSymbol.color,placement:\"end\",style:\"arrow\"})),new i({geometry:t.geometry.clone(),symbol:this.structuralAttachmentAssociationsLineSymbol})))),this._internalGraphicsLayerConnectivity.removeAll(),e.length>0&&this._internalGraphicsLayerConnectivity.addMany(e),this._internalGraphicsLayerStructuralAttachment.removeAll(),r.length>0&&this._internalGraphicsLayerStructuralAttachment.addMany(r)))}),(t=>{let i=\"Error: \"+t;if(t instanceof e&&t.details?.raw)if(t.details.raw.extendedCode===w.noAssociationTypeSpecified)i=o;else i=t.details.message;this._set(\"executionError\",i)})))}_createInternalGraphicsLayer(t){return new h({listMode:\"hide\",internal:!0,title:t})}_removeInternalGraphicsLayers(){this._internalGraphicsLayerConnectivity&&this._internalGraphicsLayerStructuralAttachment&&this.view?.map&&(this.view.map.remove(this._internalGraphicsLayerConnectivity),this.view.map.remove(this._internalGraphicsLayerStructuralAttachment))}};t([a()],d.prototype,\"_initialValidationsFinished\",void 0),t([a()],d.prototype,\"autoRefreshAssociations\",void 0),t([a({type:m,nonNullable:!0})],d.prototype,\"connectivityAssociationsLineSymbol\",void 0),t([a({readOnly:!0})],d.prototype,\"executionError\",void 0),t([a({type:Boolean,value:!0})],d.prototype,\"includeConnectivityAssociations\",null),t([a({type:Boolean,value:!0})],d.prototype,\"includeStructuralAttachmentAssociations\",null),t([a()],d.prototype,\"loadErrors\",void 0),t([a()],d.prototype,\"maxAllowableAssociations\",void 0),t([a()],d.prototype,\"messages\",void 0),t([a()],d.prototype,\"showAssociationsEnabled\",void 0),t([a()],d.prototype,\"showArrowsConnectivity\",void 0),t([a()],d.prototype,\"showArrowsStructuralAttachment\",void 0),t([a({readOnly:!0})],d.prototype,\"state\",null),t([a({type:m,nonNullable:!0})],d.prototype,\"structuralAttachmentAssociationsLineSymbol\",void 0),t([a()],d.prototype,\"utilityNetwork\",null),t([a()],d.prototype,\"view\",null),d=t([c(\"esri.widgets.UtilityNetworkAssociations.UtilityNetworkAssociationsViewModel\")],d);const v=d;export{v as default};\n"],"names":["c","i","p","t","constructor","r","super","this","elevationInfo","graphics","a","screenSizePerspectiveEnabled","type","internal","destroy","removeAll","add","addMany","remove","removeMany","on","e","graphicChanged","emit","n","prototype","s","readOnly","constructOnly","o","h","map","l","layers","find","reorder","parent","allLayerViews","layer","sublayers","includes","w","d","_internalGraphicsLayerConnectivity","_createInternalGraphicsLayer","_internalGraphicsLayerStructuralAttachment","_initialValidationsFinished","_updatingHandles","autoRefreshAssociations","connectivityAssociationsLineSymbol","m","style","width","color","executionError","loadErrors","maxAllowableAssociations","showAssociationsEnabled","showArrowsConnectivity","showArrowsStructuralAttachment","structuralAttachmentAssociationsLineSymbol","initialize","async","messages","A","then","view","utilityNetwork","addHandles","info","noUtilityNetwork","noView","removeAssociations","u","push","getLogger","error","showAssociations","visible","includeConnectivityAssociations","includeStructuralAttachmentAssociations","initial","stationary","clone","marker","y","placement","symbol","cap","_removeInternalGraphicsLayers","_set","state","length","updating","_get","maxAllowableAssociationsExceeded","noAssociationsFound","noAssociationTypeSpecified","extent","gdbVersion","maxGeometryCount","moment","historicMoment","outSpatialReference","spatialReference","returnConnectivityAssociations","returnAttachmentAssociations","addPromise","synthesizeAssociationGeometries","maxGeometryCountExceeded","associations","filter","_ref","associationType","geometry","_ref2","details","raw","extendedCode","message","listMode","title","nonNullable","Boolean","value","v"],"sourceRoot":""}