{"version":3,"file":"static/js/8533.d12990ac.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/widgets/CatalogLayerList/CatalogLayerListViewModel.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Collection.js\";import s from\"../../core/Evented.js\";import{watch as i,on as o,initial as a}from\"../../core/reactiveUtils.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as l}from\"../../core/accessorSupport/decorators/subclass.js\";import c from\"../LayerList/ListItem.js\";import{findLayerListMode as d}from\"../LayerList/support/layerListUtils.js\";const m={layerListMode:\"layer-list-mode\"},n=\"hide\",h=e.ofType(c);let p=class extends s.EventedAccessor{constructor(t){super(t),this.catalogItems=new h,this.checkPublishStatusEnabled=!1,this.catalogLayer=null,this.listItemCreatedFunction=null,this.listModeDisabled=!1,this.view=null}initialize(){this.addHandles([i((()=>[this.catalogLayer?.loaded,this.view?.ready]),(()=>this._compileList()),a),o((()=>this.catalogLayer?.dynamicGroupLayer.layers),\"change\",(()=>this._compileList())),i((()=>[this.listItemCreatedFunction,this.checkPublishStatusEnabled,this.listModeDisabled]),(()=>this._recompileList()))])}destroy(){this.view=null,this.catalogItems.removeAll()}get state(){const{view:t,catalogLayer:e}=this;return t?.ready&&e?.loaded?\"ready\":t&&e?\"loading\":\"disabled\"}get totalItems(){return this.catalogItems.flatten((t=>t.children)).length}triggerAction(t,e){t&&!t.disabled&&this.emit(\"trigger-action\",{action:t,item:e})}_createListItem(t){const{view:e,listItemCreatedFunction:s,checkPublishStatusEnabled:i,listModeDisabled:o}=this;return new c({checkPublishStatusEnabled:i,listModeDisabled:o,layer:t,listItemCreatedFunction:s,view:e})}_removeAllItems(){this.catalogItems.removeAll()}_getViewableLayers(t){return t?this.listModeDisabled?t:t.filter((t=>d(t)!==n)):void 0}_watchLayersListMode(t){this.removeHandles(m.layerListMode),t&&!this.listModeDisabled&&this.addHandles(i((()=>t.filter((t=>\"listMode\"in t)).map((t=>t.listMode)).toArray()),(()=>this._compileList())),m.layerListMode)}_compileList(){const{catalogLayer:t}=this;if(!t?.loaded)return;const e=t?.dynamicGroupLayer.layers;this._watchLayersListMode(e);const s=this._getViewableLayers(e);s?.length?(this._createNewItems(s),this._removeItems(s),this._sortItems(s)):this._removeAllItems()}_createNewItems(t){const{catalogItems:e}=this;t.forEach((t=>{e.some((e=>e.layer===t))||e.add(this._createListItem(t))}))}_removeItems(t){const{catalogItems:e}=this,s=[];e.forEach((e=>{e&&t?.includes(e.layer)||s.push(e)})),e.removeMany(s)}_sortItems(t){const{catalogItems:e}=this;e.sort(((e,s)=>{const i=t.indexOf(e.layer),o=t.indexOf(s.layer);return i>o?-1:i<o?1:0}))}_recompileList(){this._removeAllItems(),this._compileList()}};t([r({type:h})],p.prototype,\"catalogItems\",void 0),t([r()],p.prototype,\"checkPublishStatusEnabled\",void 0),t([r()],p.prototype,\"catalogLayer\",void 0),t([r()],p.prototype,\"listItemCreatedFunction\",void 0),t([r({nonNullable:!0})],p.prototype,\"listModeDisabled\",void 0),t([r({readOnly:!0})],p.prototype,\"state\",null),t([r()],p.prototype,\"totalItems\",null),t([r()],p.prototype,\"view\",void 0),p=t([l(\"esri.widgets.CatalogLayerList.CatalogLayerListViewModel\")],p);const y=p;export{y as default};\n"],"names":["m","h","e","ofType","c","p","s","EventedAccessor","constructor","t","super","this","catalogItems","checkPublishStatusEnabled","catalogLayer","listItemCreatedFunction","listModeDisabled","view","initialize","addHandles","i","loaded","ready","_compileList","a","o","dynamicGroupLayer","layers","_recompileList","destroy","removeAll","state","totalItems","flatten","children","length","triggerAction","disabled","emit","action","item","_createListItem","layer","_removeAllItems","_getViewableLayers","filter","d","_watchLayersListMode","removeHandles","map","listMode","toArray","_createNewItems","_removeItems","_sortItems","forEach","some","add","includes","push","removeMany","sort","indexOf","r","type","prototype","nonNullable","readOnly","l","y"],"sourceRoot":""}