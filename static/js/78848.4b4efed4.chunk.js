"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[78848],{28353:(e,t,i)=>{i.d(t,{A:()=>u});var s=i(35143),l=i(46053),o=(i(81806),i(76460),i(47249),i(85842)),n=i(25329);let r=class extends n.default{constructor(e,t){super(e,t),this.type=null,this.viewModel=null}};(0,s._)([(0,l.MZ)()],r.prototype,"type",void 0),(0,s._)([(0,l.MZ)()],r.prototype,"viewModel",void 0),r=(0,s._)([(0,o.$)("esri.widgets.ValuePicker.ValuePickerBaseComponent")],r);const u=r},78848:(e,t,i)=>{i.r(t),i.d(t,{default:()=>k});var s=i(35143),l=i(50346),o=i(68134),n=i(46053),r=(i(81806),i(76460),i(47249),i(85842)),u=i(22785),a=i(94126),d=(i(76099),i(54761)),h=i(28353),p=i(91967);let c=class extends p.default{constructor(e){super(e),this.steps=!1,this.thumbTooltip=!1}};(0,s._)([(0,n.MZ)({nonNullable:!0})],c.prototype,"steps",void 0),(0,s._)([(0,n.MZ)({nonNullable:!0})],c.prototype,"thumbTooltip",void 0),c=(0,s._)([(0,r.$)("esri.widgets.ValuePicker.ValuePickerSliderVisibleElements")],c);const v=c,_="esri-value-picker__slider",m={minorTick:`${_}__tick-minor`,majorTick:`${_}__tick-major`,stepsTick:`${_}__tick-steps`,tooltip:`${_}__tooltip`};function M(e){return(t,i)=>{i?.classList.add(e)}}let b=class extends h.A{constructor(e,t){super(e,t),this._majorTickCreatedFunction=M(m.majorTick),this._minorTickCreatedFunction=M(m.minorTick),this._stepsTickCreatedFunction=M(m.stepsTick),this._thumbNode=null,this._tooltip=null,this._slider=new u.default({thumbCreatedFunction:(e,t,i)=>{this._thumbNode=i}}),this.labelFormatFunction=null,this.labels=null,this.min=null,this.minorTicks=null,this.majorTicks=null,this.max=null,this.reversed=!1,this.steps=null,this.type="slider",this.visibleElements=new v,this._thumbDragDebounced=(0,l.debounce)((async e=>{await(this._tooltip?.reposition(!1))}))}initialize(){this.addHandles([(0,o.watch)((()=>this.viewModel?.values),(e=>{this._slider.values=e}),o.initial),(0,o.watch)((()=>this._slider.values),(e=>{this.viewModel&&this.viewModel.values!==e&&(this.viewModel.values=e)})),this._slider.on("thumb-drag",this._thumbDragDebounced)])}destroy(){this._slider.destroy()}loadDependencies(){return(0,a.W)({tooltip:()=>i.e(31748).then(i.bind(i,31748))})}get _ascending(){const{reversed:e,viewModel:t}=this;if(!t)return null;const{layout:i}=t;return"horizontal"===i&&!e||"vertical"===i&&e}get canNext(){const{_ascending:e,min:t,max:i,steps:s,viewModel:l}=this;if(null==e||null==t||null==i||!s?.length||!l)return!1;const{values:o}=l,n=o?.[0];return null==n||(e?n!==s[s.length-1]:n!==s[0])}get canPlay(){return null!=this.viewModel&&!!this.steps?.length&&null!=this.min&&null!=this.max}get canPrevious(){const{_ascending:e,min:t,max:i,steps:s,viewModel:l}=this;if(null==e||null==t||null==i||!s?.length||!l)return!1;const{values:o}=l,n=o?.[0];return null==n||(e?n!==s[0]:n!==s[s.length-1])}render(){const{labels:e,labelFormatFunction:t,min:i,max:s,steps:l,minorTicks:o,majorTicks:n,reversed:r,viewModel:u}=this;if(!u)return(0,d.K)("div",null);const{disabled:a,layout:h}=u,p=`${h}${r?"-reversed":""}`,c="position",v=[];return null!=i&&null!=s&&(o&&v.push({mode:c,values:o,tickCreatedFunction:this._minorTickCreatedFunction}),n&&v.push({mode:c,values:n,tickCreatedFunction:this._majorTickCreatedFunction}),e&&v.push({mode:c,values:e,labelsVisible:!0}),this.visibleElements.steps&&this.steps&&v.push({mode:c,values:this.steps,tickCreatedFunction:this._stepsTickCreatedFunction})),this._slider.set({disabled:a,labelFormatFunction:t,layout:p,min:i,max:s,steps:l,tickConfigs:v}),(0,d.K)("div",{class:_},this._slider.render(),this._renderToolTip())}animate(e){this._step(1,e)}next(){this._step(this._ascending?1:-1)}previous(){this._step(this._ascending?-1:1)}_onTooltipAfterCreate(e){this._tooltip=e}_renderToolTip(){if(!this.visibleElements.thumbTooltip||!this._thumbNode||!this._slider.values)return null;const e=this._slider.viewModel.getLabelForValue(this._slider.values[0],"value");return e?(0,d.K)("calcite-tooltip",{afterCreate:this._onTooltipAfterCreate,class:m.tooltip,referenceElement:this._thumbNode},e):null}_step(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.viewModel||!this.steps?.length)return;if(!this.viewModel.values||!this.steps.includes(this.viewModel.values[0]))return void(this.viewModel.values=[this.steps[0]]);const i=this.steps.indexOf(this.viewModel.values[0])+e;i<0||i>=this.steps.length?this.viewModel.loop||t?this.viewModel.values=[this.steps[1===e?0:this.steps.length-1]]:"playing"===this.viewModel.state&&this.viewModel.pause():this.viewModel.values=[this.steps[i]]}};(0,s._)([(0,n.MZ)()],b.prototype,"_ascending",null),(0,s._)([(0,n.MZ)()],b.prototype,"canNext",null),(0,s._)([(0,n.MZ)()],b.prototype,"canPlay",null),(0,s._)([(0,n.MZ)()],b.prototype,"canPrevious",null),(0,s._)([(0,n.MZ)()],b.prototype,"labelFormatFunction",void 0),(0,s._)([(0,n.MZ)()],b.prototype,"labels",void 0),(0,s._)([(0,n.MZ)()],b.prototype,"min",void 0),(0,s._)([(0,n.MZ)()],b.prototype,"minorTicks",void 0),(0,s._)([(0,n.MZ)()],b.prototype,"majorTicks",void 0),(0,s._)([(0,n.MZ)()],b.prototype,"max",void 0),(0,s._)([(0,n.MZ)({nonNullable:!0})],b.prototype,"reversed",void 0),(0,s._)([(0,n.MZ)()],b.prototype,"steps",void 0),(0,s._)([(0,n.MZ)()],b.prototype,"type",void 0),(0,s._)([(0,n.MZ)({type:v,nonNullable:!0})],b.prototype,"visibleElements",void 0),b=(0,s._)([(0,r.$)("esri.widgets.ValuePicker.ValuePickerSlider")],b);const k=b}}]);
//# sourceMappingURL=78848.4b4efed4.chunk.js.map