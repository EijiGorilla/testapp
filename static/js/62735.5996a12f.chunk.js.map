{"version":3,"file":"static/js/62735.5996a12f.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/widgets/Bookmarks/BookmarksViewModel.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../Viewpoint.js\";import o from\"../../core/Collection.js\";import i from\"../../core/Error.js\";import a from\"../../core/Evented.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{cast as n}from\"../../core/accessorSupport/decorators/cast.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{SlideThumbnail as c}from\"../../webdoc/support/SlideThumbnail.js\";import p from\"../../webmap/Bookmark.js\";import l from\"../support/GoTo.js\";const m=o.ofType(p),u={width:128,height:128,format:\"png\"},k={takeScreenshot:!0,captureViewpoint:!0,captureRotation:!0,captureScale:!0,captureTimeExtent:!0},w={time:!0};let d=class extends(l(a.EventedAccessor)){constructor(t){super(t),this.capabilities={...w},this.activeBookmark=null,this.view=null}destroy(){this.view=null,this._set(\"activeBookmark\",null)}castCapabilities(t){return{...w,...t}}get bookmarks(){return this.view?.map?.bookmarks??new m}set bookmarks(t){this._overrideIfSome(\"bookmarks\",t)}set defaultCreateOptions(t){this._set(\"defaultCreateOptions\",{...k,...t})}get defaultCreateOptions(){return k}set defaultEditOptions(t){this._set(\"defaultEditOptions\",{...k,...t})}get defaultEditOptions(){return k}get state(){const{view:t}=this;return t&&!t.ready?\"loading\":\"ready\"}async createBookmark(t){const{view:e,defaultCreateOptions:o,capabilities:a}=this;if(!e)throw new i(\"create-bookmark:invalid-view\",\"Cannot create a bookmark without a view.\");const{takeScreenshot:r,screenshotSettings:n,captureViewpoint:s,captureRotation:c,captureScale:l,captureTimeExtent:m}={...o,...t},u=r?await this._createThumbnail(n):void 0,k=a.time&&m&&null!=e.timeExtent?e.timeExtent.clone():void 0;return new p({...u&&{thumbnail:u},...m&&{timeExtent:k},...s&&{viewpoint:this._createViewpoint({view:e,captureScale:l,captureRotation:c})}})}async editBookmark(t,e){if(!t)return t;const{view:o,defaultEditOptions:a}=this;if(!o)throw new i(\"edit-bookmark:invalid-view\",\"Cannot edit a bookmark without a view.\");const{takeScreenshot:r,screenshotSettings:n,captureViewpoint:s,captureRotation:c,captureScale:p,captureTimeExtent:l}={...a,...e},m=r?await this._createThumbnail(n):void 0;return m&&(t.thumbnail=m),s&&(t.viewpoint=this._createViewpoint({view:o,captureScale:p,captureRotation:c})),l&&null!=o.timeExtent&&(t.timeExtent=o.timeExtent.clone()),this.emit(\"bookmark-edit\",{bookmark:t}),t}goTo(t){const{capabilities:e,view:o}=this;if(!o)throw new i(\"go-to:invalid-view\",\"Cannot go to a bookmark without a view\");const a=t?.viewpoint;if(!a)throw new i(\"go-to:invalid-bookmark\",\"Cannot go to a bookmark that does not contain a 'viewpoint'.\",{bookmark:t});this._set(\"activeBookmark\",t);const r=this.callGoTo({target:a}),n=t?.timeExtent;return e.time&&n&&(o.timeExtent=n),this.emit(\"bookmark-select\",{bookmark:t}),r.catch((()=>{})).then((()=>this._set(\"activeBookmark\",null))),r}async _createThumbnail(t){const{view:e}=this;if(!e)throw new i(\"bookmark:invalid-view\",\"Cannot create slide thumbnail without a view\");const o=await e.takeScreenshot({...u,...t});return new c({url:o.dataUrl})}_createViewpoint({view:t,captureRotation:o,captureScale:i}){const a=t.viewpoint?.clone();return new e({targetGeometry:t.extent?.clone(),rotation:(o?a?.rotation:null)??0,scale:(i?a?.scale:null)??0})}};t([r()],d.prototype,\"capabilities\",void 0),t([n(\"capabilities\")],d.prototype,\"castCapabilities\",null),t([r({readOnly:!0})],d.prototype,\"activeBookmark\",void 0),t([r({type:m})],d.prototype,\"bookmarks\",null),t([r()],d.prototype,\"defaultCreateOptions\",null),t([r()],d.prototype,\"defaultEditOptions\",null),t([r({readOnly:!0})],d.prototype,\"state\",null),t([r()],d.prototype,\"view\",void 0),d=t([s(\"esri.widgets.Bookmarks.BookmarksViewModel\")],d);const h=d;export{h as default};\n"],"names":["m","o","ofType","p","u","width","height","format","k","takeScreenshot","captureViewpoint","captureRotation","captureScale","captureTimeExtent","w","time","d","l","a","EventedAccessor","constructor","t","super","this","capabilities","activeBookmark","view","destroy","_set","castCapabilities","bookmarks","map","_overrideIfSome","defaultCreateOptions","defaultEditOptions","state","ready","createBookmark","e","i","r","screenshotSettings","n","s","c","_createThumbnail","timeExtent","clone","thumbnail","viewpoint","_createViewpoint","editBookmark","emit","bookmark","goTo","callGoTo","target","catch","then","url","dataUrl","_ref","targetGeometry","extent","rotation","scale","prototype","readOnly","type","h"],"sourceRoot":""}