{"version":3,"file":"static/js/87539.d7689015.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/editing/templateUtils.js","../node_modules/@arcgis/core/undoredo/support/ServiceVersionInfo.js","../node_modules/@arcgis/core/undoredo/support/Services.js","../node_modules/@arcgis/core/editing/sharedTemplates/templateDefinitions/templateDefinitionUtils.js","../node_modules/@arcgis/core/widgets/FeatureTemplates/TemplateItemGroup.js","../node_modules/@arcgis/core/widgets/FeatureTemplates/FeatureTemplatesViewModel.js","../node_modules/@arcgis/core/widgets/FeatureTemplates/featureTemplatesUtils.js","../node_modules/@arcgis/core/widgets/FeatureTemplates/TemplateItem.js","../node_modules/@arcgis/core/portal/support/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../core/Logger.js\";import{getOrCreateMapValue as t}from\"../core/MapUtils.js\";import{throwIfAborted as r}from\"../core/promiseUtils.js\";import{addMaybe as n}from\"../core/SetUtils.js\";import{isFeatureTemplateDefinition as i,isGroupTemplateDefinition as o,isPresetTemplateDefinition as s}from\"./sharedTemplates/templateDefinitions/templateDefinitionUtils.js\";import{isSubtypeGroupLayer as a,isSubtypeSublayer as l,isFeatureLayer as f}from\"../layers/support/layerUtils.js\";import{getServices as u}from\"../undoredo/support/Services.js\";const p=()=>e.getLogger(\"esri.editing.templateUtils\");function c(e){return null!=e&&\"prototype\"in e}function m(e){return d(e)&&!(\"definition\"in e)}function y(e){return d(e)&&\"definition\"in e}function d(e){return null!=e&&\"templateId\"in e}function g(e){return y(e)&&\"feature\"===e?.type&&(null==e.definition||i(e.definition))}function w(e){return y(e)&&\"group\"===e?.type&&(null==e.definition||o(e.definition))}function A(e){return y(e)&&\"preset\"===e?.type&&(null==e.definition||s(e.definition))}function v(e){return y(e)&&null!=e?.definition}const S=e=>{if(null==e||\"object\"!=typeof e)return[];return[...\"templates\"in e&&Array.isArray(e.templates)?e.templates:[],...\"types\"in e&&Array.isArray(e.types)?e.types.flatMap((e=>e.templates)):[]]};async function b(e,t,n){if(null==t)return e.map((e=>({layer:e,templates:S(e)})));const i=await M(e,t);r(n);const o=new Map,s=Array.from(i).map((e=>h({serviceInfo:e,out:o,signal:n,view:t}))),a=await Promise.allSettled(s);for(const r of a.filter((e=>\"rejected\"===e.status)))p().warn(\"Failed to fetch shared templates for service. Will use standard templates if available.\",r.reason);return e.map((e=>({layer:e,templates:o.get(e)??S(e)})))}async function h({serviceInfo:e,out:t,signal:n}){const{featureService:i,layersAndTables:o}=e,s=await j({featureService:i,layers:o.toArray(),signal:n});r(n);for(const[r,l]of s.entries())if(0!==l.length)if(a(r)){const e=U(l),n=[],i=e.get(1/0)??n;for(const o of r.sublayers){const r=e.get(o.subtypeCode)??n;t.set(o,[...r,...i])}}else t.set(r,l)}async function j({featureService:e,layers:r,signal:n}){if(!e.capabilities?.editing.supportsSharedTemplates)return new Map;const i=new Map(r.map((e=>[e.layerId,e]))),o=await e.querySharedTemplates({query:{layers:Array.from(i.keys())},requestOptions:{signal:n}}),s=new Map;for(const a of o)for(const e of a.layerIds)i.has(e)&&t(s,i.get(e),(()=>[])).push(a);return s}async function M(e,t){const r=await u(t).load(),i=new Set;for(const o of e)n(i,L(r,o));return await Promise.all(Array.from(i).map((e=>e.featureService.load()))),i}function L(e,t){return l(t)&&t.parent?e.tablesAndLayersLookup.get(t.parent):f(t)?e.tablesAndLayersLookup.get(t):null}function U(e){const r=new Map;for(const n of e)t(r,n.subtypeCode??1/0,(()=>[])).push(n);return r}export{S as getAllStandardFeatureTemplatesForLayer,L as getServiceInfoForLayer,b as getTemplatesForLayers,v as isLoadedSharedTemplate,g as isSharedFeatureTemplate,w as isSharedGroupTemplate,A as isSharedPresetTemplate,y as isSharedTemplate,m as isSharedTemplateMetadata,d as isSharedTemplateOrMetadata,c as isStandardFeatureTemplate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import o from\"../../core/Accessor.js\";import r from\"../../core/Collection.js\";import{property as t}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";let n=class extends o{constructor(e){super(e),this.layers=new r,this.lockType=\"none\",this.tables=new r,this.versionInfo=null,this.versionService=null}get layersAndTables(){return new r([...this.layers.toArray(),...this.tables.toArray()])}updateLockType(){this.lockType=this.versionInfo?this.versionService.getLockType(this.versionInfo.versionIdentifier)??\"none\":\"none\"}get featureServiceVersion(){return this.featureService.sourceJSON?.currentVersion??0}};e([t({constructOnly:!0})],n.prototype,\"canCreateVersion\",void 0),e([t({constructOnly:!0})],n.prototype,\"canEditVersionedData\",void 0),e([t({constructOnly:!0})],n.prototype,\"featureService\",void 0),e([t({constructOnly:!0})],n.prototype,\"layers\",void 0),e([t()],n.prototype,\"layersAndTables\",null),e([t()],n.prototype,\"lockType\",void 0),e([t({constructOnly:!0})],n.prototype,\"tables\",void 0),e([t()],n.prototype,\"versionInfo\",void 0),e([t({constructOnly:!0})],n.prototype,\"versionService\",void 0),e([t()],n.prototype,\"hasAdvancedEditingUserTypeExtension\",void 0),e([t()],n.prototype,\"loggedInServiceUser\",void 0),e([t()],n.prototype,\"featureServiceVersion\",null),n=e([s(\"esri.undoredo.support.ServiceVersionInfo\")],n);export{n as ServiceVersionInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{id as i}from\"../../kernel.js\";import r from\"../../core/Collection.js\";import s from\"../../core/Error.js\";import n from\"../../core/Evented.js\";import t from\"../../core/Loadable.js\";import o from\"../../core/Logger.js\";import{getOrCreateMapValue as a}from\"../../core/MapUtils.js\";import d from\"../../core/Promise.js\";import{debounce as c,throwIfAborted as v}from\"../../core/promiseUtils.js\";import l from\"../../core/ReactiveMap.js\";import{watch as p,whenOnce as u}from\"../../core/reactiveUtils.js\";import{normalize as f}from\"../../core/urlUtils.js\";import{property as m}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as h}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as g}from\"../../core/support/UpdatingHandles.js\";import{parse as w}from\"../../layers/support/arcgisLayerUrl.js\";import{isSubtypeGroupLayer as y,isFeatureLayer as S}from\"../../layers/support/layerUtils.js\";import I from\"../../portal/Portal.js\";import{hasUserTypeExtension as _}from\"../../portal/support/utils.js\";import b from\"../../rest/featureService/FeatureService.js\";import{ServiceVersionInfo as L}from\"./ServiceVersionInfo.js\";import V from\"../../versionManagement/VersionManagementService.js\";function U(e){return!e||0===e.trim().length}const A=new Map;function T(e){return a(A,e,(()=>{const i=new j({view:e});return e.addHandles({remove(){A.delete(e),i.destroy()}}),i.load().catch((e=>{o.getLogger(\"esri.views.Services\").error(\"Failed to load service metadata\",e)})),i}))}let j=class extends(t.LoadableMixin(d.EsriPromiseMixin(n.EventedAccessor))){constructor(e){super(e),this._updatingHandles=new g,this.items=new r,this.tablesAndLayersLookup=new l,this.additionalLayers=new r,this._debouncedCheckAndUpdateServiceInfos=c((async()=>{const e=[];for(const i of this.items){if(0===i.layersAndTables.length)continue;const r=i.layersAndTables.getItemAt(0);r?.gdbVersion!==i.versionInfo?.versionIdentifier.name&&e.push(i)}0!==e.length&&(await u((()=>!this.updating)),await this._updateVersionInfos(e))})),this._debouncedLayersChanged=c((async()=>{const e=this._detectNewLayersAndTables();0!==e.length&&(await u((()=>!this._updatingHandles.updating)),await this._updatingHandles.addPromise((async()=>{const i=new Set;for(const s of e)if(\"feature\"===s.type||\"subtype-group\"===s.type){if(!s.url)continue;const e=w(s.url).url.path,n=this._findServiceInfo(e);if(n)this.tablesAndLayersLookup.set(s,n),s.isTable?n.tables.push(s):n.layers.push(s);else if(!i.has(e))try{await this._addServiceInfo(e,s)}catch(r){o.getLogger(this).error(`Failed to load feature service: ${e}`,r)}finally{i.add(e)}}})()))})),this._processed=new Set}destroy(){this._set(\"view\",null),this.items.removeAll(),this.tablesAndLayersLookup.clear()}async load(e){return v(e),this.addHandles([p((()=>this._allLayersAndTables),(()=>{this._debouncedLayersChanged().catch((e=>{o.getLogger(this).warn(\"Failed to update service info\",e)}))})),p((()=>this.items.map((e=>e.layersAndTables.map((e=>e.gdbVersion??\"\")).join(\",\")))),(()=>{this.checkAndUpdateServiceInfos().catch((e=>{o.getLogger(this).warn(\"Failed to update service info\",e)}))}))]),this.addResolvingPromise(this._debouncedLayersChanged()),this}get updating(){return\"loading\"===this.loadStatus||this._updatingHandles.updating}checkAndUpdateServiceInfos(){return this._debouncedCheckAndUpdateServiceInfos()}changeVersion(e,i,r){return this._updatingHandles.addPromise((async()=>{await this._changeVersionInternal(e,i,r)})())}createVersion(e){return this._updatingHandles.addPromise((async()=>{const i=e.featureServerUrl,r=this._findServiceInfo(i);if(!r?.versionService)throw new s(\"services:no-version-management-service\");const n=r.hasAdvancedEditingUserTypeExtension,t=r.loggedInServiceUser.toUpperCase(),o=U(e.ownerName)?t:e.ownerName?.trim().toUpperCase();if(o!==t){if(r.featureServiceVersion<=11.1)throw new s(\"services:versioning-api-error\");if(!n)throw new s(\"services:no-advanced-editing-user-type-extension\")}if(\"SDE\"===o?.toUpperCase()&&\"DEFAULT\"===e.versionName.toUpperCase())throw new s(\"services:no-valid-version-name\");{const i=await r.versionService.getVersionInfos();if(i?.find((i=>i.versionIdentifier.name.toUpperCase()===(o+\".\"+e.versionName).toUpperCase()||i.versionIdentifier.name.toUpperCase()===(t+\".\"+e.versionName).toUpperCase())))throw new s(\"services:no-valid-version-name\")}const a=await r.versionService.createVersion({versionName:e.versionName,access:o!==t?\"public\":e.access,description:e.description});if(o!==t){const{guid:i,name:s}=a.versionIdentifier;await r.versionService.alterVersion({guid:i,name:s},{ownerName:o,access:e.access})}e.switchToVersion&&await this._changeVersionInternal(i,a.versionIdentifier.name,a.versionIdentifier.guid),this.emit(\"version-created\",{versionIdentifier:a.versionIdentifier,versionManagementService:r.versionService})})())}deleteVersion(e,i,r){return this._updatingHandles.addPromise((async()=>{const n=this._findServiceInfo(e);if(!n?.versionService)throw new s(\"services:no-version-management-service\");if(n.featureServiceVersion<=11.1)throw new s(\"services:versioning-api-error\");if(!n.hasAdvancedEditingUserTypeExtension)throw new s(\"services:no-advanced-editing-user-type-extension\");const t={name:i,guid:r};await n.versionService.deleteVersion(t)&&(await this._updateVersionInfo(n),this.emit(\"version-deleted\",{versionIdentifier:t,versionManagementService:n.versionService}))})())}startEditing(e){return this._updatingHandles.addPromise((async()=>{const i=this._findServiceInfo(e);if(!i?.versionService)throw new s(\"services:no-version-management-service\");if(!i.hasAdvancedEditingUserTypeExtension)throw new s(\"services:no-advanced-editing-user-type-extension\");const r=i.versionInfo?.versionIdentifier??{name:i.versionService.defaultVersionIdentifier.name,guid:i.versionService.defaultVersionIdentifier.guid};let n=!0;(\"none\"!==i.versionService.getLockType(r)||(n=await i.versionService.startReading(r),n))&&(n=await i.versionService.startEditing(r),i.updateLockType())})())}finishEditing(e,i){return this._updatingHandles.addPromise((async()=>{const r=this._findServiceInfo(e);if(!r?.versionService)throw new s(\"services:no-version-management-service\");if(!r.hasAdvancedEditingUserTypeExtension)throw new s(\"services:no-advanced-editing-user-type-extension\");const n=r.versionInfo?.versionIdentifier??{name:r.versionService.defaultVersionIdentifier.name,guid:r.versionService.defaultVersionIdentifier.guid},t=r.versionService.getLockType(n);if(\"none\"!==t)return\"read\"===t?(await r.versionService.stopReading(n),void r.updateLockType()):\"edit\"===t?(await r.versionService.stopEditing(n,i),await r.versionService.stopReading(n),void r.updateLockType()):void 0})())}async _changeVersionInternal(e,i,r){const n=this._findServiceInfo(e);if(!n?.versionService)throw new s(\"services:no-version-management-service\");const t=n.versionInfo?.versionIdentifier??{name:n.versionService.defaultVersionIdentifier.name,guid:n.versionService.defaultVersionIdentifier.guid},o={name:i,guid:r};await n.versionService.changeVersion(this.view?.map,t,o)&&await this._updateVersionInfo(n)}async _updateVersionInfo(e){const i=e.versionService;if(!i)return;if(0===e.layersAndTables.length)return;const r=e.layersAndTables.getItemAt(0)?.gdbVersion,s=r?await i.getVersionIdentifierFromName(r):i.defaultVersionIdentifier;e.versionInfo=await i.getVersionInfoExtended(s)}_findServiceInfo(e){return this.items.find((i=>i.featureService.url===e))??null}_removeFeatureService(e){this.items.remove(e)}async _findPortal(e){const r=i?.findServerInfo(e??\"\");if(!r?.owningSystemUrl)return null;const s=`${r.owningSystemUrl}/sharing/rest`,n=I.getDefault();if(n?.loaded&&f(n.restUrl)===f(s))return n;return new I({authMode:\"immediate\",url:r.owningSystemUrl}).load()}_updateVersionInfos(e){return this._updatingHandles.addPromise((async()=>{for(const i of e)await this._updateVersionInfo(i).catch((e=>{o.getLogger(this).error(\"Failed to update version details\",e)}))})())}async _addServiceInfo(e,i){const s=new b({url:e});await s.load();const n=await this._findPortal(e),t=n?.user?.username;let o=!1;t&&(o=await _(n,t,\"advediting\"));let a=null;s.versionManagementServiceUrl&&(a=new V({url:s.versionManagementServiceUrl}),await a.load());const d=i.isTable?[]:[i],c=i.isTable?[i]:[],v=new L({loggedInServiceUser:t??\"\",hasAdvancedEditingUserTypeExtension:o,versionInfo:null,lockType:\"none\",canEditVersionedData:!0,canCreateVersion:!0,featureService:s,versionService:a,layers:new r(d),tables:new r(c)});return a&&await this._updateVersionInfo(v),this.items.push(v),this.tablesAndLayersLookup.set(i,v),i.isTable?v.tables.push(i):v.layers.push(i),v}get _allLayersAndTables(){return[...this.view.map.allLayers,...this.view.map.allTables,...this.additionalLayers]}_detectNewLayersAndTables(){const e=new Set(this._allLayersAndTables),i=[];for(const r of e)\"feature\"!==r.type&&\"subtype-group\"!==r.type||this._processed.has(r)||i.push(r);for(const r of this._processed)if(!e.has(r)&&(y(r)||S(r))){const e=this.tablesAndLayersLookup.get(r);if(!e)continue;this.tablesAndLayersLookup.delete(r),r.isTable?e.tables.remove(r):e.layers.remove(r),0===e.layersAndTables.length&&this._removeFeatureService(e)}return this._processed=e,i}};e([m({constructOnly:!0})],j.prototype,\"view\",void 0),e([m()],j.prototype,\"items\",void 0),e([m()],j.prototype,\"tablesAndLayersLookup\",void 0),e([m()],j.prototype,\"additionalLayers\",void 0),e([m()],j.prototype,\"updating\",null),e([m()],j.prototype,\"_allLayersAndTables\",null),j=e([h(\"esri.undoredo.support.Services\")],j);export{j as Services,T as getServices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nfunction t(t){return\"feature\"===t.type}function e(t){return\"group\"===t.type}function r(t){return\"preset\"===t.type}export{t as isFeatureTemplateDefinition,e as isGroupTemplateDefinition,r as isPresetTemplateDefinition};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import r from\"../../core/Identifiable.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";let i=class extends(r.IdentifiableMixin(e)){constructor(t){super(t),this.allItems=[],this.filterFunction=null,this.label=null}get items(){const{filterFunction:t}=this;return null==t||t(this)?this.allItems:this.allItems.filter(t)}get id(){return this.label}reapplyFilter(){this.notifyChange(\"filterFunction\")}findByTemplate(t){return this.items.find((e=>e.template===t))}};t([o()],i.prototype,\"allItems\",void 0),t([o()],i.prototype,\"filterFunction\",void 0),t([o()],i.prototype,\"items\",null),t([o()],i.prototype,\"label\",void 0),t([o()],i.prototype,\"id\",null),i=t([s(\"esri.widgets.FeatureTemplates.TemplateItemGroup\")],i);const l=i;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{createTask as e}from\"../../core/asyncUtils.js\";import s from\"../../core/Evented.js\";import{abortMaybe as l}from\"../../core/maybe.js\";import{throwIfAborted as o}from\"../../core/promiseUtils.js\";import{watch as r,when as i,syncAndInitial as a,sync as n}from\"../../core/reactiveUtils.js\";import{property as p}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as m}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as u}from\"../../core/support/UpdatingHandles.js\";import{getTemplatesForLayers as d,isSharedTemplateOrMetadata as c}from\"../../editing/templateUtils.js\";import{getEffectiveLayerCapabilities as h,isSubtypeGroupLayer as y}from\"../../layers/support/layerUtils.js\";import{isTemplateItemGroup as f,mapItemsByTemplate as g,isTemplateGroupInfo as _,loadLayerWithTemplates as I,makeTemplateItemInfos as F,makeGroupItemInfos as b,nullGroupBy as v}from\"./featureTemplatesUtils.js\";import T from\"./TemplateItem.js\";import j from\"./TemplateItemGroup.js\";const B=({layer:t})=>({key:t,label:t.title??\"\"}),w=({layer:t})=>({key:t.geometryType,label:t.geometryType??\"\"});let k=class extends s.EventedAccessor{constructor(t){super(t),this._allItems=[],this._updatingHandles=new u,this._updateTask=null,this.disabled=!1,this.disabledItemFunction=null,this.filterFunction=null,this.selectedItem=null,this.templateInfos=null,this.view=null}initialize(){this._get(\"groupBy\")||(this.groupBy=\"layer\"),this.addHandles([r((()=>[this.templateInfos,this.layers]),(([t],e)=>{t&&t===e?.at(0)||(this._updateTask=l(this._updateTask),t?this._updateAllItems(t):this._getTemplatesAndUpdateAllItems())}),a),r((()=>this._groupByFunction),(()=>{null==this.templateInfos&&(this._updateTask=l(this._updateTask),this._getTemplatesAndUpdateAllItems())}),n),r((()=>this.filterFunction),(t=>{for(const e of this._allItems)f(e)&&(e.filterFunction=t)}),n)])}set groupBy(t){if(this._set(\"groupBy\",t),\"function\"!=typeof t)switch(t){case\"layer\":this._groupByFunction=B;break;case\"geometry\":this._groupByFunction=w;break;default:this._groupByFunction=null}else this._groupByFunction=e=>this._ensureGroupByObject(t(e))}get layers(){return this._get(\"layers\")}set layers(t){const e=\"layers\";if(this.removeHandles(e),t){const s=()=>this.notifyChange(\"state\");this.addHandles(t.map((t=>i((()=>t.loadStatus),s))),e)}this._set(\"layers\",t)}get state(){return this.updating?\"loading\":0!==this.layers.length||this.templateInfos?.length?\"ready\":\"disabled\"}get numberOfFeatureTemplates(){return this._allItems.reduce(((t,e)=>f(e)?t+e.allItems.length:t+1),0)}get items(){const{filterFunction:t}=this;return null==t?this._allItems:this._allItems.filter((e=>f(e)?e.items.length>0:t(e)))}get updating(){return this._updatingHandles.updating}refresh(){this.notifyChange(\"filterFunction\");for(const t of this._allItems)f(t)&&t.reapplyFilter()}select(t,{emit:e=!0}={}){const s=this.selectedItem,l=t?.clone()||null;this._set(\"selectedItem\",l),e&&this.emit(\"select\",{item:l,oldItem:s,template:l?.template??null})}_createItem(t,e){return new T({disabledFunction:this.disabledItemFunction,layer:e,template:t})}_ensureGroupByObject(t){return\"string\"==typeof t?{key:t,label:t}:t}_updateAllItems(t){const e=this._allItems;if(0===t.length)return A(e),void(this._allItems=[]);const[s,l]=g(e),o=t=>{const e=s.get(t.template);return e?(s.delete(t.template),e):this._createItem(t.template,t.layer)},{filterFunction:r}=this,i=t.filter(U).map((t=>_(t)?new j({filterFunction:r,label:t.label,allItems:t.templateInfos.filter(U).map((t=>o(t)))}):o(t)));for(const a of[...s.values(),...l])a.destroy();this._allItems=i}async _getTemplatesFromLayers(t){const e=[],s={signal:t};await Promise.all(this.layers.map((async l=>{await I(l,s),o(t);const r=h(l)?.operations;r?.supportsEditing&&r?.supportsAdd&&(y(l)?e.push(...l.sublayers):e.push(l))})));const l=await d(e,this.view,t);o(t);const r=F(l),i=this._groupByFunction;if(null==i)return r;const a=b(r,i);return 1===a.length&&a[0].label===v.label?a[0].templateInfos:a}async _getTemplatesAndUpdateAllItems(){if(0===this.layers.length)return;const t=e((async t=>{const e=await this._getTemplatesFromLayers(t);o(t),this._updateAllItems(e)}));this._updateTask=t,this._updatingHandles.addPromise(t.promise)}};function A(t){for(const e of t){if(f(e))for(const t of e.items)t.destroy();e.destroy()}}function U(t){return _(t)?t.templateInfos.some(U):!c(t.template)||!1!==t.template.visible}t([p()],k.prototype,\"_allItems\",void 0),t([p()],k.prototype,\"_groupByFunction\",void 0),t([p()],k.prototype,\"_updatingHandles\",void 0),t([p()],k.prototype,\"disabled\",void 0),t([p()],k.prototype,\"disabledItemFunction\",void 0),t([p({value:null})],k.prototype,\"filterFunction\",void 0),t([p()],k.prototype,\"groupBy\",null),t([p({value:[]})],k.prototype,\"layers\",null),t([p()],k.prototype,\"state\",null),t([p({readOnly:!0})],k.prototype,\"numberOfFeatureTemplates\",null),t([p({readOnly:!0})],k.prototype,\"items\",null),t([p({readOnly:!0})],k.prototype,\"selectedItem\",void 0),t([p()],k.prototype,\"templateInfos\",void 0),t([p()],k.prototype,\"updating\",null),t([p()],k.prototype,\"view\",void 0),k=t([m(\"esri.widgets.FeatureTemplates.FeatureTemplatesViewModel\")],k);const H=k;export{H as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getOrCreateMapValue as t}from\"../../core/MapUtils.js\";const e={key:Symbol(),label:\"Other​\"};function n(t){return\"templateInfos\"in t}function o(t){const e=[];for(const{layer:n,templates:o}of t)for(const t of o)e.push({layer:n,template:t});return e}function a(n,o){const a=new Map;for(const l of n){const n=o(l),{key:r,label:s}=null!=n.key?n:e;t(a,r,(()=>({label:s,templateInfos:[]}))).templateInfos.push(l)}return Array.from(a.values())}function l(t,e){return{label:t.title??\"\",templateInfos:e.map((e=>({layer:t,template:e})))}}async function r(t,e){return\"subtype-sublayer\"===t.type?await(t.parent?.load(e)):await t.load(e),t}function s(t){const e=new Map,n=[];for(const o of t)if(f(o)){n.push(o);for(const t of o.items)e.set(t.template,t)}else e.set(o.template,o);return[e,n]}const f=t=>\"items\"in t;export{n as isTemplateGroupInfo,f as isTemplateItemGroup,r as loadLayerWithTemplates,a as makeGroupItemInfos,l as makeTemplateGroupInfoForLayer,o as makeTemplateItemInfos,s as mapItemsByTemplate,e as nullGroupBy};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import{watch as l,initial as r}from\"../../core/reactiveUtils.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";var o;let n=o=class extends e{constructor(t){super(t),this._activeFetchInfo={id:null,request:null},this.disabledFunction=null,this.layer=null,this.template=null,this.thumbnail=null}initialize(){this.addHandles(l((()=>{const{layer:t}=this;return[t&&\"renderer\"in t?t.renderer:null,this.template]}),(()=>{this._activeFetchInfo.id=null,this._activeFetchInfo.request=null,this._set(\"thumbnail\",null)}),r))}get description(){return this.template?.description}set description(t){this.template&&(this.template.description=t)}get disabled(){return this.disabledFunction?.(this)??!1}get label(){return this.template?.name}set label(t){this.template&&(this.template.name=t)}get id(){return`${this.label??\"\"}–${this.layer?.id}`}get supportsUpload(){return\"scene\"===this.layer?.type}clone(){const t=null!=this.thumbnail?this.thumbnail.cloneNode(!0):null,e=new o({layer:this.layer,template:this.template});return e._set(\"thumbnail\",t),e}};t([s()],n.prototype,\"description\",null),t([s()],n.prototype,\"disabled\",null),t([s()],n.prototype,\"disabledFunction\",void 0),t([s()],n.prototype,\"label\",null),t([s()],n.prototype,\"layer\",void 0),t([s()],n.prototype,\"template\",void 0),t([s()],n.prototype,\"thumbnail\",void 0),t([s()],n.prototype,\"id\",null),t([s()],n.prototype,\"supportsUpload\",null),n=o=t([i(\"esri.widgets.FeatureTemplates.TemplateItem\")],n);const a=n;export{a as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{id as e}from\"../../kernel.js\";import n from\"../../request.js\";async function r(r,t,s){const u=e?.findCredential(r.restUrl);if(!u)return null;if(\"loaded\"===r.loadStatus&&\"\"===t&&r.user?.sourceJSON&&!1===s)return r.user.sourceJSON;const o={responseType:\"json\",query:{f:\"json\"}};if(s&&(o.query.returnUserLicenseTypeExtensions=!0),\"\"===t){const e=await n(r.restUrl+\"/community/self\",o);if(e.data){const n=e.data;if(n?.username)return n}return null}const i=await n(r.restUrl+\"/community/users/\"+t,o);if(i.data){const e=i.data;return e.error?null:e}return null}async function t(e,n,t){const s=await r(e,n,!0);return s?.privileges?.includes(t)??!1}async function s(e,n,t){const s=await r(e,n,!0);return s?.userLicenseTypeExtensions?.includes(t)??!1}export{t as hasPrivilege,s as hasUserTypeExtension,r as lookupUser};\n"],"names":["p","e","getLogger","c","m","d","y","g","type","definition","i","w","o","A","s","v","S","Array","isArray","templates","types","flatMap","async","b","t","n","map","layer","r","u","load","Set","L","Promise","all","from","featureService","M","Map","_ref","serviceInfo","out","signal","layersAndTables","_ref2","layers","capabilities","editing","supportsSharedTemplates","layerId","querySharedTemplates","query","keys","requestOptions","a","layerIds","has","get","push","j","toArray","l","entries","length","U","sublayers","subtypeCode","set","h","view","allSettled","filter","status","warn","reason","parent","tablesAndLayersLookup","f","constructor","super","this","lockType","tables","versionInfo","versionService","updateLockType","getLockType","versionIdentifier","featureServiceVersion","sourceJSON","currentVersion","constructOnly","prototype","T","addHandles","remove","delete","destroy","catch","error","LoadableMixin","EsriPromiseMixin","EventedAccessor","_updatingHandles","items","additionalLayers","_debouncedCheckAndUpdateServiceInfos","getItemAt","gdbVersion","name","updating","_updateVersionInfos","_debouncedLayersChanged","_detectNewLayersAndTables","addPromise","url","path","_findServiceInfo","isTable","_addServiceInfo","add","_processed","_set","removeAll","clear","_allLayersAndTables","join","checkAndUpdateServiceInfos","addResolvingPromise","loadStatus","changeVersion","_changeVersionInternal","createVersion","featureServerUrl","hasAdvancedEditingUserTypeExtension","loggedInServiceUser","toUpperCase","trim","ownerName","versionName","getVersionInfos","find","access","description","guid","alterVersion","switchToVersion","emit","versionManagementService","deleteVersion","_updateVersionInfo","startEditing","defaultVersionIdentifier","startReading","finishEditing","stopReading","stopEditing","getVersionIdentifierFromName","getVersionInfoExtended","_removeFeatureService","_findPortal","findServerInfo","owningSystemUrl","I","getDefault","loaded","restUrl","authMode","user","username","_","versionManagementServiceUrl","V","canEditVersionedData","canCreateVersion","allLayers","allTables","IdentifiableMixin","allItems","filterFunction","label","id","reapplyFilter","notifyChange","findByTemplate","template","B","key","title","geometryType","k","_allItems","_updateTask","disabled","disabledItemFunction","selectedItem","templateInfos","initialize","_get","groupBy","_ref3","at","_updateAllItems","_getTemplatesAndUpdateAllItems","_groupByFunction","_ensureGroupByObject","removeHandles","state","numberOfFeatureTemplates","reduce","refresh","select","arguments","undefined","clone","item","oldItem","_createItem","disabledFunction","values","_getTemplatesFromLayers","operations","supportsEditing","supportsAdd","F","promise","some","visible","value","readOnly","H","Symbol","_activeFetchInfo","request","thumbnail","renderer","supportsUpload","cloneNode","findCredential","responseType","returnUserLicenseTypeExtensions","data","privileges","includes","userLicenseTypeExtensions"],"sourceRoot":""}