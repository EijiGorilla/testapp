{"version":3,"file":"static/js/91043.34d3bda2.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/MeasurementArrow.glsl.js","../node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurement/DirectLineMeasurementController.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/MeasurementArrowTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/MeasurementArrowTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/MeasurementArrowMaterial.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/MeasurementArrowVisualElement.js","../node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurement/DirectLineMeasurementVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/DirectLineMeasurementAnalysisView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{addProjViewLocalOrigin as e}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{Float4PassUniform as t}from\"../views/3d/webgl-engine/core/shaderModules/Float4PassUniform.js\";import{FloatPassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as r}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{VertexAttribute as i}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{ShaderBuilder as n}from\"../views/webgl/ShaderBuilder.js\";import{alphaCutoff as s}from\"../webscene/support/AlphaCutoff.js\";function d(d){const a=new n,{vertex:l,fragment:c}=a;e(l,d),l.uniforms.add(new o(\"width\",(e=>e.width))),a.attributes.add(i.POSITION,\"vec3\"),a.attributes.add(i.NORMAL,\"vec3\"),a.attributes.add(i.UV0,\"vec2\"),a.attributes.add(i.LENGTH,\"float\"),a.varyings.add(\"vtc\",\"vec2\"),a.varyings.add(\"vlength\",\"float\"),a.varyings.add(\"vradius\",\"float\"),l.main.add(r`vec3 bitangent = normal;\nvtc = uv0;\nvlength = length;\nvradius = 0.5 * width;\nvec4 pos = view * vec4(position + vradius * bitangent * uv0.y, 1.0);\ngl_Position = proj * pos;`),c.uniforms.add(new o(\"outlineSize\",(e=>e.outlineSize)),new t(\"outlineColor\",(e=>e.outlineColor)),new o(\"stripeLength\",(e=>e.stripeLength)),new t(\"stripeEvenColor\",(e=>e.stripeEvenColor)),new t(\"stripeOddColor\",(e=>e.stripeOddColor)));const v=1/Math.sqrt(2);return c.code.add(r`\n    const float INV_SQRT2 = ${r.float(v)};\n\n    vec4 arrowColor(vec2 tc, float len) {\n      float d = INV_SQRT2 * (tc.x - abs(tc.y));\n      d = min(d, INV_SQRT2 * (len - tc.x - abs(tc.y)));\n      d = min(d, 1.0 - abs(tc.y));\n\n      if (d < 0.0) {\n        return vec4(0.0);\n      }\n      if (d < outlineSize) {\n        return outlineColor;\n      }\n      return fract(0.5 / stripeLength * tc.x * vradius) >= 0.5 ? stripeOddColor : stripeEvenColor;\n    }`),c.main.add(r`\n    vec2 ntc = vec2(vtc.x / vradius, vtc.y);\n    vec4 color = arrowColor(ntc, vlength / vradius);\n    if (color.a < ${r.float(s)}) {\n      discard;\n    }\n    fragColor = color;`),a}const a=Object.freeze(Object.defineProperty({__proto__:null,build:d},Symbol.toStringTag,{value:\"Module\"}));export{a as M,d as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import i from\"../../../../core/Logger.js\";import{toUnit as o}from\"../../../../core/quantityUtils.js\";import{watch as r,syncAndInitial as s}from\"../../../../core/reactiveUtils.js\";import{adaptiveLengthUnit as n,adaptiveVerticalLengthUnit as a}from\"../../../../core/unitUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{MeasurementMode as u}from\"../interfaces.js\";import{applyProjectionAndElevationAlignment as p,logFailedGeometryProjectionError as m}from\"../support/projectionUtils.js\";import{euclideanDistanceBetweenPoints as d}from\"../../../support/euclideanLengthMeasurementUtils.js\";import{geodesicDistanceBetweenPoints as v}from\"../../../support/geodesicLengthMeasurementUtils.js\";let h=class extends e{constructor(t){super(t)}initialize(){this.addHandles([r((()=>({viewData:this.viewData,startPoint:this.analysis.startPoint})),(({viewData:t,startPoint:e})=>{t.elevationAlignedStartPoint=this._applyProjectionAndElevationAlignment(e)}),s),r((()=>({viewData:this.viewData,endPoint:this.analysis.endPoint})),(({viewData:t,endPoint:e})=>{t.elevationAlignedEndPoint=this._applyProjectionAndElevationAlignment(e)}),s),r((()=>({result:this._computedResult,viewData:this.viewData})),(({result:t,viewData:e})=>{e.result=t}),s)])}_applyProjectionAndElevationAlignment(t){if(null==t)return t;const{spatialReference:e,elevationProvider:o}=this.view,r=p(t,e,o);return r??(m(this.analysis,t.spatialReference,i.getLogger(this)),null)}get _computedResult(){const{elevationAlignedStartPoint:t,elevationAlignedEndPoint:e,measurementMode:i,unit:r}=this.viewData;if(null==t||null==e)return null;const s=d(t,e),l=v(t,e);if(null==s)return null;let c,p;switch(i){case u.Auto:p=null!=l?\"geodesic\":\"euclidean\",c=l??s.horizontal;break;case u.Geodesic:if(null==l)return null;p=\"geodesic\",c=l;break;case u.Euclidean:p=\"euclidean\",c=s.horizontal}let m=s.direct,h=s.vertical;const f=n(m.value,m.unit,r),g=n(c.value,c.unit,r),j=a(h.value,h.unit,r);return m=o(m,f),c=o(c,g),h=o(h,j),{mode:p,directDistance:m,horizontalDistance:c,verticalDistance:h}}};t([l()],h.prototype,\"view\",void 0),t([l()],h.prototype,\"analysis\",void 0),t([l()],h.prototype,\"viewData\",void 0),t([l()],h.prototype,\"_computedResult\",null),h=t([c(\"esri.views.3d.analysis.DirectLineMeasurement.DirectLineMeasurementController\")],h);export{h as DirectLineMeasurementController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{blending as t}from\"../lib/OrderIndependentTransparency.js\";import{VertexAttribute as o}from\"../lib/VertexAttribute.js\";import{M as n}from\"../../../../chunks/MeasurementArrow.glsl.js\";import{PrimitiveType as s,CompareFunction as i}from\"../../../webgl/enums.js\";import{makePipelineState as l,defaultDepthWrite as p,defaultColorWrite as a}from\"../../../webgl/renderState.js\";class m extends r{constructor(r,t){super(r,t,new e(n,(()=>import(\"./MeasurementArrow.glsl.js\"))),u),this.primitiveType=s.TRIANGLE_STRIP}initializePipeline(e){return l({blending:e.transparent?t(e.oitPass):null,polygonOffset:e.polygonOffsetEnabled?{factor:0,units:-4}:null,depthTest:{func:i.LESS},depthWrite:p,colorWrite:a})}}const u=new Map([[o.POSITION,0],[o.NORMAL,1],[o.UV0,2],[o.LENGTH,3]]);export{m as MeasurementArrowTechnique,u as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as t}from\"../materials/DefaultTechniqueConfiguration.js\";class r extends t{constructor(){super(...arguments),this.polygonOffsetEnabled=!1,this.transparent=!1}}e([o()],r.prototype,\"polygonOffsetEnabled\",void 0),e([o()],r.prototype,\"transparent\",void 0);export{r as MeasurementArrowTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{i as t,n as e,d as r,e as s,j as o,t as i}from\"../../../../chunks/vec32.js\";import{create as n}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{fromValues as a}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{newLayout as c}from\"../../support/buffer/InterleavedLayout.js\";import{isColorOrColorEmission as l}from\"../core/shaderLibrary/ShaderOutput.js\";import u from\"../lib/GLMaterial.js\";import{Material as f,MaterialParameters as p}from\"../lib/Material.js\";import{RenderSlot as h}from\"../lib/RenderSlot.js\";import{VertexAttribute as m}from\"../lib/VertexAttribute.js\";import{vertexAttributeLocations as d,MeasurementArrowTechnique as g}from\"../shaders/MeasurementArrowTechnique.js\";import{MeasurementArrowTechniqueConfiguration as O}from\"../shaders/MeasurementArrowTechniqueConfiguration.js\";import{alphaCutoff as A}from\"../../../../webscene/support/AlphaCutoff.js\";class b extends f{constructor(t){super(t,T),this._configuration=new O,this.vertexAttributeLocations=d,this.produces=new Map([[h.OPAQUE_MATERIAL,t=>!this._transparent&&l(t)],[h.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,t=>this._transparent&&l(t)]])}getConfiguration(t,e){return this._configuration.polygonOffsetEnabled=this.parameters.polygonOffset,this._configuration.transparent=this._transparent,this._configuration.oitPass=e.oitPass,this._configuration}get visible(){const{outlineColor:t,stripeEvenColor:e,stripeOddColor:r}=this.parameters;return t[3]>=A||e[3]>=A||r[3]>=A}intersect(){}createGLMaterial(t){return new v(t)}createBufferWriter(){return new E}get _transparent(){const{parameters:t}=this;return t.outlineColor[3]<1||t.stripeEvenColor[3]<1||t.stripeOddColor[3]<1}}class v extends u{beginSlot(t){return this.getTechnique(g,t)}}class T extends p{constructor(){super(...arguments),this.width=32,this.outlineSize=.2,this.outlineColor=a(1,.5,0,1),this.stripeEvenColor=a(1,1,1,1),this.stripeOddColor=a(1,.5,0,1),this.stripeLength=1,this.polygonOffset=!1}}const j=c().vec3f(m.POSITION).vec3f(m.NORMAL).vec2f(m.UV0).f32(m.LENGTH),C=n(),_=n(),L=n(),M=n(),w=n();class E{constructor(){this.vertexBufferLayout=j}elementCount(t){return 2*(t.get(m.POSITION).indices.length/2+1)}write(n,a,c,l,u,f){const{data:p,indices:h}=c.get(m.POSITION),d=c.get(m.NORMAL).data,g=p.length/3;h&&h.length!==2*(g-1)&&console.warn(\"MeasurementArrowMaterial does not support indices\");const O=C,A=_,b=L,v=M,T=w,j=u.position,E=u.normal,I=u.uv0;let x=0;for(let m=0;m<g;++m){const c=3*m;if(t(O,p[c],p[c+1],p[c+2]),m<g-1){const o=3*(m+1);t(A,p[o],p[o+1],p[o+2]),t(T,d[o],d[o+1],d[o+2]),e(T,T),r(b,A,O),e(b,b),s(v,T,b),e(v,v)}const l=o(O,A);n&&a&&(i(O,O,n),i(A,A,n),i(v,v,a));const u=f+2*m,h=u+1;j.setVec(u,O),j.setVec(h,O),E.setVec(u,v),E.setVec(h,v),I.set(u,0,x),I.set(u,1,-1),I.set(h,0,x),I.set(h,1,1),m<g-1&&(x+=l)}const N=u.length;for(let t=0;t<2*g;++t)N.set(f+t,x)}}export{b as MeasurementArrowMaterial,T as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{colorVectorEquals as e}from\"../../../../core/colorUtils.js\";import t from\"../../../../core/Handles.js\";import{destroyMaybe as r}from\"../../../../core/maybe.js\";import{watch as s}from\"../../../../core/reactiveUtils.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{c as i,a,e as n,H as l,d as h}from\"../../../../chunks/vec32.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{c as d}from\"../../../../chunks/vec42.js\";import{create as m}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{sv3d as _}from\"../../../../geometry/support/vectorStacks.js\";import{Object3DVisualElement as p}from\"./Object3DVisualElement.js\";import{headingTiltToDirectionUp as g}from\"../../support/cameraUtils.js\";import{createDirectionUp as u}from\"../../support/cameraUtilsInternal.js\";import{createPolylineGeometry as w}from\"../../webgl-engine/lib/GeometryUtil.js\";import{RenderOccludedFlag as f}from\"../../webgl-engine/lib/Material.js\";import{MeasurementArrowMaterial as C}from\"../../webgl-engine/materials/MeasurementArrowMaterial.js\";class y extends p{constructor(e){super(e),this._arrowWidth=16,this._arrowSubdivisions=128,this._origin=c(),this._originTransform=o(),this._arrowCenter=c(),this._renderOccluded=f.OccludeAndTransparent,this._geometry=null,this._stripeLength=1,this._stripesEnabled=!0,this._color=m(),this._contrastColor=m(),this.applyProperties(e)}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._arrowMaterial?.setParameters({renderOccluded:e}))}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this._geometryChanged()}get stripeLength(){return this._stripeLength}set stripeLength(e){this._stripeLength=e,this.attached&&this._arrowMaterial.setParameters({stripeLength:this._stripeLength})}get stripesEnabled(){return this._stripesEnabled}set stripesEnabled(e){if(this._stripesEnabled=e,this.attached){const e=this._stripesEnabled?this._contrastColor:this._color;this._arrowMaterial.setParameters({stripeEvenColor:e})}}get color(){return this._color}set color(t){e(t,this._color)||(d(this._color,t),this._updateArrowColor())}get contrastColor(){return this._contrastColor}set contrastColor(t){e(t,this._color)||(d(this._contrastColor,t),this._updateArrowColor())}createExternalResources(){const e=this._color,r=this._contrastColor,o=this._stripesEnabled?r:e;this._arrowMaterial=new C({outlineColor:e,stripeEvenColor:o,stripeOddColor:e,renderOccluded:this.renderOccluded,polygonOffset:!0,isDecoration:this.isDecoration}),this._handles=new t,this._handles.add(s((()=>this.view.state.camera),(()=>{this._viewChanged()})))}destroyExternalResources(){this._arrowMaterial=null,this._handles=r(this._handles)}forEachExternalMaterial(e){e(this._arrowMaterial)}createGeometries(e){if(null==this._geometry?.startRenderSpace||null==this._geometry.endRenderSpace)return;const t=this._createArrowGeometry(this._geometry.startRenderSpace,this._geometry.endRenderSpace,this._origin,this._geometry);t.transformation=this._originTransform,e.addGeometry(t),this._viewChanged()}_createArrowGeometry(e,t,r,s){const o=this.view,a=o.renderCoordsHelper,n=[],l=[],c=(e,t)=>{const s=_.get();h(s,e,r),n.push(s),l.push(t)};if(\"euclidean\"===s.type){s.eval(.5,this._arrowCenter);const r=_.get();if(a.worldUpAtPosition(this._arrowCenter,r),v(e,t,r)){const{heading:t,tilt:s}=o.camera,{direction:a}=g(o,e,t,s,j);i(r,a)}c(e,r),c(t,r)}else{s.eval(.5,this._arrowCenter);const e=this._arrowSubdivisions+1&-2;for(let t=0;t<e;++t){const r=t/(e-1),o=_.get(),i=_.get();s.eval(r,o),a.worldUpAtPosition(o,i),c(o,i)}}return w(this._arrowMaterial,n,l)}_geometryChanged(){this.recreateGeometry()}_viewChanged(){if(this.view.ready&&this.attached&&null!=this._geometry){const e=this.view.state.camera.computeScreenPixelSizeAt(this._arrowCenter);this._arrowMaterial.setParameters({width:this._arrowWidth*e})}}_updateArrowColor(){if(!this.attached)return;const e=this._color,t=this._contrastColor,r=this._stripesEnabled?t:e,s=e,o=e;this._arrowMaterial.setParameters({stripeEvenColor:r,outlineColor:s,stripeOddColor:o})}}function v(e,t,r){const s=a(b,t,e),o=n(b,s,r);return 0===l(o)}const b=c(),j=u();export{y as MeasurementArrowVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import\"../../../../intl.js\";import t from\"../../../../core/Accessor.js\";import{unitRGBAFromColor as i,multiplyOpacityToUnitRGBA as s,getContrast as n,BrightnessThreshold as o,multiplyOpacity as r}from\"../../../../core/colorUtils.js\";import\"../../../../core/has.js\";import{nextHighestPowerOfTen as l,deg2rad as a}from\"../../../../core/mathUtils.js\";import{destroyMaybe as c}from\"../../../../core/maybe.js\";import{formatDecimal as d,formatImperialLength as h,formatImperialVerticalLength as u,formatMetricLength as m,formatMetricVerticalLength as g}from\"../../../../core/quantityFormatUtils.js\";import{toUnit as p}from\"../../../../core/quantityUtils.js\";import{watch as _,syncAndInitial as v,initial as b}from\"../../../../core/reactiveUtils.js\";import{createRenderScreenPointArray3 as L,createRenderScreenPointArray as w}from\"../../../../core/screenUtils.js\";import{adaptiveImperialLengthUnit as S,convertUnit as f}from\"../../../../core/unitUtils.js\";import{property as y}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as A}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{dot as E}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{h as V,g as P}from\"../../../../chunks/vec32.js\";import{create as z}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{MeasurementMode as j}from\"../interfaces.js\";import{ViewMode as M,VisualElementOrientation as C}from\"./interfaces.js\";import{renderScreenSpaceTangent as O}from\"../../interactive/support/viewUtils.js\";import{LabelVisualElement as D,mirrorPosition as x}from\"../../interactive/visualElements/LabelVisualElement.js\";import{LineVisualElement as G}from\"../../interactive/visualElements/LineVisualElement.js\";import{MeasurementArrowVisualElement as H}from\"../../interactive/visualElements/MeasurementArrowVisualElement.js\";import{RightAngleQuadVisualElement as T}from\"../../interactive/visualElements/RightAngleQuadVisualElement.js\";import{GeodesicSegment as k,EuclideanSegment as U}from\"../../interactive/visualElements/support/Segment.js\";import{RenderOccludedFlag as R}from\"../../webgl-engine/lib/Material.js\";import{createStipplePatternSimple as F}from\"../../webgl-engine/materials/lineStippleUtils.js\";import{geodesicDistanceThreshold as Q}from\"../../../support/geodesicMeasurementUtils.js\";import{onLocaleChange as q}from\"../../../../intl/locale.js\";import{fetchMessageBundle as B}from\"../../../../intl/messages.js\";let W=class extends t{get _parameters(){const e=this.view.effectiveTheme,{accentColor:t,textColor:l}=e,a=i(t),c=s(t,.75),d=i(n(t)),h=n(l,o.Low);return{accentColor:a,contrastColor:d,translucentAccentColor:c,triangleLineWidth:3,geodesicProjectionLineWidth:2,guideLineWidth:2,guideStippleLengthPixels:3,directLabelFontSize:16,horizontalLabelFontSize:12,verticalLabelFontSize:12,textColor:l,textBackgroundColor:r(h,.6),textCalloutColor:r(h,.5)}}get visible(){return this.analysisView.visible}get viewMode(){const{elevationAlignedStartPoint:e,elevationAlignedEndPoint:t}=this.analysisView;if(null==e||null==t||e.equals(t))return M.None;const i=this.analysisView.result;if(null==i)return M.Direct;if(\"geodesic\"===this.actualVisualizedMeasurement)return this._requiresGeodesicGuideAt(this._startPosition)||this._requiresGeodesicGuideAt(this._endPosition)?M.ProjectedGeodesic:M.Direct;const{verticalDistance:s,horizontalDistance:n}=i,o=p(s,\"meters\").value,r=p(n,\"meters\").value;return Math.min(o/r,r/o)<this.triangleCollapseRatioThreshold?M.Direct:M.Triangle}get actualVisualizedMeasurement(){const{measurementMode:e,result:t}=this.analysisView;switch(e){case j.Auto:return null!=t&&p(t.horizontalDistance,\"meters\").value>Q?\"geodesic\":\"euclidean\";case j.Euclidean:return\"euclidean\";case j.Geodesic:return\"geodesic\"}}get allowVisualElementsOrientationChange(){return null==this._triangleOrientationOverride}set allowVisualElementsOrientationChange(e){null==this._triangleOrientationOverride!==e&&(null==this._triangleOrientationOverride?this._triangleOrientationOverride=this._actualVisualElementsOrientation:this._triangleOrientationOverride=null)}get labels(){return\"geodesic\"===this.actualVisualizedMeasurement?{direct:null,horizontal:this._segmentLabel,vertical:this._verticalLabel}:{direct:this._segmentLabel,horizontal:this._horizontalLabel,vertical:this._verticalLabel}}constructor(e){super(e),this._segmentVisualElement=null,this._triangleVisualElement=null,this._rightAngleQuad=null,this._projectedGeodesicLine=null,this._geodesicStartHint=null,this._geodesicEndHint=null,this._segmentLabel=null,this._verticalLabel=null,this._horizontalLabel=null,this._startPosition=z(),this._endPosition=z(),this._cornerPosition=z(),this._startPositionAtSeaLevel=z(),this._endPositionAtSeaLevel=z(),this._triangleOrientationOverride=null,this.messages=null,this.loadingMessages=!0,this.visualElementOrientation=C.Auto,this.triangleCollapseRatioThreshold=.03}initialize(){const e=this._parameters,t={attached:!0,view:this.view,isDecoration:!0},{guideLineWidth:i,guideStippleLengthPixels:s,triangleLineWidth:n,geodesicProjectionLineWidth:o,directLabelFontSize:r,verticalLabelFontSize:l,horizontalLabelFontSize:a}=e;this._segmentVisualElement=new H({...t,geometry:null,renderOccluded:R.OccludeAndTransparent}),this._triangleVisualElement=new G({...t,width:n,renderOccluded:R.OccludeAndTransparent}),this._rightAngleQuad=new T({...t,renderOccluded:R.OccludeAndTransparent});const c={...t,polygonOffset:!0,renderOccluded:R.OccludeAndTransparent};this._projectedGeodesicLine=new G({...c,width:o,stipplePattern:F(s)}),this._geodesicStartHint=new G({...c,width:i,stipplePattern:F(s)}),this._geodesicEndHint=new G({...c,width:i,stipplePattern:F(s)}),this._segmentLabel=new D({...t,fontSize:r}),this._verticalLabel=new D({...t,fontSize:l}),this._horizontalLabel=new D({...t,fontSize:a}),this.addHandles([_((()=>{const{elevationAlignedStartPoint:e,elevationAlignedEndPoint:t}=this.analysisView,i=this.view;return{view:i,camera:i.state.camera,viewMode:this.viewMode,elevationAlignedStartPoint:e,elevationAlignedEndPoint:t,orientation:this._actualVisualElementsOrientation,visualizedMeasurement:this.actualVisualizedMeasurement,stripeLength:this._measurementArrowStripeLength}}),(e=>this._updateGeometryAndViewMode(e)),v),_((()=>({visible:this.visible,viewMode:this.viewMode})),(e=>this._updateVisualElementVisibility(e)),v),_((()=>({text:this._labelsText,visualizedMeasurement:this.actualVisualizedMeasurement})),(e=>this._updateLabelText(e)),v),_((()=>({visible:this.visible,viewMode:this.viewMode})),(e=>this._updateLabelVisibility(e)),v),_((()=>this._measurementArrowStripeLength),(e=>this._updateSegmentStripeLength(e)),v),q((async()=>this._updateMessageBundle())),_((()=>this._parameters),(({textBackgroundColor:e,textCalloutColor:t,textColor:i,translucentAccentColor:s,accentColor:n,contrastColor:o})=>{const{_segmentLabel:r,_verticalLabel:l,_horizontalLabel:a,_triangleVisualElement:c,_rightAngleQuad:d,_projectedGeodesicLine:h,_geodesicStartHint:u,_geodesicEndHint:m,_segmentVisualElement:g}=this;r.backgroundColor=e,r.calloutColor=t,r.textColor=i,l.backgroundColor=e,l.calloutColor=t,l.textColor=i,a.backgroundColor=e,a.calloutColor=t,a.textColor=i,c.color=s,d.color=s,h.color=s,u.color=s,m.color=s,g.color=n,g.contrastColor=o}),b)]),this._updateMessageBundle()}destroy(){this._segmentVisualElement=c(this._segmentVisualElement),this._triangleVisualElement=c(this._triangleVisualElement),this._rightAngleQuad=c(this._rightAngleQuad),this._projectedGeodesicLine=c(this._projectedGeodesicLine),this._geodesicStartHint=c(this._geodesicStartHint),this._geodesicEndHint=c(this._geodesicEndHint),this._segmentLabel=c(this._segmentLabel),this._verticalLabel=c(this._verticalLabel),this._horizontalLabel=c(this._horizontalLabel),this.set(\"view\",null)}_updateVisualElementVisibility({visible:e,viewMode:t}){if(this._segmentVisualElement.visible=!1,this._triangleVisualElement.visible=!1,this._rightAngleQuad.visible=!1,this._projectedGeodesicLine.visible=!1,this._geodesicStartHint.visible=!1,this._geodesicEndHint.visible=!1,e)switch(t){case M.None:break;case M.Direct:this._segmentVisualElement.visible=!0;break;case M.Triangle:this._segmentVisualElement.visible=!0,this._triangleVisualElement.visible=!0,this._rightAngleQuad.visible=!0;break;case M.ProjectedGeodesic:this._segmentVisualElement.visible=!0,this._projectedGeodesicLine.visible=!0,this._geodesicStartHint.visible=!0,this._geodesicEndHint.visible=!0}}_updateGeometryAndViewMode({view:e,camera:t,viewMode:i,elevationAlignedStartPoint:s,elevationAlignedEndPoint:n,orientation:o,visualizedMeasurement:r,stripeLength:l}){const a=e.renderCoordsHelper;if(null==a||null==s||null==n||s.equals(n))return;let c=this._startPosition,d=this._endPosition;a.toRenderCoords(s,c),a.toRenderCoords(n,d);const h=o===C.AboveSegment?1:-1,u=h*(a.getAltitude(d)-a.getAltitude(c));u<0&&(c=this._endPosition,d=this._startPosition);const m=\"geodesic\"===r?new k(this._startPosition,this._endPosition,a.spatialReference):new U(this._startPosition,this._endPosition);switch(this._segmentVisualElement.geometry=m,this._updateSegmentStripeLength(l),i){case M.Direct:this._updateSegment(m,o);break;case M.Triangle:this._updateSegmentAndTriangle({view:e,camera:t,segment:m,orientation:o,startPosition:c,endPosition:d,deltaSign:h,altitudeDelta:u});break;case M.ProjectedGeodesic:this._updateSegmentAndProjection({view:e,orientation:o,startPosition:c,endPosition:d})}}_updateSegment(e,t){this._segmentLabel.anchor=t===C.AboveSegment?\"top\":\"bottom\",this._segmentLabel.geometry={type:\"segment\",segment:e,sampleLocation:\"center\"}}_updateSegmentAndTriangle({view:{renderCoordsHelper:e},camera:t,segment:i,orientation:s,startPosition:n,endPosition:o,deltaSign:r,altitudeDelta:l}){const a=this._cornerPosition;e.worldUpAtPosition(n,a),V(a,a,r*Math.abs(l)),P(a,a,n),this._triangleVisualElement.geometry=[[[n[0],n[1],n[2]],[a[0],a[1],a[2]],[o[0],o[1],o[2]]]],this._rightAngleQuad.geometry={previous:n,center:a,next:o};const c=new U(n,a),d=new U(a,o),h=N(n,o,a,s,t);this._segmentLabel.anchor=h.segment,this._segmentLabel.geometry={type:\"segment\",segment:i,sampleLocation:\"center\"},this._verticalLabel.geometry={type:\"segment\",segment:c,sampleLocation:\"center\"},this._verticalLabel.anchor=h.vertical,this._horizontalLabel.geometry={type:\"segment\",segment:d,sampleLocation:\"center\"},this._horizontalLabel.anchor=h.horizontal}_updateSegmentAndProjection({view:{renderCoordsHelper:e},orientation:t,startPosition:i,endPosition:s}){e.setAltitude(this._startPositionAtSeaLevel,0,i),e.setAltitude(this._endPositionAtSeaLevel,0,s);const n=new k(this._startPositionAtSeaLevel,this._endPositionAtSeaLevel,e.spatialReference);this._projectedGeodesicLine.setGeometryFromSegment(n),this._geodesicStartHint.setGeometryFromSegment(new U(this._startPositionAtSeaLevel,i)),this._geodesicEndHint.setGeometryFromSegment(new U(this._endPositionAtSeaLevel,s)),this._segmentLabel.geometry={type:\"segment\",segment:n,sampleLocation:\"center\"},this._segmentLabel.anchor=t===C.AboveSegment?\"top\":\"bottom\"}_updateLabelText({text:e,visualizedMeasurement:t}){null!=e?(this._segmentLabel.text=\"euclidean\"===t?e.directDistance:e.horizontalDistance,this._horizontalLabel.text=e.horizontalDistance,this._verticalLabel.text=e.verticalDistance):(this._segmentLabel.text=null,this._horizontalLabel.text=null,this._verticalLabel.text=null),this.notifyChange(\"labels\")}_updateLabelVisibility({visible:e,viewMode:t}){const i=this._segmentLabel,s=this._horizontalLabel,n=this._verticalLabel;if(i.visible=!1,s.visible=!1,n.visible=!1,e)switch(t){case M.Direct:i.visible=!0;break;case M.Triangle:i.visible=!0,s.visible=!0,n.visible=!0;break;case M.ProjectedGeodesic:i.visible=!0;case M.None:}}get _labelsText(){if(this.destroyed)return null;const e=this.messages,t=this.analysisView.result;if(null==t||null==e)return null;const{directDistance:i,horizontalDistance:s,verticalDistance:n}=t,o=this.analysisView.unit,r=e=>({directDistance:\"\",horizontalDistance:\"\",verticalDistance:\"\",...e});switch(o){case\"metric\":return r({directDistance:i&&m(e,i),horizontalDistance:s&&m(e,s),verticalDistance:n&&g(e,n)});case\"imperial\":return r({directDistance:i&&h(e,i),horizontalDistance:s&&h(e,s),verticalDistance:n&&u(e,n)});default:return r({directDistance:i&&d(e,i,o),horizontalDistance:s&&d(e,s,o),verticalDistance:n&&d(e,n,o)})}}_updateSegmentStripeLength(e){const t=this._segmentVisualElement;null!=e?(t.stripeLength=e,t.stripesEnabled=!0):t.stripesEnabled=!1}get _actualVisualElementsOrientation(){if(null!=this._triangleOrientationOverride)return this._triangleOrientationOverride;const e=this.visualElementOrientation;return e===C.Auto?this.view.state.camera.aboveGround?C.AboveSegment:C.BelowSegment:e}_requiresGeodesicGuideAt(e){const t=this.view;if(!t?.state)return!1;const i=t.state.camera,s=t.renderCoordsHelper;if(!s)return!1;const n=i.computeScreenPixelSizeAt(e);return s.getAltitude(e)/n>=10}get _measurementArrowStripeLength(){const{result:e,unit:t}=this.analysisView;if(null==e)return null;let i=null;const s=e.directDistance;switch(t){case\"metric\":i=s&&p(s,\"meters\");break;case\"imperial\":i=s&&p(s,S(s.value,s.unit));break;default:i=s&&p(s,t)}if(null==i)return null;return l(i.value/30)*f(1,i.unit,\"meters\")}_updateMessageBundle(){this.loadingMessages=!0,B(\"esri/core/t9n/Units\").then((e=>{this.messages=e})).finally((()=>{this.loadingMessages=!1}))}get testData(){}};function N(e,t,i,s,n){const o=J,r=K;n.projectToRenderScreen(i,o),n.projectToRenderScreen(t,r);const l={segment:\"bottom\",horizontal:\"top\",vertical:o[0]<r[0]?\"left\":\"right\"};{const s=X,o=Y;if(O(e,i,n,s),O(e,t,n,o),E(s,o)>=I){const e=Math.sign(s[1])===Math.sign(o[1]);l.segment=e?x(l.vertical):l.vertical}else{const e=Z;O(i,t,n,e),E(e,o)>=I&&(l.segment=Math.sign(e[0])===Math.sign(o[0])?x(l.horizontal):l.horizontal)}}if(s===C.BelowSegment){const e=e=>\"top\"===e?\"bottom\":\"top\";l.segment=e(l.segment),l.horizontal=e(l.horizontal),l.vertical=e(l.vertical)}return l}e([y()],W.prototype,\"_parameters\",null),e([y()],W.prototype,\"_triangleOrientationOverride\",void 0),e([y()],W.prototype,\"messages\",void 0),e([y()],W.prototype,\"view\",void 0),e([y()],W.prototype,\"analysis\",void 0),e([y()],W.prototype,\"analysisView\",void 0),e([y()],W.prototype,\"loadingMessages\",void 0),e([y()],W.prototype,\"visible\",null),e([y()],W.prototype,\"viewMode\",null),e([y()],W.prototype,\"actualVisualizedMeasurement\",null),e([y()],W.prototype,\"visualElementOrientation\",void 0),e([y()],W.prototype,\"triangleCollapseRatioThreshold\",void 0),e([y()],W.prototype,\"allowVisualElementsOrientationChange\",null),e([y()],W.prototype,\"labels\",null),e([y()],W.prototype,\"_labelsText\",null),e([y()],W.prototype,\"_actualVisualElementsOrientation\",null),e([y()],W.prototype,\"_measurementArrowStripeLength\",null),W=e([A(\"esri.views.3d.analysis.DirectLineMeasurement.DirectLineMeasurementVisualization\")],W);const I=Math.cos(a(12)),J=L(),K=L(),X=w(),Y=w(),Z=w();export{W as DirectLineMeasurementVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import e from\"../../../core/Accessor.js\";import\"../../../core/has.js\";import{destroyMaybe as i}from\"../../../core/maybe.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{defaultUnitPropertyMetadata as l}from\"../../../properties/defaultUnit.js\";import{AnalysisView3D as n}from\"./AnalysisView3D.js\";import{MeasurementMode as o}from\"./interfaces.js\";import{DirectLineMeasurementController as r}from\"./DirectLineMeasurement/DirectLineMeasurementController.js\";import{DirectLineMeasurementVisualization as u}from\"./DirectLineMeasurement/DirectLineMeasurementVisualization.js\";let p=class extends(n(e)){constructor(t){super(t),this.type=\"direct-line-measurement-view-3d\",this.analysis=null,this.result=null,this.measurementMode=o.Auto,this.elevationAlignedStartPoint=null,this.elevationAlignedEndPoint=null}initialize(){const t=this.view,e=this.analysis;this._analysisVisualization=new u({view:t,analysis:e,analysisView:this}),this._analysisController=new r({view:t,analysis:e,viewData:this})}destroy(){this._analysisController=i(this._analysisController),this._analysisVisualization=i(this._analysisVisualization)}get updating(){return!!this._analysisVisualization?.loadingMessages}get viewMode(){return this._analysisVisualization.viewMode}get actualVisualizedMeasurement(){return this._analysisVisualization.actualVisualizedMeasurement}get visualElementOrientation(){return this._analysisVisualization.visualElementOrientation}set visualElementOrientation(t){this._analysisVisualization.visualElementOrientation=t}get allowVisualElementsOrientationChange(){return this._analysisVisualization.allowVisualElementsOrientationChange}set allowVisualElementsOrientationChange(t){this._analysisVisualization.allowVisualElementsOrientationChange=t}get triangleCollapseRatioThreshold(){return this._analysisVisualization.triangleCollapseRatioThreshold}set triangleCollapseRatioThreshold(t){this._analysisVisualization.triangleCollapseRatioThreshold=t}get directLabelText(){return this._analysisVisualization.labels.direct?.text??\"\"}get horizontalLabelText(){return this._analysisVisualization.labels.horizontal?.text??\"\"}get verticalLabelText(){return this._analysisVisualization.labels.vertical?.text??\"\"}get unit(){return this.analysis.unit??this._defaultUnit}get testData(){}};t([a()],p.prototype,\"updating\",null),t([a({readOnly:!0})],p.prototype,\"type\",void 0),t([a({constructOnly:!0,nonNullable:!0})],p.prototype,\"analysis\",void 0),t([a()],p.prototype,\"result\",void 0),t([a()],p.prototype,\"measurementMode\",void 0),t([a()],p.prototype,\"elevationAlignedStartPoint\",void 0),t([a()],p.prototype,\"elevationAlignedEndPoint\",void 0),t([a({readOnly:!0})],p.prototype,\"viewMode\",null),t([a({readOnly:!0})],p.prototype,\"actualVisualizedMeasurement\",null),t([a()],p.prototype,\"visualElementOrientation\",null),t([a()],p.prototype,\"allowVisualElementsOrientationChange\",null),t([a()],p.prototype,\"triangleCollapseRatioThreshold\",null),t([a({readOnly:!0})],p.prototype,\"directLabelText\",null),t([a({readOnly:!0})],p.prototype,\"horizontalLabelText\",null),t([a({readOnly:!0})],p.prototype,\"verticalLabelText\",null),t([a()],p.prototype,\"_analysisVisualization\",void 0),t([a()],p.prototype,\"_analysisController\",void 0),t([a()],p.prototype,\"unit\",null),t([a(l)],p.prototype,\"_defaultUnit\",void 0),p=t([s(\"esri.views.3d.analysis.DirectLineMeasurementAnalysisView3D\")],p);const y=p;export{y as default};\n"],"names":["d","a","n","vertex","l","fragment","c","e","uniforms","add","o","width","attributes","i","POSITION","NORMAL","UV0","LENGTH","varyings","main","r","outlineSize","t","outlineColor","stripeLength","stripeEvenColor","stripeOddColor","v","Math","sqrt","code","float","s","Object","freeze","defineProperty","__proto__","build","Symbol","toStringTag","value","h","constructor","super","initialize","this","addHandles","viewData","startPoint","analysis","_ref","elevationAlignedStartPoint","_applyProjectionAndElevationAlignment","endPoint","_ref2","elevationAlignedEndPoint","result","_computedResult","_ref3","spatialReference","elevationProvider","view","p","m","getLogger","measurementMode","unit","u","Auto","horizontal","Geodesic","Euclidean","direct","vertical","f","g","j","mode","directDistance","horizontalDistance","verticalDistance","prototype","primitiveType","TRIANGLE_STRIP","initializePipeline","blending","transparent","oitPass","polygonOffset","polygonOffsetEnabled","factor","units","depthTest","func","LESS","depthWrite","colorWrite","Map","arguments","b","T","_configuration","O","vertexAttributeLocations","produces","OPAQUE_MATERIAL","_transparent","TRANSPARENT_MATERIAL_WITHOUT_DEPTH","getConfiguration","parameters","visible","A","intersect","createGLMaterial","createBufferWriter","E","beginSlot","getTechnique","vec3f","vec2f","f32","C","_","L","M","w","vertexBufferLayout","elementCount","get","indices","length","write","data","console","warn","position","normal","I","uv0","x","setVec","set","N","y","_arrowWidth","_arrowSubdivisions","_origin","_originTransform","_arrowCenter","_renderOccluded","OccludeAndTransparent","_geometry","_stripeLength","_stripesEnabled","_color","_contrastColor","applyProperties","renderOccluded","_arrowMaterial","setParameters","geometry","_geometryChanged","attached","stripesEnabled","color","_updateArrowColor","contrastColor","createExternalResources","isDecoration","_handles","state","camera","_viewChanged","destroyExternalResources","forEachExternalMaterial","createGeometries","startRenderSpace","endRenderSpace","_createArrowGeometry","transformation","addGeometry","renderCoordsHelper","push","type","eval","worldUpAtPosition","heading","tilt","direction","recreateGeometry","ready","computeScreenPixelSizeAt","W","_parameters","effectiveTheme","accentColor","textColor","Low","translucentAccentColor","triangleLineWidth","geodesicProjectionLineWidth","guideLineWidth","guideStippleLengthPixels","directLabelFontSize","horizontalLabelFontSize","verticalLabelFontSize","textBackgroundColor","textCalloutColor","analysisView","viewMode","equals","None","Direct","actualVisualizedMeasurement","_requiresGeodesicGuideAt","_startPosition","_endPosition","ProjectedGeodesic","min","triangleCollapseRatioThreshold","Triangle","Q","allowVisualElementsOrientationChange","_triangleOrientationOverride","_actualVisualElementsOrientation","labels","_segmentLabel","_verticalLabel","_horizontalLabel","_segmentVisualElement","_triangleVisualElement","_rightAngleQuad","_projectedGeodesicLine","_geodesicStartHint","_geodesicEndHint","z","_cornerPosition","_startPositionAtSeaLevel","_endPositionAtSeaLevel","messages","loadingMessages","visualElementOrientation","H","R","G","stipplePattern","F","D","fontSize","orientation","visualizedMeasurement","_measurementArrowStripeLength","_updateGeometryAndViewMode","_updateVisualElementVisibility","text","_labelsText","_updateLabelText","_updateLabelVisibility","_updateSegmentStripeLength","q","async","_updateMessageBundle","backgroundColor","calloutColor","destroy","toRenderCoords","AboveSegment","getAltitude","k","U","_updateSegment","_updateSegmentAndTriangle","segment","startPosition","endPosition","deltaSign","altitudeDelta","_updateSegmentAndProjection","anchor","sampleLocation","_ref4","V","abs","P","previous","center","next","J","K","projectToRenderScreen","X","Y","sign","Z","BelowSegment","_ref5","setAltitude","setGeometryFromSegment","_ref6","notifyChange","_ref7","destroyed","aboveGround","S","B","then","finally","testData","cos","_analysisVisualization","_analysisController","updating","directLabelText","horizontalLabelText","verticalLabelText","_defaultUnit","readOnly","constructOnly","nonNullable"],"sourceRoot":""}