{"version":3,"file":"static/js/5718.929420ba.chunk.js","mappings":"yQAI60EA,eAAeC,EAAEC,GAAG,MAAMC,QAA9+CH,eAAiBG,GAAG,IAAIA,GAAGC,SAASD,EAAEE,OAAOF,EAAEG,iBAAiBH,EAAEI,eAAe,MAAM,IAAIL,EAAAA,QAAE,6CAA6C,qFAAqF,GAAGC,EAAEG,kBAAkBH,EAAEK,KAAK,MAAM,IAAIN,EAAAA,QAAE,6CAA6C,wDAAwDC,EAAEM,aAAYC,EAAAA,EAAAA,GAAEP,EAAE,2BAA2B,MAAMQ,EAAE,IAAIR,EAAEC,MAAMD,EAAEC,OAAOQ,EAAET,EAAEM,WAAWI,EAAAA,GAAEC,EAAAA,GAAEC,GAAEC,EAAAA,EAAAA,IAAEL,EAAEP,MAAMQ,EAAET,EAAEM,YAAY,IAAIM,EAAE,MAAM,IAAIb,EAAAA,QAAE,6CAA6C,wCAAuCe,EAAAA,EAAAA,IAAEL,GAAGM,KAAK,OAAOP,EAAEP,MAAMW,EAAE,MAAMI,EAAE,MAAMR,EAAES,OAAO,CAACA,OAAOT,EAAES,QAAQ,WAAWL,EAAEM,KAAKF,GAAG,MAAMG,QAAQC,EAAAA,EAAAA,IAAE,CAAClB,MAAMM,EAAEN,MAAMmB,mBAAmBb,EAAEa,mBAAmBlB,gBAAgBK,EAAEL,kBAAkBmB,GAAEC,EAAAA,EAAAA,IAAEX,EAAEO,EAAE,8CAA8C,GAAGG,EAAE,MAAMA,EAAE,OAAOd,CAAC,CAA0pBgB,CAAEzB,GAAG,IAAIS,EAAE,KAAK,OAAOA,EAAER,EAAEyB,WAAWzB,EAAEyB,iBAAiBH,EAAAA,EAAAA,IAAE,CAACrB,MAAMD,EAAEC,MAAMC,MAAMF,EAAEE,MAAMC,gBAAgBH,EAAEG,gBAAgBC,cAAcJ,EAAEI,cAAcsB,SAAS1B,EAAE0B,SAASC,kBAAkB3B,EAAEqB,mBAAmB,aAAQ,EAAOA,mBAAmBrB,EAAEqB,mBAAmBO,SAAS5B,EAAE4B,SAASC,SAAS7B,EAAE6B,SAASC,OAAO9B,EAAE8B,OAAOzB,KAAKL,EAAEK,KAAKY,OAAOjB,EAAEiB,SAAh/B,SAAWlB,EAAEuB,GAAG,MAAMC,EAAED,EAAErB,MAAMM,EAAEe,EAAEpB,MAAMkB,EAAEb,GAAK,mBAAmBA,EAAGgB,EAAEQ,SAASxB,GAAG,KAAKG,GAAEsB,EAAAA,EAAAA,IAAEZ,GAAGT,GAAEsB,EAAAA,EAAAA,IAAElC,GAAGc,GAAEqB,EAAAA,EAAAA,IAAEnC,EAAEW,GAAE,GAAII,EAAED,GAAG,CAACF,EAAE,GAAGA,EAAE,IAAIa,EAAE,IAAIZ,EAAAA,QAAE,CAACV,MAAMK,QAAG,EAAOJ,gBAAgBmB,EAAEnB,gBAAgBgC,qBAAqBb,EAAEa,qBAAqBd,mBAAmBC,EAAED,mBAAmBe,MAAM,CAAC,IAAIpB,EAAAA,QAAE,CAACqB,MAAMvB,EAAE,GAAGwB,QAAQ,KAAK,IAAItB,EAAAA,QAAE,CAACqB,MAAMvB,EAAE,GAAGwB,QAAQ,KAAKC,eAAcvC,EAAAA,EAAAA,IAAEmB,EAAAA,EAAEG,EAAEiB,iBAAiBC,EAAE,IAAI/B,EAAAA,QAAE,CAACgC,KAAK,UAAUC,eAAe,MAAMpB,EAAEM,SAASN,EAAEM,SAAS7B,EAAE4C,IAAIC,eAAe,MAAMtB,EAAEO,SAASP,EAAEO,SAAS9B,EAAE8C,MAAM/C,EAAE,IAAIU,EAAAA,QAAE,CAACsC,gBAAgB,CAACN,KAAK,OAAOO,QAAQC,QAAQ,CAACC,eAAezB,EAAEC,WAAW1B,EAAEmD,oBAAoBrC,EAAEsC,cAAcrD,GAAG,CAAmY0C,CAAEhC,EAAER,EAAE,C","sources":["../node_modules/@arcgis/core/smartMapping/renderers/opacity.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport i from\"../../core/Error.js\";import{ensureClass as e}from\"../../core/accessorSupport/ensureType.js\";import a from\"../../renderers/support/AuthoringInfo.js\";import r from\"../../renderers/support/AuthoringInfoVisualVariable.js\";import s from\"../../renderers/visualVariables/OpacityVariable.js\";import l from\"../../renderers/visualVariables/support/OpacityStop.js\";import o from\"../../renderers/visualVariables/support/VisualVariableLegendOptions.js\";import{getSummaryStatistics as n,verifyBasicFieldValidity as t,createStopValues as p,getDefaultDataRange as u}from\"./support/utils.js\";import{verifyBinningParams as m}from\"../support/binningUtils.js\";import{getFieldsList as f,isAnyDateField as d}from\"../support/utils.js\";import{binningCapableLayerTypes as v,featureCapableLayerTypes as c,createLayerAdapter as y,getLayerTypeLabels as x}from\"../support/adapters/support/layerUtils.js\";async function V(e){if(!e?.layer||!(e.field||e.valueExpression||e.sqlExpression))throw new i(\"opacity-visual-variable:missing-parameters\",\"'layer' and 'field', 'valueExpression' or 'sqlExpression' parameters are required\");if(e.valueExpression&&!e.view)throw new i(\"opacity-visual-variable:missing-parameters\",\"View is required when 'valueExpression' is specified\");e.forBinning&&m(e,\"opacity-visual-variable\");const a={...e,layer:e.layer},r=e.forBinning?v:c,s=y(a.layer,r,e.forBinning);if(!s)throw new i(\"opacity-visual-variable:invalid-parameters\",\"'layer' must be one of these types: \"+x(r).join(\", \"));a.layer=s;const l=null!=a.signal?{signal:a.signal}:null;await s.load(l);const o=await f({field:a.field,normalizationField:a.normalizationField,valueExpression:a.valueExpression}),n=t(s,o,\"opacity-visual-variable:invalid-parameters\");if(n)throw n;return a}function w(i,n){const t=n.layer,m=n.field,f=m&&!(\"function\"==typeof m)?t.getField(m):null,v=d(f),c=p(i),y=u(i,v,!0),x=y||[c[0],c[4]],V=new s({field:m??void 0,valueExpression:n.valueExpression,valueExpressionTitle:n.valueExpressionTitle,normalizationField:n.normalizationField,stops:[new l({value:x[0],opacity:.3}),new l({value:x[1],opacity:1})],legendOptions:e(o,n.legendOptions)}),w=new r({type:\"opacity\",minSliderValue:null!=n.minValue?n.minValue:i.min,maxSliderValue:null!=n.maxValue?n.maxValue:i.max}),g=new a({visualVariables:[w]});return Promise.resolve({visualVariable:V,statistics:i,defaultValuesUsed:!!y,authoringInfo:g})}async function g(i){const e=await V(i);let a=null;return a=e.statistics?e.statistics:await n({layer:e.layer,field:e.field,valueExpression:e.valueExpression,sqlExpression:e.sqlExpression,sqlWhere:e.sqlWhere,normalizationType:e.normalizationField?\"field\":void 0,normalizationField:e.normalizationField,minValue:e.minValue,maxValue:e.maxValue,filter:e.filter,view:e.view,signal:e.signal}),w(a,e)}export{g as createVisualVariable};\n"],"names":["async","g","i","e","layer","field","valueExpression","sqlExpression","view","forBinning","m","a","r","v","c","s","y","x","join","l","signal","load","o","f","normalizationField","n","t","V","statistics","sqlWhere","normalizationType","minValue","maxValue","filter","getField","d","p","u","valueExpressionTitle","stops","value","opacity","legendOptions","w","type","minSliderValue","min","maxSliderValue","max","visualVariables","Promise","resolve","visualVariable","defaultValuesUsed","authoringInfo"],"sourceRoot":""}