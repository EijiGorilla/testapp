"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[14843],{14843:(e,t,n)=>{n.r(t),n.d(t,{default:()=>_});var r=n(35143),s=n(91967),i=n(76460),o=n(68134),l=n(46053),a=n(85842),u=n(81835),h=n(23695),p=n(20728),y=n(92521),d=n(68814),w=n(53203),c=n(60403);let v=class extends s.default{constructor(e){super(e),this.view=null,this._weatherByType={sunny:new d.default,cloudy:new u.default,rainy:new p.default,snowy:new y.default,foggy:new h.default},this._settingWeather=!1}initialize(){this.addHandles([(0,o.watch)((()=>this.current),(e=>{this._settingWeather||null==e||(this._weatherByType={...this._weatherByType,[e.type]:e})}),o.syncAndInitial)])}get state(){const e=this.view;return null!=e&&e.ready?null!=this.error?this.error===c.F.NotVisible?c.u.Ready:c.u.Error:c.u.Ready:c.u.Disabled}get weatherByType(){return this._weatherByType}get error(){const e=this.view;return null!=e&&e.ready?"3d"!==e.type?c.F.UnsupportedView:"local"===e.viewingMode?c.F.LocalScene:e.environment.atmosphereEnabled?e.environment.weatherAvailable?null:c.F.NotVisible:c.F.NoAtmosphere:null}get current(){return this._environment?.weather??this._weatherByType.sunny}set current(e){const t=this._environment;t&&(t.weather=e)}get _environment(){const e=this.view;return null!=e&&"3d"===e.type?e.environment:null}setWeatherByType(e){if(!(0,w.TJ)(e,i.A.getLogger(this)))return;const t=this._environment;null!=t&&(this._settingWeather=!0,t.weather=this._weatherByType[e],this._settingWeather=!1)}setSnowCoverEnabled(e){const t=this.current;"snowCover"in t&&(t.snowCover=e?"enabled":"disabled")}};(0,r._)([(0,l.MZ)()],v.prototype,"view",void 0),(0,r._)([(0,l.MZ)()],v.prototype,"state",null),(0,r._)([(0,l.MZ)()],v.prototype,"_weatherByType",void 0),(0,r._)([(0,l.MZ)()],v.prototype,"weatherByType",null),(0,r._)([(0,l.MZ)()],v.prototype,"error",null),(0,r._)([(0,l.MZ)()],v.prototype,"current",null),(0,r._)([(0,l.MZ)()],v.prototype,"_environment",null),v=(0,r._)([(0,a.$)("esri.widgets.Weather.WeatherViewModel")],v);const _=v},60403:(e,t,n)=>{var r,s;n.d(t,{F:()=>s,u:()=>r}),function(e){e.Disabled="disabled",e.Ready="ready",e.Error="error"}(r||(r={})),function(e){e.NotVisible="not-visible",e.LocalScene="local-scene",e.NoAtmosphere="no-atmosphere",e.UnsupportedView="unsupported-view"}(s||(s={}))}}]);
//# sourceMappingURL=14843.1ca6f01d.chunk.js.map