"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[54278,90889],{54278:(e,t,i)=>{i.r(t),i.d(t,{default:()=>$});var a=i(35143),l=(i(11265),i(79053)),n=i(30726),s=i(68134),r=i(46053),c=i(21403),o=(i(81806),i(47249),i(85842)),d=i(22785),m=i(25329);const u="esri-scale-range-slider",h=`${u}__scale-menu`,S={base:u,segmentElementActive:`${u}__segment-active`,scaleIndicatorWrapper:`${u}__scale-indicator-wrapper`,scaleIndicator:`${u}__scale-indicator`,scaleIndicatorIcon:`${u}__scale-indicator-icon`,scaleIndicatorContainer:`${u}__scale-indicator-container`,scaleMenuContainer:`${h}-container`,scaleMenuSeparator:`${h}-separator`,scaleMenuToggle:`${h}-toggle`,scaleMenuSubLabel:`${h}-sublabel`,scalePreview:`${u}__scale-preview`,scalePreviewThumbnail:`${u}__scale-preview-thumbnail`};var g=i(28899),p=i(38042);const v=(0,p.JK)().slice(0,2);var M;!function(e){e.ar="ar",e.bg="bg",e.cs="cs",e.da="da",e.de="de",e.el="el",e.en="en",e.es="es",e.et="et",e.fi="fi",e.fr="fr",e.is="is",e.it="it",e.ja="ja",e.ko="ko",e.lt="lt",e.lv="lv",e.nl="nl",e.nn="nn",e.pl="pl",e.pt="pt",e.ro="ro",e.ru="ru",e.sk="sk",e.sv="sv",e.th="th",e.zh="zh"}(M||(M={}));const _={ae:M.en,ar:M.es,at:M.de,au:M.en,be:M.nl,bg:M.bg,bo:M.es,br:M.pt,ca:M.en,ch:M.de,ci:M.fr,cl:M.es,cn:M.zh,co:M.es,cr:M.es,cz:M.cs,de:M.de,dk:M.da,ee:M.et,eg:M.en,es:M.es,fi:M.fi,fr:M.fr,gb:M.en,gl:M.da,gr:M.el,gt:M.es,hk:M.en,id:M.en,ie:M.en,il:M.en,in:M.en,iq:M.ar,is:M.is,it:M.it,jp:M.ja,ke:M.en,kr:M.ko,kw:M.ar,li:M.de,lt:M.lt,lu:M.en,lv:M.lv,ma:M.fr,mg:M.fr,ml:M.fr,mo:M.en,mx:M.es,my:M.en,ni:M.es,nl:M.nl,no:M.nn,nz:M.en,pe:M.es,pl:M.pl,pr:M.es,pt:M.pt,ro:M.ro,ru:M.ru,rw:M.en,se:M.sv,sg:M.en,sk:M.sk,sr:M.nl,sv:M.es,th:M.th,tn:M.fr,tw:M.zh,us:M.en,ve:M.es,vi:M.en,wo:M.en,za:M.en},f=new Set(["ar-iq","ar-kw","bg-bg","cs-cz","da-dk","da-gl","de-at","de-ch","de-de","de-li","el-gr","en-ae","en-au","en-ca","en-eg","en-gb","en-hk","en-id","en-ie","en-il","en-in","en-iq","en-ke","en-lu","en-mo","en-my","en-nz","en-rw","en-sg","en-us","en-vi","en-wo","en-za","es-ar","es-bo","es-cl","es-co","es-cr","es-es","es-gt","es-mx","es-ni","es-pe","es-pr","es-sv","es-ve","et-ee","fi-fi","fr-ci","fr-fr","fr-ma","fr-mg","fr-ml","fr-tn","is-is","it-it","ja-jp","ko-kr","lt-lt","lv-lv","nl-be","nl-nl","nl-sr","nn-no","pl-pl","pt-br","pt-pt","ro-ro","ru-ru","sk-sk","sv-se","th-th","zh-cn","zh-tw"]);function y(e){e=function(e){return e.toLowerCase()}(e);const t=`${v}-${e}`,i=`${_[e]}-${e}`;return function(e){return`url(${(0,g.s)(`esri/widgets/ScaleRangeSlider/images/scalePreview/${e}.jpg`)})`}(f.has(t)?t:f.has(i)?i:"en-wo")}function w(e){if(!(e<0||e>=25))return`-${e%5*128}px -${128*Math.floor(e/5)}px`}var x=i(90889),b=i(62177),L=i(94126),R=i(98108),T=i(76099),I=i(63582),Z=i(54761),V=i(50265),C=i(39348);const k={preview:!0,scaleMenus:{maxScaleMenu:!0,minScaleMenu:!0}},P={maximumFractionDigits:0};let O=class extends m.default{constructor(e,t){super(e,t),this._activeMenu=null,this._activeThumb=null,this._customInput=null,this._maxThumbNode=null,this._minThumbNode=null,this._previewAutoCloseTimeoutId=void 0,this._previewPopover=null,this._slider=new d.default({thumbCreatedFunction:(e,t,i)=>{0===e?this._minThumbNode=i:1===e&&(this._maxThumbNode=i),this.addHandles([(0,l.on)(i,"mouseenter",(()=>{this._activeThumb=e,this.scheduleRender()})),(0,l.on)(i,"mouseleave",(()=>{this._previewAutoCloseTimeoutId||(this._activeThumb=null,this.scheduleRender())}))])}}),this.disabled=!1,this.messages=null,this.region="US",this.viewModel=new b.default,this.visibleElements=k,this._afterInputNumberCreate=e=>{"value"in e&&null!=e.value&&"setNumberValue"in e&&e.setNumberValue({committing:!1,value:e.value,origin:"direct"}),this._customInput=e},this._handleCustomScaleInputChange=(e,t)=>{const{viewModel:{scaleRanges:i}}=this,a=Number.parseFloat(t.value);Number.isNaN(a)?t.value=e:this._setScale(i.clampScale(a))}}loadDependencies(){return(0,L.W)({button:()=>Promise.resolve().then(i.bind(i,43285)),dropdown:()=>Promise.resolve().then(i.bind(i,24482)),"dropdown-group":()=>Promise.resolve().then(i.bind(i,5368)),"dropdown-item":()=>Promise.resolve().then(i.bind(i,84660)),icon:()=>Promise.resolve().then(i.bind(i,16702)),"input-number":()=>i.e(41763).then(i.bind(i,41763)),label:()=>Promise.resolve().then(i.bind(i,11839)),popover:()=>Promise.resolve().then(i.bind(i,51866))})}initialize(){this.addHandles([(0,s.watch)((()=>this.viewModel),(e=>this._slider.viewModel=e?.sliderViewModel??null),s.initial),(0,s.watch)((()=>this._interactive),(e=>{this._slider.disabled=!e,e||this._setActiveMenu(null)}),s.initial),this._slider.on("thumb-drag",(e=>{let{index:t}=e;this._activeThumb=t,clearTimeout(this._previewAutoCloseTimeoutId);this._previewAutoCloseTimeoutId=setTimeout((()=>{this._previewAutoCloseTimeoutId=void 0,this._activeThumb=null}),250)})),(0,s.when)((()=>!0===this.view?.stationary),(()=>this.scheduleRender()))])}destroy(){this._slider=(0,n.pR)(this._slider)}get _maxScaleMenuEnabled(){const{scaleMenus:e}=this.visibleElements;return!0===e||"boolean"!=typeof e&&e.maxScaleMenu}get _minScaleMenuEnabled(){const{scaleMenus:e}=this.visibleElements;return!0===e||"boolean"!=typeof e&&e.minScaleMenu}get _interactive(){return"disabled"!==this.viewModel?.state&&!this.disabled}get effectiveMaxScale(){return this.viewModel.effectiveMaxScale}get effectiveMinScale(){return this.viewModel.effectiveMinScale}get effectiveMaxScaleLimit(){return this.viewModel.effectiveMaxScaleLimit}get effectiveMinScaleLimit(){return this.viewModel.effectiveMinScaleLimit}get icon(){return"actual-size"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get layer(){return this.viewModel.layer}set layer(e){this.viewModel.layer=e}get maxScale(){return this.viewModel.maxScale}set maxScale(e){this.viewModel.maxScale=e}get maxScaleLimit(){return this.viewModel.maxScaleLimit}set maxScaleLimit(e){this.viewModel.maxScaleLimit=e}get mode(){return this.viewModel.mode}set mode(e){this.viewModel.mode=e}get minScale(){return this.viewModel.minScale}set minScale(e){this.viewModel.minScale=e}get minScaleLimit(){return this.viewModel.minScaleLimit}set minScaleLimit(e){this.viewModel.minScaleLimit=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}castVisibleElements(e){return{...k,...e,scaleMenus:"boolean"==typeof e?.scaleMenus?e.scaleMenus:{...k.scaleMenus,...e?.scaleMenus}}}formatScale(e){return`1:${(0,V.ZV)(e,P)}`}render(){const{_interactive:e,_slider:t,label:i,view:a,viewModel:{state:l}}=this,n=this._getLabel("min"),s=this._getLabel("max"),{segmentElements:r}=t,c=r.at("min-scale-only"===this.mode?-1:-2);return c&&c.classList.add(S.segmentElementActive),(0,Z.K)("div",{"aria-label":i,class:this.classes(S.base,R.D.widget,e?null:R.D.disabled)},(0,Z.K)("div",{class:S.scaleIndicatorWrapper,dir:"ltr"},"ready"===l&&a?this._renderCurrentScaleIndicator():null,t.render(),this._renderPreviewPopover()),(0,Z.K)("div",{class:S.scaleMenuContainer},this._minScaleMenuEnabled&&n?this._renderScaleMenuToggle("min",n):null,(0,Z.K)("div",{class:S.scaleMenuSeparator}),this._maxScaleMenuEnabled&&s?this._renderScaleMenuToggle("max",s):null))}_renderPreviewPopover(){const{_activeThumb:e}=this,t=null!=e&&this.visibleElements.preview,i=t?0===e?this._minThumbNode:this._maxThumbNode:"";return(0,Z.K)("calcite-popover",{afterCreate:T.cA,afterUpdate:()=>this._previewPopover?.reposition(),bind:this,"data-node-ref":"_previewPopover",label:this.messages.preview,offsetDistance:16,open:t,overlayPositioning:"fixed",placement:"top",referenceElement:i,triggerDisabled:!0},this._renderScalePreview())}_renderScalePreview(){const{_activeThumb:e,_slider:t,region:i,viewModel:{scaleRanges:a}}=this,l=0===e||"range"!==this.mode?t.values[0]:t.values[1],n=Object.keys(x.default.RecommendedScales).indexOf(a.findScaleRangeByIndex(l).id),s={backgroundImage:y(i),backgroundPosition:w(n)};return(0,Z.K)("div",{class:S.scalePreview},(0,Z.K)("div",{class:S.scalePreviewThumbnail,styles:s}))}_getLabel(e){const{_slider:t,messages:i,mode:a,viewModel:{scaleRanges:l}}=this,[n,s]=t.values,r="min"===e||"range"!==a?n:s,c=i.scaleRangeLabels[l.findScaleRangeByIndex(r).id];switch(a){case"range":return c;case"max-scale-only":return"min"===e?null:c;case"min-scale-only":return"min"===e?c:null}}_renderScaleMenuToggle(e,t){const{_activeMenu:i,_interactive:a}=this,l=i===e;return[(0,Z.K)("calcite-dropdown",{closeOnSelectDisabled:!0,"data-type":e,open:l,overlayPositioning:"fixed",placement:"max"===e?"bottom-end":"bottom-start",scale:"s",onCalciteDropdownClose:t=>{let{currentTarget:i}=t;this._activeMenu===e&&this._setActiveMenu(null),(0,T.Z6)(i.querySelector("calcite-button"))},onCalciteDropdownOpen:()=>this._setActiveMenu(e)},(0,Z.K)("calcite-button",{appearance:l?"outline":"transparent","aria-pressed":l.toString(),class:S.scaleMenuToggle,disabled:!a,iconEnd:"chevron-down",scale:"s",slot:"trigger"},t),l&&"max"===e?this._renderMaxScaleMenu():null,l&&"min"===e?this._renderMinScaleMenu():null)]}_renderMinScaleMenu(){const{effectiveMaxScale:e,effectiveMinScaleLimit:t,view:i,viewModel:{scaleRanges:a}}=this,l=i?i.scale:void 0;return this._renderScaleMenu({type:"min",min:t,max:a.findScaleRange(e).minScale,viewScale:l})}_renderMaxScaleMenu(){const{effectiveMinScale:e,effectiveMaxScaleLimit:t,view:i,viewModel:{scaleRanges:a}}=this,l=i?i.scale:void 0;return this._renderScaleMenu({type:"max",min:a.findScaleRange(e).maxScale,max:t,viewScale:l})}_renderScaleMenu(e){let{viewScale:t,min:i,max:a,type:l}=e;const{effectiveMaxScale:n,effectiveMinScale:s,messages:r}=this,c="max"===l?n:s,o=x.default.fromScaleRange({minScale:i,maxScale:a}),d=this.messages.featuredScaleLabels,m=x.default.RecommendedScales,u=Object.keys(m).filter((e=>o.contains(m[e]))).map((e=>this._renderScaleMenuItem({scaleLabel:d[e],scaleValue:m[e],isSelected:c===m[e],valueVisible:"world"!==e})));return(0,Z.K)("calcite-dropdown-group",{key:`${this.id}__scale-menu--${l}`},this._renderCustomScaleValue({currentScale:c}),null!=t?this._renderScaleMenuItem({scaleValue:t,scaleLabel:r.featuredScaleLabels.current,isSelected:c===t,valueVisible:!0}):null,u)}_renderCustomScaleValue(e){let{currentScale:t}=e;const{messages:i}=this,a=Math.round(t).toString();return(0,Z.K)("calcite-dropdown-item",{afterCreate:e=>{(0,T.Z6)(e)},key:"custom-scale",label:i.featuredScaleLabels.custom,onCalciteDropdownItemSelect:()=>{(0,T.Z6)(this._customInput)}},(0,Z.K)("calcite-label",{scale:"s"},(0,Z.K)("span",null,i.featuredScaleLabels.custom),(0,Z.K)("calcite-input-number",{afterCreate:this._afterInputNumberCreate,groupSeparator:!0,inputMode:"numeric",max:x.default.RecommendedScales.world,min:0,numberButtonType:"none",placeholder:i.customScaleInputTooltip,prefixText:"1:",scale:"s",step:1,value:a,onCalciteInputNumberChange:e=>{let{currentTarget:t}=e;return this._handleCustomScaleInputChange(a,t)}})))}_renderScaleMenuItem(e){const{scaleValue:t,scaleLabel:i,valueVisible:a,isSelected:l}=e;return(0,Z.K)("calcite-dropdown-item",{key:i,label:i,selected:l,onCalciteDropdownItemSelect:this._setScale.bind(this,t)},i,a?(0,Z.K)("div",{class:S.scaleMenuSubLabel},this.formatScale(t)):void 0)}_renderCurrentScaleIndicator(){const{_slider:e,messages:t,view:i,viewModel:{scaleRanges:a}}=this,l=a.clampScale(i.scale),n=this.viewModel.mapScaleToSlider(l),s=n/e.max,r=t.scaleRangeLabels[a.findScaleRangeByIndex(n).id],c=(0,C.V)(t.currentScaleTooltip,{scaleLabel:r});return(0,Z.K)("div",{class:S.scaleIndicatorContainer,key:"scale-indicator"},(0,Z.K)("div",{"aria-label":c,class:S.scaleIndicator,styles:{left:100*s+"%"},title:c},this.renderCurrentScaleIndicatorIcon()))}renderCurrentScaleIndicatorIcon(){return(0,Z.K)("calcite-icon",{class:S.scaleIndicatorIcon,icon:"caret-up",scale:"s"})}_setScale(e){"max"===this._activeMenu?this.maxScale=Math.min(e,this.effectiveMinScale-1):this.minScale=Math.max(e,this.effectiveMaxScale+1),this._setActiveMenu(null)}_setActiveMenu(e){this._activeMenu=e}};(0,a._)([(0,r.MZ)()],O.prototype,"_activeMenu",void 0),(0,a._)([(0,r.MZ)()],O.prototype,"_activeThumb",void 0),(0,a._)([(0,r.MZ)()],O.prototype,"_customInput",void 0),(0,a._)([(0,r.MZ)()],O.prototype,"_maxScaleMenuEnabled",null),(0,a._)([(0,r.MZ)()],O.prototype,"_minScaleMenuEnabled",null),(0,a._)([(0,r.MZ)()],O.prototype,"_slider",void 0),(0,a._)([(0,r.MZ)({readOnly:!0})],O.prototype,"_interactive",null),(0,a._)([(0,r.MZ)()],O.prototype,"disabled",void 0),(0,a._)([(0,r.MZ)()],O.prototype,"effectiveMaxScale",null),(0,a._)([(0,r.MZ)()],O.prototype,"effectiveMinScale",null),(0,a._)([(0,r.MZ)()],O.prototype,"effectiveMaxScaleLimit",null),(0,a._)([(0,r.MZ)()],O.prototype,"effectiveMinScaleLimit",null),(0,a._)([(0,r.MZ)()],O.prototype,"icon",null),(0,a._)([(0,r.MZ)()],O.prototype,"label",null),(0,a._)([(0,r.MZ)()],O.prototype,"layer",null),(0,a._)([(0,r.MZ)()],O.prototype,"maxScale",null),(0,a._)([(0,r.MZ)()],O.prototype,"maxScaleLimit",null),(0,a._)([(0,r.MZ)(),(0,I.G)("esri/widgets/ScaleRangeSlider/t9n/ScaleRangeSlider")],O.prototype,"messages",void 0),(0,a._)([(0,r.MZ)()],O.prototype,"mode",null),(0,a._)([(0,r.MZ)()],O.prototype,"minScale",null),(0,a._)([(0,r.MZ)()],O.prototype,"minScaleLimit",null),(0,a._)([(0,r.MZ)()],O.prototype,"region",void 0),(0,a._)([(0,r.MZ)()],O.prototype,"view",null),(0,a._)([(0,r.MZ)()],O.prototype,"viewModel",void 0),(0,a._)([(0,r.MZ)()],O.prototype,"visibleElements",void 0),(0,a._)([(0,c.w)("visibleElements")],O.prototype,"castVisibleElements",null),O=(0,a._)([(0,o.$)("esri.widgets.ScaleRangeSlider")],O);const $=O},62177:(e,t,i)=>{i.r(t),i.d(t,{default:()=>m});var a=i(35143),l=i(91967),n=i(68134),s=i(46053),r=(i(81806),i(76460),i(47249),i(85842)),c=i(90889),o=i(6515);let d=class extends l.default{constructor(e){super(e),this.layer=null,this.mode="range",this.scaleRanges=c.default.fromScaleRange({minScale:0,maxScale:0}),this.sliderViewModel=(()=>{const{max:e}=this._getSliderIndexRange(this.scaleRanges.length-1);return new o.default({precision:10,min:0,max:e,values:[0,e]})})()}initialize(){this.addHandles([(0,n.watch)((()=>this.layer),(e=>e?.load().catch((()=>{})))),(0,n.watch)((()=>this.mode),(e=>{"range"===e&&1===this.sliderViewModel.values?.length?this.sliderViewModel.values=[this.sliderViewModel.min,this.sliderViewModel.values[0]]:2===this.sliderViewModel.values?.length&&("min-scale-only"===e?this.sliderViewModel.values=[this.sliderViewModel.values[0]]:"max-scale-only"===e&&(this.sliderViewModel.values=[this.sliderViewModel.values[1]]))})),(0,n.watch)((()=>({loaded:this.layer?.loaded,ready:this.view?.ready})),(e=>{let{loaded:t,ready:i}=e;if(!t||!i)return;if(this._hasTiledLayer()){const e=this._getLayerResampling()?void 0:this.mapScaleToSlider(this._getTiledLayerMaxScale()),t=this.mapScaleToSlider(this._getTiledLayerMinScale());this.sliderViewModel.effectiveMax=e,this.sliderViewModel.effectiveMin=t}else{const e=this.layer&&"maxScaleRange"in this.layer?this.layer.maxScaleRange:null,{minScale:t=0,maxScale:i=0}=e??{};this.sliderViewModel.effectiveMax=0===i?void 0:this.mapScaleToSlider(i),this.sliderViewModel.effectiveMin=0===t?void 0:this.mapScaleToSlider(t)}const a=this.layer;a&&"minScale"in a&&"maxScale"in a?(this.minScale=a.minScale,this.maxScale=a.maxScale):(this.minScale=void 0,this.maxScale=void 0)}),n.initial)])}get effectiveMaxScale(){return 0===this.maxScale?this.maxScaleLimit:this.maxScale}get effectiveMinScale(){return 0===this.minScale?this.minScaleLimit:this.minScale}get effectiveMaxScaleLimit(){return this.mapSliderToScale(this.sliderViewModel.effectiveMax??this.sliderViewModel.max)}get effectiveMinScaleLimit(){return this.mapSliderToScale(this.sliderViewModel.effectiveMin??this.sliderViewModel.min)}get maxScale(){return this._getScale("max")}set maxScale(e){this._setMaxScaleOnSlider(e)}get maxScaleLimit(){return this.mapSliderToScale(this.sliderViewModel.max)}set maxScaleLimit(e){this._setSliderRange({maxScale:e,minScale:this.minScaleLimit})}get minScale(){return this._getScale("min")}set minScale(e){this._setMinScaleOnSlider(e)}get minScaleLimit(){return this.mapSliderToScale(this.sliderViewModel.min)}set minScaleLimit(e){this._setSliderRange({maxScale:this.maxScaleLimit,minScale:e})}get state(){const{view:e,layer:t}=this;return!e&&!t||!e&&t?.loaded||!t&&e?.ready||e&&e.ready&&t?.loaded?"ready":"disabled"}set view(e){this._set("view",e)}mapScaleToSlider(e){const t=this.scaleRanges.scaleToRangeIndex(e),i=this.scaleRanges.findScaleRangeByIndex(t),{maxScale:a,minScale:l}=i,{max:n,min:s}=this._getSliderIndexRange(t);return this._mapToRange(e,l,a,s,n)}mapSliderToScale(e){const t=this.scaleRanges.findScaleRangeByIndex(e),{maxScale:i,minScale:a}=t,{max:l,min:n}=this._getSliderIndexRange(e);return this._mapToRange(e,n,l,a,i)}_setSliderRange(e){this.scaleRanges=c.default.fromScaleRange(e);const{max:t}=this._getSliderIndexRange(this.scaleRanges.length-1);this.sliderViewModel.max=t,this.sliderViewModel.min=0,this.notifyChange("maxScaleLimit"),this.notifyChange("minScaleLimit")}_getSliderIndexRange(e){const t=Math.floor(e);return{min:t,max:t+.99999}}_mapToRange(e,t,i,a,l){return a+(e-t)*(l-a)/(i-t)}_getSliderValue(e){const{min:t,max:i,values:a}=this.sliderViewModel,[l,n]=a;switch(this.mode){case"max-scale-only":return"min"===e?t:l;case"min-scale-only":return"min"===e?l:i;default:return"min"===e?l??t:n??i}}_getScale(e){const t=this.mapSliderToScale(this._getSliderValue(e));return this._normalizeScale(e,t)}_setMaxScaleOnSlider(e){const{scaleRanges:t,sliderViewModel:i}=this;if(void 0!==e){const a=this.mapScaleToSlider(this._constrainMaxScaleToLayer(t.clampMaxScale(e)));switch(this.mode){case"range":i.values=[i.values[0],a];break;case"max-scale-only":i.values=[a]}}}_setMinScaleOnSlider(e){const{scaleRanges:t,sliderViewModel:i}=this;if(void 0!==e){const a=this.mapScaleToSlider(this._constrainMinScaleToLayer(t.clampMinScale(e)));switch(this.mode){case"range":i.values=[a,i.values[1]];break;case"min-scale-only":i.values=[a]}}}_constrainMinScaleToLayer(e){const{scaleRanges:t}=this;if(this._hasTiledLayer()){const{firstRange:i}=t,a=this._getTiledLayerMinScale(),l=.85;e=this._mapToRange(e,i.maxScale,i.minScale,0,1)>l||e>a?a:e}return e}_constrainMaxScaleToLayer(e){if(this._hasTiledLayer()&&!this._getLayerResampling()){const t=this._getTiledLayerMaxScale();e=e<t?t:e}return e}_normalizeScale(e,t){const i="max"===e?"maxScale":"minScale",a=this._hasTiledLayer()?"min"===e?this._getTiledLayerMinScale():this._getTiledLayerMaxScale():this.scaleRanges[i],l=this._hasTiledLayer()?"min"===e?this._getTiledLayerRealMinScale():this._getTiledLayerRealMaxScale():a,n=0===t||l===t||Math.abs(l-t)<=1e-6;return Number((n?0:t).toFixed(6))}_getLayerLODS(){const{layer:e}=this;return e?.loaded&&"tileInfo"in e?"wcs"===e.type||"imagery-tile"===e.type&&"Raster"===e.raster?.tileType?null:e.tileInfo?.lods:null}_getLayerResampling(){return!!this.layer?.loaded&&(!("resampling"in this.layer)||this.layer.resampling)}_getTiledLayerMinScale(){const e=this._getLayerLODS();return this.scaleRanges.clampMinScale(e[0].scale)}_getTiledLayerMaxScale(){const e=this._getLayerLODS();return e[e.length-1].scale}_getTiledLayerRealMinScale(){const e=this._getLayerLODS(),t=this.layer,i=t&&"sourceJSON"in t?t.sourceJSON?.tileInfo?.lods??e:e;return this.scaleRanges.clampMinScale(i[0].scale)}_getTiledLayerRealMaxScale(){const e=this._getLayerLODS(),t=this.layer,i=t&&"sourceJSON"in t?t.sourceJSON?.tileInfo?.lods??e:e;return i[i.length-1].scale}_hasTiledLayer(){return!!this._getLayerLODS()}};(0,a._)([(0,s.MZ)({readOnly:!0})],d.prototype,"effectiveMaxScale",null),(0,a._)([(0,s.MZ)({readOnly:!0})],d.prototype,"effectiveMinScale",null),(0,a._)([(0,s.MZ)()],d.prototype,"effectiveMaxScaleLimit",null),(0,a._)([(0,s.MZ)()],d.prototype,"effectiveMinScaleLimit",null),(0,a._)([(0,s.MZ)()],d.prototype,"layer",void 0),(0,a._)([(0,s.MZ)()],d.prototype,"maxScale",null),(0,a._)([(0,s.MZ)()],d.prototype,"maxScaleLimit",null),(0,a._)([(0,s.MZ)()],d.prototype,"mode",void 0),(0,a._)([(0,s.MZ)()],d.prototype,"minScale",null),(0,a._)([(0,s.MZ)()],d.prototype,"minScaleLimit",null),(0,a._)([(0,s.MZ)()],d.prototype,"scaleRanges",void 0),(0,a._)([(0,s.MZ)({type:o.default})],d.prototype,"sliderViewModel",void 0),(0,a._)([(0,s.MZ)({readOnly:!0})],d.prototype,"state",null),(0,a._)([(0,s.MZ)()],d.prototype,"view",null),d=(0,a._)([(0,r.$)("esri.widgets.ScaleRangeSlider.ScaleRangeSliderViewModel")],d);const m=d},90889:(e,t,i)=>{i.r(t),i.d(t,{default:()=>u});var a,l=i(35143),n=i(91967),s=i(46053),r=(i(81806),i(76460),i(47249),i(85842));const c=147914382,o=[{id:"room",minScale:100},{id:"rooms",minScale:400},{id:"smallBuilding",minScale:800},{id:"building",minScale:1999},{id:"buildings",minScale:3999},{id:"street",minScale:7499},{id:"streets",minScale:14999},{id:"neighborhood",minScale:29999},{id:"town",minScale:59999},{id:"city",minScale:119999},{id:"cities",minScale:249999},{id:"metropolitanArea",minScale:499999},{id:"county",minScale:999999},{id:"counties",minScale:1999999},{id:"stateProvince",minScale:3999999},{id:"statesProvinces",minScale:6999999},{id:"countriesSmall",minScale:14999999},{id:"countriesBig",minScale:34999999},{id:"continent",minScale:99999999},{id:"world",minScale:c}];function d(e,t){const i=o,a=i.length,l=[];let n,s=e;e=e>=0?e:0,t=t>0?t:i[a-1].minScale;for(let r=0;r<a;r++){const a=Math.min(i[r].minScale,t);n=Math.min(a,t),e<=a&&s<t&&l.push({id:i[r].id,maxScale:Math.max(s,e),minScale:n}),s=n+1}return l.reverse(),function(e){if(0===e.length)return e;const[t]=e,i=e[e.length-1];return t.minScale===t.maxScale&&(e.shift(),t.minScale+=1),i.minScale===i.maxScale&&(e.pop(),i.maxScale-=1),e}(l)}let m=a=class extends n.default{constructor(){super(...arguments),this.ranges=[]}static fromScaleRange(e){let{maxScale:t,minScale:i}=e;return new a({ranges:d(t,i)})}static async fromLayer(e){await e.when();const t="tileInfo"in e?e.tileInfo?.lods:void 0;let i;return i=t?d(t[t.length-1].scale,t[0].scale):d(0,0),new a({ranges:i})}get firstRange(){return this.ranges[0]}get lastRange(){const e=this.ranges;return e[e.length-1]}get length(){return this.ranges.length}get maxScale(){return this.lastRange.maxScale}get minScale(){return this.firstRange.minScale}isMinScaleEdge(e){const{firstRange:t}=this,i=t.minScale,l=a.RecommendedScales[t.id]||t.maxScale;return e<=i&&e>=l}isMaxScaleEdge(e){const{lastRange:t}=this,i=t.maxScale;return e<=(a.RecommendedScales[t.id]||t.minScale)&&e>=i}findScaleRange(e){const t=this.ranges;let i;if(e>=t[0].maxScale)return t[0];if(e<=t[t.length-1].minScale)return t[t.length-1];for(let a=0;a<t.length;a++){const l=t[a];if(e>=l.maxScale&&e<=l.minScale){i=l;break}}return i}findScaleRangeByIndex(e){return this.ranges[this._clampScaleRangeIndex(e)]}scaleToRangeIndex(e){return this.ranges.indexOf(this.findScaleRange(e))}clampScale(e){return Math.min(this.minScale,Math.max(this.maxScale,e))}clampMinScale(e){return 0===e?this.minScale:this.clampScale(e)}clampMaxScale(e){return this.clampScale(e)}contains(e){const t=this.ranges;let i=!1;for(let a=0;a<t.length;a++){const{maxScale:l,minScale:n}=t[a];if(e>=l&&e<=n){i=!0;break}}return i}_clampScaleRangeIndex(e){if(e<=0)return 0;const t=this.ranges.length-1;return e>t?t:Math.floor(e)}};m.RecommendedScales=Object.freeze({world:c,continent:5e7,countriesBig:25e6,countriesSmall:12e6,statesProvinces:6e6,stateProvince:3e6,counties:15e5,county:75e4,metropolitanArea:32e4,cities:16e4,city:8e4,town:4e4,neighborhood:2e4,streets:1e4,street:5e3,buildings:2500,building:1250,smallBuilding:800,rooms:400,room:100}),(0,l._)([(0,s.MZ)()],m.prototype,"firstRange",null),(0,l._)([(0,s.MZ)()],m.prototype,"lastRange",null),(0,l._)([(0,s.MZ)()],m.prototype,"length",null),(0,l._)([(0,s.MZ)()],m.prototype,"maxScale",null),(0,l._)([(0,s.MZ)()],m.prototype,"minScale",null),(0,l._)([(0,s.MZ)({constructOnly:!0})],m.prototype,"ranges",void 0),m=a=(0,l._)([(0,r.$)("esri.widgets.ScaleRangeSlider.ScaleRanges")],m);const u=m}}]);
//# sourceMappingURL=54278.5eb779ea.chunk.js.map