{"version":3,"file":"static/js/91091.311e4c83.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/chunks/PointRenderer.glsl.js","../node_modules/@arcgis/core/views/3d/layers/support/highlightUtils.js","../node_modules/@arcgis/core/views/3d/layers/support/PopupSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/PointCloudLayerViewPerformanceInfo.js","../node_modules/@arcgis/core/views/3d/layers/PointCloudWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/i3s/LoDUtil.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PagedNodeIndex.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudGraphic.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudHighlights.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/PointRendererTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRenderer.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRendererNode.js","../node_modules/@arcgis/core/views/3d/layers/i3s/PointCloudRendererUtil.js","../node_modules/@arcgis/core/views/3d/layers/PointCloudLayerView3D.js","../node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes(\"*\"))return[\"*\"];const o=t?e(n):[],f=l(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}export{p as getFetchPopupTemplate,n as getRequiredFields,u as hasPopupTemplate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{numberMaxFloat32 as e}from\"../core/mathUtils.js\";import{multiply as i,fromTranslation as o}from\"../core/libs/gl-matrix-2/math/mat4.js\";import{create as r}from\"../core/libs/gl-matrix-2/factories/mat4f64.js\";import{set as t}from\"../core/libs/gl-matrix-2/math/vec2.js\";import{create as a}from\"../core/libs/gl-matrix-2/factories/vec2f64.js\";import{i as s}from\"./vec32.js\";import{create as n}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{create as c,positiveInfinity as l}from\"../geometry/support/aaBoundingBox.js\";import{isColorOrColorEmission as p}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SlicePlaneParameters as m,RejectBySlice as d}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{OutputHighlight as f}from\"../views/3d/webgl-engine/core/shaderLibrary/output/OutputHighlight.glsl.js\";import{RgbaFloatEncoding as g}from\"../views/3d/webgl-engine/core/shaderLibrary/util/RgbaFloatEncoding.glsl.js\";import{Float2DrawUniform as u}from\"../views/3d/webgl-engine/core/shaderModules/Float2DrawUniform.js\";import{Float2PassUniform as x}from\"../views/3d/webgl-engine/core/shaderModules/Float2PassUniform.js\";import{Float3DrawUniform as S}from\"../views/3d/webgl-engine/core/shaderModules/Float3DrawUniform.js\";import{glsl as w}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Matrix4BindUniform as v}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4BindUniform.js\";import{Matrix4DrawUniform as h}from\"../views/3d/webgl-engine/core/shaderModules/Matrix4DrawUniform.js\";import{VertexAttribute as z}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{NoParameters as b}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as M}from\"../views/webgl/ShaderBuilder.js\";class j extends b{constructor(){super(...arguments),this.clipBox=c(l),this.useFixedSizes=!1,this.useRealWorldSymbolSizes=!1,this.scaleFactor=1,this.minSizePx=0,this.size=0,this.sizePx=0}get fixedSize(){return this.drawScreenSpace?this.sizePx:this.size}get screenMinSize(){return this.useFixedSizes?0:this.minSizePx}get drawScreenSpace(){return this.useFixedSizes&&!this.useRealWorldSymbolSizes}}class P extends m{constructor(e,i,o){super(e),this.origin=e,this.isLeaf=i,this.splatSize=o}}function y(r){const a=new M,n=p(r.output),{vertex:c,fragment:l}=a;return a.vertex.include(d,r),a.attributes.add(z.POSITION,\"vec3\"),a.attributes.add(z.COLOR,\"vec3\"),c.uniforms.add(new h(\"modelView\",((e,r)=>i(R,r.camera.viewMatrix,o(R,e.origin)))),new v(\"proj\",(e=>e.camera.projectionMatrix)),new u(\"screenMinMaxSize\",((e,i,o)=>t(F,o.useFixedSizes?0:o.minSizePx*i.camera.pixelRatio,O(e.isLeaf)*i.camera.pixelRatio))),r.useFixedSizes?new x(\"pointScale\",((e,i)=>t(F,e.fixedSize*i.camera.pixelRatio,i.camera.fullHeight))):new u(\"pointScale\",((e,i,o)=>t(F,e.splatSize*o.scaleFactor*i.camera.pixelRatio,i.camera.fullHeight/i.camera.pixelRatio)))),r.clippingEnabled?c.uniforms.add(new S(\"clipMin\",((e,i,o)=>s(B,o.clipBox[0]-e.origin[0],o.clipBox[1]-e.origin[1],o.clipBox[2]-e.origin[2]))),new S(\"clipMax\",((e,i,o)=>s(B,o.clipBox[3]-e.origin[0],o.clipBox[4]-e.origin[1],o.clipBox[5]-e.origin[2])))):(c.constants.add(\"clipMin\",\"vec3\",[-e,-e,-e]),c.constants.add(\"clipMax\",\"vec3\",[e,e,e])),n&&a.varyings.add(\"vColor\",\"vec3\"),c.main.add(w`\n    // Move clipped points outside of clipspace\n    if (position.x < clipMin.x || position.y < clipMin.y || position.z < clipMin.z ||\n      position.x > clipMax.x || position.y > clipMax.y || position.z > clipMax.z) {\n      gl_Position = vec4(0.0,0.0,0.0,2.0);\n      gl_PointSize = 0.0;\n      return;\n    }\n\n    if (rejectBySlice(position)) {\n      gl_Position = vec4(0.0, 0.0, 0.0, 2.0);\n      gl_PointSize = 0.0;\n      return;\n    }\n\n    // Position in camera space\n    vec4 camera = modelView * vec4(position, 1.0);\n\n    float pointSize = pointScale.x;\n    vec4 position = proj * camera;\n    ${r.drawScreenSize?w`float clampedScreenSize = pointSize;`:w`float pointRadius = 0.5 * pointSize;\n           vec4 cameraOffset = camera + vec4(0.0, pointRadius, 0.0, 0.0);\n           vec4 positionOffset = proj * cameraOffset;\n           float radius = abs(positionOffset.y - position.y);\n           float viewHeight = pointScale.y;\n           // screen diameter = (2 * r / w) * (h / 2)\n           float screenPointSize = (radius / position.w) * viewHeight;\n           float clampedScreenSize = clamp(screenPointSize, screenMinMaxSize.x, screenMinMaxSize.y);\n           // Shift towards camera, to move rendered point out of terrain i.e. to\n           // the camera-facing end of the virtual point when considering it as a\n           // 3D sphere.\n           camera.xyz -= normalize(camera.xyz) * pointRadius * clampedScreenSize / screenPointSize;\n           position = proj * camera;`}\n\n    gl_PointSize = clampedScreenSize;\n    gl_Position = position;\n    ${n?w`vColor = color;`:\"\"}`),l.include(g,r),a.include(f,r),l.main.add(w`\n    vec2 vOffset = gl_PointCoord - vec2(0.5, 0.5);\n    float r2 = dot(vOffset, vOffset);\n\n    if (r2 > 0.25) {\n      discard;\n    }\n    calculateOcclusionAndOutputHighlight();\n    ${n?w`fragColor = vec4(vColor, 1.0);`:\"\"}`),a}function O(e){return e?256:64}const R=r(),B=n(),F=a(),_=Object.freeze(Object.defineProperty({__proto__:null,PointRendererDrawParameters:P,PointRendererPassParameters:j,build:y,getMaxPointSizeScreenspace:O},Symbol.toStringTag,{value:\"Module\"}));export{j as P,P as a,_ as b,y as c,O as g};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport r from\"../../../../core/Collection.js\";import{makeHandle as o}from\"../../../../core/handleUtils.js\";import{isGraphic as t}from\"../../../../support/guards.js\";function e(o){return r.isCollection(o)?o.toArray():Array.isArray(o)?o:i(o)||t(o)||c(o)?[o]:n}function i(r){return\"number\"==typeof r||\"string\"==typeof r}const n=[],s=o();function c(r){return\"esri.views.3d.layers.i3s.PointCloudGraphic\"===r.declaredClass}export{s as emptyHighlightHandle,i as isObjectId,e as normalizeHighlightTargetExceptQuery};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Error.js\";import\"../../../../core/Logger.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{unpackFieldNames as s,populateMissingFields as a}from\"../../../../layers/support/fieldUtils.js\";import{getFetchPopupTemplate as o,getRequiredFields as p}from\"../../../layers/support/popupUtils.js\";const i=i=>{let c=class extends i{_validateFetchPopupFeatures(e){const{layer:r}=this,{popupEnabled:s}=r;if(!s)throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Popups are disabled\",{layer:r});if(!o(r,e))throw new t(\"scenelayerview3d:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:r})}async prepareFetchPopupFeatures(e){}async fetchPopupFeaturesFromGraphics(e,t){if(this._validateFetchPopupFeatures(t),0===e.length)return[];const r=\"scene\"===this.layer.type&&null!=this.layer.associatedLayer?this.layer.associatedLayer:this.layer;let i=[];\"fieldsIndex\"in this.layer&&(i=s(this.layer.fieldsIndex,await p(r,o(this.layer,t)))),await this.prepareFetchPopupFeatures(i);const c=new Set,n=[],l=[];for(const s of e)a(i,s,c)?l.push(s):n.push(s);if(0===l.length)return n;const u=new Map;for(let s=0;s<e.length;s++)u.set(e[s].getObjectId()??0,s);const h=await this.whenGraphicAttributes(l,[...c]).catch((()=>l)).then((e=>n.concat(e)));return h.sort(((e,t)=>{const r=e.getObjectId()??0,s=u.get(r)??0,a=t.getObjectId()??0;return s-(u.get(a)??0)})),h}};return c=e([r(\"esri.views.3d.layers.support.PopupSceneLayerView\")],c),c};export{i as PopupSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{LayerViewPerformanceInfo as s}from\"./support/LayerViewPerformanceInfo.js\";class e extends s{constructor(s,e,o,r,i){super(s,e,-1,o,r),this.queue=i}}class o{constructor(s,e,o,r){this.loading=s,this.indexLoading=e,this.processing=o,this.idleProcessing=r}}export{e as PointCloudLayerViewPerformanceInfo,o as QueuePerformanceInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{WorkerHandle as t}from\"../../../core/workers/WorkerHandle.js\";class r extends t{constructor(t){super(\"PointCloudWorker\",\"transform\",{transform:t=>u(t)},t)}}function u(t){const r=[t.geometryBuffer];if(null!=t.primaryAttributeData&&t.primaryAttributeData.buffer&&r.push(t.primaryAttributeData.buffer),null!=t.modulationAttributeData&&t.modulationAttributeData.buffer&&r.push(t.modulationAttributeData.buffer),null!=t.filterAttributesData)for(const u of t.filterAttributesData)null!=u&&u.buffer&&r.push(u.buffer);for(const u of t.userAttributesData)u.buffer&&r.push(u.buffer);return r}export{r as PointCloudWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{f as e}from\"../../../../chunks/vec32.js\";function t(e,t,g){for(let n=0;n<t.length;n++)r[n]=!1,o[n]=null;for(let r=0;r<e.length;r++)n[r]=!1,l[r]=null;for(let n=0;n<t.length;n++){const o=h(t[n],e,g);o>=0&&(r[n]=!0,null!=l[o]?l[o].push(t[n]):l[o]=[t[n]])}for(let l=0;l<e.length;l++){const r=h(e[l],t,g);r>=0&&(n[l]=!0,null!=o[r]?o[r].push(e[l]):o[r]=[e[l]])}const u=[];for(let r=0;r<e.length;r++)null!=l[r]||n[r]||u.push({load:[],remove:[e[r]]});for(let n=0;n<t.length;n++)null!=o[n]||r[n]||u.push({load:[t[n]],remove:[]});for(let n=0;n<t.length;n++)null!=o[n]&&(o[n].length>1||o[n][0]!==t[n])&&u.push({load:[t[n]],remove:o[n]});for(let n=0;n<e.length;n++)null!=l[n]&&(l[n].length>1||l[n][0]!==e[n])&&u.push({load:l[n],remove:[e[n]]});return u}const n=[!1],l=[null],r=[!1],o=[null];function h(e,t,n){let l=e;for(;l>0;){const e=t.indexOf(l);if(e>=0)return e;l=n.getParentId(l)}return t.indexOf(l)}function g(t,n,l){return t.sort(((t,r)=>{if(0===t.load.length&&0===r.load.length)return 0;if(0===t.load.length)return-1;if(0===r.load.length)return 1;if(0===t.remove.length&&0===r.remove.length){const o=l.getRenderObb(t.load[0]).center,h=l.getRenderObb(r.load[0]).center;return e(o,n)-e(h,n)}if(0===t.remove.length)return-1;if(0===r.remove.length)return 1;if(1===t.load.length&&1===r.load.length){const o=l.getRenderObb(t.load[0]).center,h=l.getRenderObb(r.load[0]).center;return e(o,n)-e(h,n)}if(1===t.load.length)return-1;if(1===r.load.length)return 1;{const o=l.getRenderObb(t.remove[0]).center,h=l.getRenderObb(r.remove[0]).center;return e(o,n)-e(h,n)}}))}function u(e,t,n){for(let l=0;l<e.length;++l){const r=e[l];r.load.length>t&&1===r.remove.length&&d(e,r,n)}}function d(e,t,n){const l=[t.remove[0]],r=[];for(;1===l.length;){const e=l.pop();r.length=0;for(let o=0;o<t.load.length;o++){let h=t.load[o],g=n.getParentId(h);for(;g!==e;)h=g,g=n.getParentId(h);let u=l.indexOf(h);u<0&&(u=l.length,l.push(h),r.push([])),r[u].push(t.load[o])}}t.load=l;for(let o=0;o<l.length;o++)r[o].length>1?e.push({remove:[l[o]],load:r[o]}):l[o]=r[o][0]}export{t as nodeDiff,g as sortFrontToBack,u as splitWorkEntries,d as splitWorkEntry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getSphericalPCPF as e}from\"../../../../geometry/spatialReferenceEllipsoidUtils.js\";import{create as t,contains as s,intersects as n}from\"../../../../geometry/support/aaBoundingBox.js\";class i{constructor(t,s,n){this._pages=[],this.pageSize=0,this._nodeSR=t,this._renderSR=s,this._renderSRSphericalPCPF=e(s),this.pageSize=n}addPage(e,t,s=0){for(;this._pages.length<e;)this._pages.push(null);r(t,this._nodeSR,this._renderSR,s,this._renderSRSphericalPCPF),this._pages[e]={nodes:t,parents:new Uint32Array(this.pageSize)},p(this._pages,this.pageSize)}hasPage(e){return!!this._pages[e]}getNode(e){const t=this.pageSize;return this._pages[a(e,t)].nodes[h(e,t)]}getRenderObb(e){const t=this.pageSize;return this._pages[a(e,t)].nodes[h(e,t)].obbInRenderSR}setRenderObb(e,t){const s=this.pageSize;this._pages[a(e,s)].nodes[h(e,s)].obbInRenderSR.copy(t)}getParentId(e){const t=this.pageSize;return this._pages[a(e,t)].parents[h(e,t)]}hasNodes(e,t){const s=a(e,this.pageSize),n=a(e+t-1,this.pageSize);for(let i=s;i<=n;i++)if(null==this._pages[i])return!1;return!0}forEachNodeId(e){for(let t=0;t<this._pages.length;t++){const s=this._pages[t];if(s)for(let n=0;n<s.nodes.length;n++)e(t*this.pageSize+n)}}createVisibilityTraverse(){const e={index:this,queue:[],masks:[],tempAabb:t()};return(t,s)=>o(e,t,s)}}function o(e,t,i){const o=e.index;if(!o.hasNodes(0,1))return;const r=e.queue;r.length=0,r.push(0);const p=e.masks;for(p.length=0,p.push(0);r.length>0;){const h=r.pop();let g=p.pop();const l=o.getNode(h),c=o.getRenderObb(h);let u=!0;if(null!=t.clippingBox){const i=1<<t.frustum.length;g&i||(c.toAaBoundingBox(e.tempAabb),s(t.clippingBox,e.tempAabb)?g|=i:n(t.clippingBox,e.tempAabb)||(u=!1))}for(let e=0;e<t.frustum.length&&u;e++){const s=1<<e;if(!(g&s)){const n=c.intersectPlane(t.frustum[e]);n>0?u=!1:n<0&&(g|=s)}}if(i.predicate(h,l,u)){const e=l.firstChild,t=l.childCount;let s=!1;const n=a(e,o.pageSize),c=a(e+t-1,o.pageSize);for(let r=n;r<=c;r++)if(!o.hasPage(r)){i.pageMiss(h,r),s=!0;break}if(!s)for(let i=0;i<t;i++)r.push(e+i),p.push(g)}}}function r(e,t,s,n,i){for(let o=0;o<e.length;o++){const r=e[o];r.obb.transform(r.obbInRenderSR,t,s,n,i)}}function p(e,t){const s=[0];for(;s.length;){const n=s.pop(),i=e[a(n,t)].nodes[h(n,t)];for(let o=0;o<i.childCount;o++){const r=i.firstChild+o;null!=e[a(r,t)]&&(e[a(r,t)].parents[h(r,t)]=n,s.push(r))}}}function a(e,t){return e/t|0}function h(e,t){return e%t}export{i as PagedNodeIndex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../Graphic.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as t}from\"../../../../core/accessorSupport/decorators/subclass.js\";let e=class extends r{constructor(o){super(o),this.pointCloudMetadata=null}};o([s({constructOnly:!0,clonable:\"reference\"})],e.prototype,\"pointCloudMetadata\",void 0),e=o([t(\"esri.views.3d.layers.i3s.PointCloudGraphic\")],e);export{e as PointCloudGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{makeHandle as e}from\"../../../../core/handleUtils.js\";import{Object3DHighlightStateID as t}from\"../../webgl-engine/lib/Object3DStateID.js\";class i{constructor(e){this._context=e,this._highlights=new Map}get empty(){return 0===this._highlights.size}destroy(){this._highlights=null}add(t,i){const s=new h(t,i),o=this._highlights.get(i);return o?o.add(s):this._highlights.set(i,new Set([s])),this._enableSet(s),e((()=>this._removeSet(s)))}_removeSet(e){this._disableSet(e);const{highlightName:t}=e.id,i=this._highlights.get(t);i&&(i.delete(e),0===i.size&&this._highlights.delete(t))}_enableSet(e){e.enabled||(e.enabled=!0,this._context.forEachNode((t=>this._enableSetForNode(e,t))))}_enableSetForNode(e,t){if(!e.enabled)return;const i=e.ids.get(t.id);i&&i.forEach((i=>this._context.addHighlight(t,i,e.id)))}_disableSet(e){e.enabled&&(e.enabled=!1,this._context.forEachNode((t=>this._disableSetForNode(e,t))))}_disableSetForNode(e,t){e.enabled||this._context.removeHighlight(t,e.id)}nodeAdded(e){this._forEachSet((t=>this._enableSetForNode(t,e)))}nodeRemoved(e){this._forEachSet((t=>this._disableSetForNode(t,e)))}removeAll(){this._forEachSet((e=>this._disableSet(e)))}_forEachSet(e){this._highlights.forEach((t=>t.forEach(e)))}hasHighlightOptions(e){return this._highlights.has(e)}}class h{constructor(e,i){this.ids=new Map,this.enabled=!1;for(const t of e)null!=t&&this._add(t.nodeId,t.pointId);this.id=new t(i)}_add(e,t){const i=this.ids.get(e);i?i.add(t):this.ids.set(e,new Set([t]))}}export{i as PointCloudHighlights};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as r}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as t}from\"../core/shaderTechnique/ShaderTechnique.js\";import{stencilWriteMaskOn as s,stencilBaseAllZerosParams as i}from\"../lib/StencilUtils.js\";import{b as o}from\"../../../../chunks/PointRenderer.glsl.js\";import{CompareFunction as l,SpecialDrawBuffers as n}from\"../../../webgl/enums.js\";import{makePipelineState as u,defaultDepthWrite as c,defaultColorWrite as d}from\"../../../webgl/renderState.js\";class a extends t{constructor(e,t){super(e,t,new r(o,(()=>import(\"./PointRenderer.glsl.js\"))))}initializePipeline(r){return u({depthTest:{func:l.LESS},depthWrite:c,colorWrite:d,stencilWrite:r.hasOccludees?s:null,stencilTest:r.hasOccludees?i:null,drawBuffers:r.output===e.Depth?{buffers:[n.NONE]}:null})}}export{a as PointRendererTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{parameter as i}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as o}from\"../materials/DefaultTechniqueConfiguration.js\";class s extends o{constructor(){super(...arguments),this.drawScreenSize=!1,this.useFixedSizes=!1,this.hasOccludees=!1,this.clippingEnabled=!1}}e([i()],s.prototype,\"drawScreenSize\",void 0),e([i()],s.prototype,\"useFixedSizes\",void 0),e([i()],s.prototype,\"hasOccludees\",void 0),e([i()],s.prototype,\"clippingEnabled\",void 0);export{s as PointRendererTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{disposeMaybe as t}from\"../../../../core/maybe.js\";import s from\"../../../../core/PooledArray.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{d as n,l as o,h as a,v as l,f as h,k as c}from\"../../../../chunks/vec32.js\";import{create as d}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{s as u}from\"../../../../chunks/vec42.js\";import{create as m,offset as p,contains as g,containsPoint as _,set as f,positiveInfinity as P,equals as b}from\"../../../../geometry/support/aaBoundingBox.js\";import{create as x}from\"../../../../geometry/support/plane.js\";import{fromPoints as S}from\"../../../../geometry/support/ray.js\";import{PclTarget as R}from\"./Intersector.js\";import{PointCloudHighlights as w}from\"./PointCloudHighlights.js\";import{isDepth as z,ShaderOutput as A,isColorOrColorEmission as j}from\"../../webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SyncRenderPlugin as y}from\"../../webgl-engine/effects/RenderPlugin.js\";import{Default3D as I}from\"../../webgl-engine/lib/DefaultVertexAttributeLocations.js\";import{newIntersectorResult as O}from\"../../webgl-engine/lib/Intersector.js\";import{IntersectorType as v,StoreResults as E}from\"../../webgl-engine/lib/IntersectorInterfaces.js\";import{RenderSlot as L}from\"../../webgl-engine/lib/RenderSlot.js\";import{VertexArrayObject as q}from\"../../webgl-engine/lib/VertexArrayObject.js\";import{VertexAttribute as T}from\"../../webgl-engine/lib/VertexAttribute.js\";import{P as M,g as H}from\"../../../../chunks/PointRenderer.glsl.js\";import{PointRendererTechnique as N}from\"../../webgl-engine/shaders/PointRendererTechnique.js\";import{PointRendererTechniqueConfiguration as F}from\"../../webgl-engine/shaders/PointRendererTechniqueConfiguration.js\";import{BufferObject as U}from\"../../../webgl/BufferObject.js\";import{DataType as B,PrimitiveType as C,Usage as W}from\"../../../webgl/enums.js\";import{VertexElementDescriptor as D}from\"../../../webgl/VertexElementDescriptor.js\";const V=new Map([[\"positions\",[new D(T.POSITION,3,B.FLOAT,0,12)]],[\"colors\",[new D(T.COLOR,3,B.UNSIGNED_BYTE,0,3,!0)]]]);let k=class extends y{constructor(e){super(e),this.type=v.PCL,this.isGround=!1,this._passParameters=new M,this._highlights=new w({forEachNode:e=>this.forEachNode(e),addHighlight:(e,t,s)=>this._addHighlight(e,t,s),removeHighlight:(e,t)=>this._removeHighlight(e,t)}),this.produces=new Map([[L.OPAQUE_MATERIAL,e=>!(z(e)||e===A.Highlight&&this._highlights.empty)],[L.OPAQUE_MATERIAL_WITHOUT_NORMALS,e=>z(e)]]),this.layerUid=\"\",this._slicePlaneEnabled=!1,this._configuration=new F,this._nodes=new s}hasHighlightOptions(e){return this._highlights.hasHighlightOptions(e)}initializeRenderContext(e){this._context=e,e.requestRender()}uninitializeRenderContext(){}intersect(e,t,s,i){const r=d(),f=d(),P=d(),b=d(),w=x(),z=e.camera.perScreenPixelRatio/2,A=e.camera.near;n(f,i,s);const j=1/o(f);a(f,f,j),l(P,f),u(w,f[0],f[1],f[2],-h(f,s));const y=new J,I=new J,v=new Array,L=m(),q=m(this._passParameters.clipBox);p(q,-s[0],-s[1],-s[2],q),this._nodes.forAll((o=>{const a=o.splatSize*this._passParameters.scaleFactor;let l=o.obb.minimumDistancePlane(w),d=o.obb.maximumDistancePlane(w);l-=Q(a,l+A,this._passParameters,z,o.isLeaf),d-=Q(a,d+A,this._passParameters,z,o.isLeaf);const u=d<0,m=null!=y.dist&&null!=I.dist&&y.dist<l*j&&I.dist>d*j;if(u||m)return;const x=G(a,d+A,this._passParameters,z,o.isLeaf);if(!o.obb.intersectRay(s,f,x))return;const S=x*x;o.obb.toAaBoundingBox(L),p(L,-s[0],-s[1],-s[2],L);const R=!g(q,L);n(b,o.origin,s);const O=o.coordinates.length/3;for(let n=0;n<O;n++){if(r[0]=b[0]+o.coordinates[3*n],r[1]=b[1]+o.coordinates[3*n+1],r[2]=b[2]+o.coordinates[3*n+2],R&&!_(q,r))continue;const l=h(r,f),d=c(r)-l*l;if(d>S)continue;let u=l+A;const m=Q(a,u,this._passParameters,z,o.isLeaf);if(l-m<0)continue;u-=m;const p=G(a,u,this._passParameters,z,o.isLeaf);if(d>p*p)continue;const g=(l-m)*j,x=e=>(e.point=Y(o,n,e.point),e.dist=g,e.normal=P,e.node=o,e.pointId=n,e.layerUid=this.layerUid,e);if((null==y.dist||g<y.dist)&&(null==t||t(s,i,g))&&x(y),e.options.store!==E.MIN&&(null==I.dist||g>I.dist)&&(null==t||t(s,i,g))&&x(I),e.options.store===E.ALL&&(null==t||t(s,i,g))){const e=new J;v.push(x(e))}}}));const T=e=>{const{layerUid:t,node:s,pointId:i}=e;return new R(e.point,t,i,(()=>this.createGraphic(s,i,e.point)))},M=(e,t)=>{const s=T(t);e.set(this.type,s,t.dist,t.normal)};if(K(y)){const t=e.results.min;(null==t.dist||y.dist<t.dist)&&M(t,y)}if(K(I)&&e.options.store!==E.MIN){const t=e.results.max;(null==t.dist||I.dist>t.dist)&&M(t,I)}if(e.options.store===E.ALL){const t=S(s,i);for(const s of v){const i=O(t);M(i,s),e.results.all.push(i)}}}acquireTechniques(e){return 0!==this._nodes.length&&(j(e.output)||z(e.output)&&e.bind.slot===L.OPAQUE_MATERIAL_WITHOUT_NORMALS||e.output===A.Highlight)?(this._nodes.forAll((t=>this._initNode(e,t))),this._configuration.drawScreenSize=this._passParameters.drawScreenSpace,this._configuration.useFixedSizes=this._passParameters.useFixedSizes,this._configuration.hasSlicePlane=this._slicePlaneEnabled,this._configuration.hasOccludees=e.bind.hasOccludees,this._configuration.clippingEnabled=this._clippingEnabled,this._configuration.output=e.output,this._context.techniques.get(N,this._configuration)):null}render(e,t){const{rctx:s,bind:i,output:r}=e,n=s.bindTechnique(t,i,this._passParameters),o=r===A.Highlight,a=i.highlight?.name??null;o&&!a||this._nodes.forAll((t=>{0===t.coordinates.length||o&&!t.highlightMap.has(a)||(n.bindDraw(i,this._passParameters,t),s.bindVAO(t.vao),o?this._renderHighlightFragments(e,t):s.drawArrays(C.POINTS,0,t.coordinates.length/3))}))}_renderHighlightFragments(e,t){const{highlightMap:s}=t,{rctx:i,bind:r}=e,{highlight:n}=r;if(!n)return;const o=n.name,a=s.get(o);if(!a||0===a.length)return;const{highlightOrderMap:l,highlightLevel:h}=r;if(null==h)return;for(const g of s.keys())if(g!==o){const e=l.get(g);if(void 0!==e&&e>h)return}let c=0,d=a[0].componentIndex,u=d+1;const m=()=>{for(;c<a.length&&a[c].id.highlightName!==o;)d=a[c].componentIndex,++c;u=d+1};m();const p=(e,t)=>{const s=t-e;s>0&&i.drawArrays(C.POINTS,e,s)};for(;c<a.length;){const e=a[c];if(e.id.highlightName!==o){p(d,u),++c,m();continue}const t=e.componentIndex;t!==u&&(p(d,u),d=t),u=t+1,++c}p(d,u)}set useFixedSizes(e){this._passParameters.useFixedSizes!==e&&(this._passParameters.useFixedSizes=e,this._requestRender())}get useFixedSizes(){return this._passParameters.useFixedSizes}set scaleFactor(e){this._passParameters.scaleFactor!==e&&(this._passParameters.scaleFactor=e,this._requestRender())}get scaleFactor(){return this._passParameters.scaleFactor}set minSizePx(e){this._passParameters.minSizePx!==e&&(this._passParameters.minSizePx=e,this._requestRender())}get minSizePx(){return this._passParameters.minSizePx}set useRealWorldSymbolSizes(e){this._passParameters.useRealWorldSymbolSizes!==e&&(this._passParameters.useRealWorldSymbolSizes=e,this._requestRender())}get useRealWorldSymbolSizes(){return this._passParameters.useRealWorldSymbolSizes}set size(e){this._passParameters.size!==e&&(this._passParameters.size=e,this._requestRender())}get size(){return this._passParameters.size}set sizePx(e){this._passParameters.sizePx!==e&&(this._passParameters.sizePx=e,this._requestRender())}get sizePx(){return this._passParameters.sizePx}set clippingBox(e){f(this._passParameters.clipBox,e||P)}get _clippingEnabled(){return!b(this._passParameters.clipBox,P,((e,t)=>e===t))}get slicePlaneEnabled(){return this._slicePlaneEnabled}set slicePlaneEnabled(e){this._slicePlaneEnabled!==e&&(this._slicePlaneEnabled=e,this._requestRender())}addNode(e){this._nodes.push(e),this._highlights.nodeAdded(e),this._requestRender()}removeNode(e){let s=null;return this._nodes.filterInPlace((i=>i.id!==e||(s=i,i.vao=t(i.vao),this._highlights.nodeRemoved(i),!1))),this._requestRender(),s}forEachNode(e){this._nodes.forAll(e)}removeAll(){this._nodes.forAll((e=>e.vao=t(e.vao))),this._highlights.removeAll(),this._nodes.clear(),this._requestRender()}highlight(e,t){return this._highlights.add(e,t)}_addHighlight(e,t,s){e.addHighlight(t,s),this._requestRender()}_removeHighlight(e,t){e.removeHighlight(t),this._requestRender()}_initNode(e,t){t.vao??=new q(e.rctx,I,V,new Map([[\"positions\",U.createVertex(e.rctx,W.STATIC_DRAW,t.coordinates)],[\"colors\",U.createVertex(e.rctx,W.STATIC_DRAW,t.rgb)]]))}_requestRender(){this._context&&this._context.requestRender()}};function G(e,t,s,i,r){if(s.drawScreenSpace)return s.fixedSize*t*i;const n=H(r)*t*i;return s.useFixedSizes?Math.min(s.fixedSize/2,n):s.screenMinSize>0?Math.min(Math.max(s.screenMinSize*t*i,e/2),n):Math.min(e/2,n)}function Q(e,t,s,i,r){return s.drawScreenSpace?0:G(e,t,s,i,r)}function Y(e,t,s){return null==s&&(s=d()),s[0]=e.origin[0]+e.coordinates[3*t],s[1]=e.origin[1]+e.coordinates[3*t+1],s[2]=e.origin[2]+e.coordinates[3*t+2],s}e([i({constructOnly:!0})],k.prototype,\"createGraphic\",void 0),k=e([r(\"esri.views.3d.layers.i3s.PointCloudRenderer\")],k);class J{constructor(){this.node=null,this.pointId=null,this.point=null,this.dist=null,this.normal=null,this.layerUid=\"\"}}function K(e){return null!=e.dist&&null!=e.point&&null!=e.pointId&&null!=e.node}export{k as PointCloudRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getOrCreateMapValue as t}from\"../../../../core/MapUtils.js\";import{a as e}from\"../../../../chunks/PointRenderer.glsl.js\";class i extends e{constructor(t,e,i,n,h,s,r,o,l=null){super(i,h,e),this.id=t,this.obb=n,this.coordinates=s,this.rgb=r,this.attributes=o,this.pointIdFilterMap=l,this.highlightMap=new Map}addHighlight(e,i){const{highlightMap:n}=this,r=t(n,i.highlightName,(()=>new Array)),o=new s(e,i);r.push(o);const l=h(o);for(let t=r.length-1;t>0&&l<h(r[t-1]);--t)[r[t-1],r[t]]=[r[t],r[t-1]]}removeHighlight(t){const{highlightMap:e}=this,{highlightName:i}=t,n=e.get(i);if(!n)return;const h=n.filter((e=>e.id!==t));0===h.length?e.delete(i):e.set(i,h)}get cachedMemory(){return 5*this.coordinates.length+128}}function n(t){return t.hasOwnProperty(\"splatSize\")}function h(t){return null!=t.componentIndex?t.componentIndex:-1}class s{constructor(t,e){this.componentIndex=t,this.id=e}}export{i as PointCloudRendererNode,n as isPointRendererNode};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nfunction t(t){const e=t.renderer,n=e?.type,o=e?.toJSON()??null;let l=null,i=!1;const a=t.attributeStorageInfo;\"point-cloud-unique-value\"===n||\"point-cloud-stretch\"===n||\"point-cloud-class-breaks\"===n?l=u(a,e.field):\"point-cloud-rgb\"===n?(l=r(a,e.field),i=null!=l):(l=r(a,\"RGB\"),i=null!=l);let s=null;return e?.colorModulation&&(s=u(a,e.colorModulation.field)),{rendererJSON:o,isRGBRenderer:i,primaryAttribute:l,modulationAttribute:s}}function e(t){const e=t.filters;return e?e.map((e=>({filterJSON:e.toJSON(),attributeInfo:u(t.attributeStorageInfo,e.field)}))):[]}function n(t){const e=t?.pointSizeAlgorithm;return e&&\"splat\"===e.type?e:null}function o(t){const e=t?.pointSizeAlgorithm;return e&&\"fixed-size\"===e.type?e:null}function l(t){const e=t?.pointSizeAlgorithm;return!!e?.type&&\"fixed-size\"===e.type}function r(t,e){for(const n of t??[])if(n.name===e&&null!=n.attributeValues&&\"UInt8\"===n.attributeValues.valueType&&3===n.attributeValues.valuesPerElement)return{name:e,storageInfo:n,useElevation:!1};return null}function u(t,e){for(const n of t??[])if(n.name===e){const t=\"embedded-elevation\"===n.encoding;return t?{name:e,storageInfo:null,useElevation:t}:{name:e,storageInfo:n,useElevation:t}}return\"elevation\"===e?.toLowerCase()?{name:e,storageInfo:null,useElevation:!0}:null}export{u as getAttributeInfo,e as getFilterInfo,o as getFixedSizeAlgorithm,t as getRendererInfo,n as getSplatSizeAlgorithm,l as rendererUsesFixedSizes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../Graphic.js\";import{isSome as i}from\"../../../core/arrayUtils.js\";import{result as r,forEach as s}from\"../../../core/asyncUtils.js\";import\"../../../core/has.js\";import o from\"../../../core/Logger.js\";import{destroyMaybe as n,abortMaybe as a}from\"../../../core/maybe.js\";import{estimateNumberArrayMemory as d}from\"../../../core/memoryEstimations.js\";import{isAbortError as l,allSettledValues as h,throwIfAborted as u}from\"../../../core/promiseUtils.js\";import{initial as p,watch as _,sync as c}from\"../../../core/reactiveUtils.js\";import{pt2px as m}from\"../../../core/screenUtils.js\";import{isArrayBuffer as g}from\"../../../core/typedArrayUtil.js\";import{property as f}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as y}from\"../../../core/accessorSupport/decorators/subclass.js\";import{f as b,c as w}from\"../../../chunks/vec32.js\";import{clone as P}from\"../../../core/libs/gl-matrix-2/factories/vec3f32.js\";import{create as N}from\"../../../geometry/support/aaBoundingBox.js\";import{create as x,fromNormalAndOffset as v}from\"../../../geometry/support/plane.js\";import{CodedValue as C}from\"../../../layers/support/CodedValue.js\";import I from\"../../../layers/support/CodedValueDomain.js\";import\"../../../layers/support/Domain.js\";import\"../../../layers/support/InheritedDomain.js\";import\"../../../layers/support/RangeDomain.js\";import{unpackFieldNames as A}from\"../../../layers/support/fieldUtils.js\";import{PromiseQueue as S}from\"../../../layers/support/PromiseQueue.js\";import k from\"../../../rest/support/Query.js\";import{getElevationOffset as V}from\"../../../support/elevationInfoUtils.js\";import{LayerView3D as R}from\"./LayerView3D.js\";import{PointCloudLayerViewPerformanceInfo as j,QueuePerformanceInfo as D}from\"./PointCloudLayerViewPerformanceInfo.js\";import{PointCloudWorkerHandle as L}from\"./PointCloudWorkerHandle.js\";import{checkPointCloudLayerValid as Q,checkPointCloudLayerCompatibleWithView as U}from\"./i3s/I3SUtil.js\";import{nodeDiff as W,sortFrontToBack as E,splitWorkEntries as F}from\"./i3s/LoDUtil.js\";import{PagedNodeIndex as M}from\"./i3s/PagedNodeIndex.js\";import{PointCloudGraphic as z}from\"./i3s/PointCloudGraphic.js\";import{PointCloudRenderer as H}from\"./i3s/PointCloudRenderer.js\";import{isPointRendererNode as O,PointCloudRendererNode as G}from\"./i3s/PointCloudRendererNode.js\";import{getSplatSizeAlgorithm as q,getFixedSizeAlgorithm as B,getRendererInfo as T,getFilterInfo as $,rendererUsesFixedSizes as J,getAttributeInfo as K}from\"./i3s/PointCloudRendererUtil.js\";import{getAttributeValues as X,readGeometry as Y,elevationFromPositions as Z}from\"./i3s/PointCloudWorkerUtil.js\";import{emptyHighlightHandle as ee,normalizeHighlightTargetExceptQuery as te}from\"./support/highlightUtils.js\";import{PopupSceneLayerView as ie}from\"./support/PopupSceneLayerView.js\";import{projectToBoundingBox as re}from\"../support/extentUtils.js\";import{computeMapPointFromVec3d as se}from\"../support/hitTest.js\";import{ClientType as oe}from\"../support/index.js\";import{Obb as ne}from\"../support/orientedBoundingBox.js\";import{updatingProgress as ae}from\"../support/updatingProperties.js\";import de from\"../../layers/LayerView.js\";import{defaultHighlightName as le}from\"../../support/HighlightDefaults.js\";import{isInEffectiveScaleRange as he}from\"../../support/layerViewUtils.js\";import{TaskPriority as ue}from\"../../support/Scheduler.js\";const pe=8,_e=x();let ce=class extends(ie(R(de))){constructor(){super(...arguments),this.type=\"point-cloud-3d\",this.maximumPointCount=4e6,this.slicePlaneEnabled=!1,this._renderer=null,this._rendererAdded=!1,this._renderedNodes=new Set,this._updateViewNeeded=!0,this._lodFactor=1,this._maxLoggedBoxWarnings=5,this._pageMultiplier=1,this._nodeLoadEpoch=0,this._indexQueue=[],this._workQueue=new Array,this._idleQueue=new S,this._indexPagesLoading=new Map,this._loadingNodes=new Map,this._recalcWork=!0,this._layerIsVisible=!1,this._codedDomainPopulationPromise=null,this._codedDomainPopulationAbortController=null,this._totalWork=0,this._index=null,this._loadingInitNodePage=!1,this._nodeIdArray=[],this.ignoresMemoryFactor=!1}get baseUrl(){return this.layer.parsedUrl?.path??\"\"}get pointScale(){const e=q(this.layer?.renderer),t=1;return null!=e?.scaleFactor?e.scaleFactor:t}get useRealWorldSymbolSizes(){const e=B(this.layer?.renderer),t=!1;return null!=e?.useRealWorldSymbolSizes?e.useRealWorldSymbolSizes:t}get pointSize(){const e=B(this.layer?.renderer),t=0;return null!=e?.size?e.size:t}get inverseDensity(){const e=96;return this.layer?.renderer?1*e/this.layer.renderer.pointsPerInch:5}get availableFields(){const e=T(this.layer),t=new Set;e.primaryAttribute&&t.add(e.primaryAttribute.name),e.modulationAttribute&&t.add(e.modulationAttribute.name);const i=$(this.layer);if(i)for(const r of i)r.attributeInfo&&t.add(r.attributeInfo.name);if(this.layer.outFields)for(const r of A(this.layer.fieldsIndex,this.layer.outFields))t.add(r);return Array.from(t)}get _clippingBox(){if(!this.view||!this.view.clippingArea)return null;const e=N(),t=this.view.renderSpatialReference;return re(this.view.clippingArea,e,t)?e:null}get _elevationOffset(){const e=this.layer&&this.layer.elevationInfo;return e&&\"absolute-height\"===e.mode?V(e,this.layer.spatialReference):0}initialize(){const e=this.view.resourceController,t=fe(e);this._worker=new L(t),this.addResolvingPromise(this._worker.promise),Q(this.layer),U(this.layer,this.view),this._indexRequester=e.createStreamDataRequester(oe.I3S_INDEX),this._dataRequester=e.createStreamDataRequester(oe.I3S_DATA),this._initRenderer();const i=this._initNodePages(),r=this.view.resourceController.memoryController;this._memCache=r.newCache(`pcl-${this.layer.uid}`),this._updatingHandles.add((()=>this._clippingBox),(()=>this._setUpdateViewNeeded()),p),this._updatingHandles.add((()=>this._elevationOffset),(()=>this._elevationOffsetChanged()),p),this._updatingHandles.add((()=>this.layer.renderer),(()=>this._rendererChanged()),p),this._updatingHandles.add((()=>this.layer.filters),(()=>this._reload()),p),this._updatingHandles.add((()=>this.layer.outFields),(()=>this._reload()),p),this._updatingHandles.add((()=>this.layer.effectiveScaleRange),(()=>this._setUpdateViewNeeded())),this._updatingHandles.add((()=>this.view.state.contentCamera),(()=>this._setUpdateViewNeeded())),this.addHandles([_((()=>this.view.quality),(()=>this._setUpdateViewNeeded()),c)]),this.addResolvingPromise(i),this.when((()=>{this.addHandles([e.scheduler.registerTask(ue.POINT_CLOUD_LAYER,this),e.scheduler.registerIdleStateCallbacks((()=>this._idleBegin()),(()=>this._idleEnd())),this._updatingHandles.add((()=>this.suspended),(e=>{e?this._clearNodeState():this._setUpdateViewNeeded()}),p)])}),(()=>{this._updatingHandles.removeAll(),this.removeAllHandles()}))}_setUpdateViewNeeded(){this._updateViewNeeded=!0,this._updateLoading()}destroy(){this.cancelLoading(),this._worker=n(this._worker),this._destroyRenderer(),this._memCache=n(this._memCache),this._codedDomainPopulationAbortController=a(this._codedDomainPopulationAbortController),this._codedDomainPopulationPromise=null}_initRenderer(){this._renderer=new H({createGraphic:(e,t,i)=>this._createGraphic(e,t,i)}),this._renderer.layerUid=this.layer.uid,this._updatingHandles.add((()=>this._clippingBox),(e=>this._renderer.clippingBox=e),p),this._updatingHandles.add((()=>this.suspended),(e=>this._setPointsVisible(!e)),p),this._updatingHandles.add((()=>this.pointScale),(e=>this._renderer.scaleFactor=e),p),this._renderer.minSizePx=Math.sqrt(2),this._updatingHandles.add((()=>this.useRealWorldSymbolSizes),(e=>this._renderer.useRealWorldSymbolSizes=e),p),this._updatingHandles.add((()=>this.pointSize),(e=>{const t=m(e);this._renderer.size=e,this._renderer.sizePx=t}),p),this._updatingHandles.add((()=>this.slicePlaneEnabled),(e=>this._renderer.slicePlaneEnabled=e),p),this._updatingHandles.add((()=>this.inverseDensity),(()=>this._setUpdateViewNeeded()),p),this._updatingHandles.add((()=>this.maximumPointCount),(()=>this._setUpdateViewNeeded()),p),this._updatingHandles.add((()=>this.view.qualitySettings.sceneService.pointCloud.lodFactor),(e=>{this._lodFactor=e,this._setUpdateViewNeeded()}),p)}_destroyRenderer(){this._renderer.removeAll(),this._setPointsVisible(!1)}_createGraphic(e,t,i){const r=null!=e.pointIdFilterMap?e.pointIdFilterMap[t]:t,s=se(this.view,i),o=this._createGraphicAttributes(e,r);return new z({pointCloudMetadata:{nodeId:e.id,pointIndexInNode:t,attributePointIndexInNode:r,epoch:this._nodeLoadEpoch},geometry:s,attributes:o,layer:this.layer,sourceLayer:this.layer})}_createGraphicAttributes(e,t){const i={};for(const r of e.attributes)this._encodeGraphicAttribute(r.attributeInfo,r.values,t,i);return i}_encodeGraphicAttribute(e,t,i,r){const s=e.storageInfo?.attributeValues,o=s?.valuesPerElement??1;if(1===o)r[e.name]=t[i];else if(\"UInt8\"===s?.valueType&&o<=4){let s=0;const n=i*o;for(let e=n;e<n+o;e++)s=(s<<8)+t[e];r[e.name]=s}else r[e.name]=void 0}_setPointsVisible(e){e&&!this._rendererAdded?(this.view._stage.addRenderPlugin(this._renderer),this._rendererAdded=!0):!e&&this._rendererAdded&&(this.view._stage.removeRenderPlugin(this._renderer),this._rendererAdded=!1)}_rendererChanged(){this._renderer.useFixedSizes=J(this.layer.renderer),this._reload()}_reload(){this._clearNodeState(),this._memCache.clear(),this._setUpdateViewNeeded()}_elevationOffsetChanged(){this._clearNodeState(),this._memCache.clear(),this._initNodePages()}_displayNodes(e){this._workQueue=W([...this._renderedNodes],e,this._index),E(this._workQueue,this.view.state.contentCamera.viewForward,this._index),F(this._workQueue,pe,this._index),this._updateQueues(),this._totalWork=this._computeWork(),this._updateLoading(),this._layerIsVisible=e.length>0||this._loadingInitNodePage,this.notifyChange(\"suspended\")}cancelLoading(){this._cancelNodeLoading(),this._cancelIndexLoading()}_cancelNodeLoading(){const e=new Array;this._loadingNodes.forEach((({abortController:t})=>e.push(t))),this._loadingNodes.clear();for(const t of e)t.abort();this._workQueue=[],this._idleQueue.cancelAll(),this._totalWork=this._computeWork(),this._updateLoading()}_updateQueues(){const e=new Set;this._workQueue.forEach((t=>t.load.forEach((t=>e.add(t)))));const t=new Array,i=new Map;this._loadingNodes.forEach(((r,s)=>{e.has(s)?i.set(s,r):t.push(r)})),this._loadingNodes=i;for(const{abortController:r}of t)r.abort();this._workQueue=this._workQueue.filter((e=>{for(const t of e.load)if(this._loadingNodes.has(t))return this._recalcWork=!0,!1;return!0})),this._totalWork=this._computeWork(),this._updateLoading()}_cancelIndexLoading(){this._indexQueue=[],this._indexPagesLoading.forEach((({abortController:e})=>e.abort())),this._indexPagesLoading.clear(),this._totalWork=this._computeWork(),this._updateLoading()}_clearNodeState(){this._nodeLoadEpoch++,this._renderedNodes.forEach((e=>this._removeFromRenderer(e))),this._cancelNodeLoading()}_idleBegin(){this._setUpdateViewNeeded()}_idleEnd(){this._setUpdateViewNeeded()}get running(){return this.suspended?this._updateViewNeeded:this._updateViewNeeded||this._indexQueue.length>0||this._workQueue.length>0||this._idleQueue.running}runTask(e){if(this.suspended){if(this._updateViewNeeded){this._updateViewNeeded=!1;const e=this._isRootNodeVisible();e!==this._layerIsVisible&&(this._layerIsVisible=e,this.notifyChange(\"suspended\")),this._updateLoading()}}else{for(e.run((()=>this._updateWorkQueues()));this._indexQueue.length>0&&e.run((()=>this._processIndexQueue())););this._processWorkQueue(e),this._idleQueue.runTask(e)}}_processIndexQueue(){const e=this._indexQueue.shift(),t=this._loadNodePage(e);return this._indexPagesLoading.set(e,t),t.promise.then((t=>{this._index.addPage(e,t,this._elevationOffset),this._setUpdateViewNeeded()})).then((()=>{this._indexPagesLoading.delete(e)}),(()=>{this._indexPagesLoading.delete(e)})),!0}_processWorkQueue(e){for(;!e.done;){const t=this._scheduleWorkEntry();if(null==t)return void e.madeProgress();this._processWorkEntry(t),e.madeProgress()}}_scheduleWorkEntry(){let e=this._workQueue.length;for(;e--;){const e=this._workQueue.shift();if(!e.remove.find((e=>!this._renderedNodes.has(e))))return e;this._workQueue.push(e)}return null}_processWorkEntry(e){if(0!==e.load.length)Promise.all(e.load.map((e=>{const t=new AbortController,i=this._memCache.pop(e.toString());return null!=i?this._loadingNodes.set(e,{abortController:t,promise:Promise.resolve(i)}):this._loadingNodes.has(e)||this._loadingNodes.set(e,{abortController:t,promise:this._loadNode(e,t.signal)}),this._loadingNodes.get(e).promise}))).then((t=>{for(let i=0;i<e.load.length;i++)if(t[i]){const r=this._setupRendererData(e.load[i],t[i]);this._addToRenderer(r)}for(const i of e.remove)this._removeFromRenderer(i)})).catch((()=>{})).then((()=>{for(const t of e.load)this._loadingNodes.delete(t);this._updateLoading(),this._recalcWork&&!this._idleQueue.running&&0===this._indexQueue.length&&0===this._loadingNodes.size&&(this._recalcWork=!1,this._setUpdateViewNeeded())})),this._updateLoading();else for(const t of e.remove)this._removeFromRenderer(t)}async _populateClassCodeCodedDomain(e,t){const i=\"CLASS_CODE\",s=this.layer.fieldsIndex.get(i);if(!s||s.domain)return;if(!e.includes(s.name))return;const o=await r(this.layer.queryCachedStatistics(i,{signal:t}));if(!1===o.ok)return;const n=o.value?.stats?.labels?.labels;n&&Array.isArray(n)&&(s.domain=new I({name:\"CLASS_CODE\",codedValues:n.map((e=>new C({code:e.value,name:e.label})))}))}async prepareFetchPopupFeatures(e){return this._codedDomainPopulationPromise||(this._codedDomainPopulationAbortController=new AbortController,this._codedDomainPopulationPromise=this._populateClassCodeCodedDomain(e,this._codedDomainPopulationAbortController.signal).then((()=>{this._codedDomainPopulationAbortController=null}))),this._codedDomainPopulationPromise}async whenGraphicAttributes(e,t){const r=this._splitGraphicsPerNode(e),o=this.layer.attributeStorageInfo,n=t.map((e=>K(o,e))).filter(i),a=async(e,t)=>{const i=this._index.getNode(t);await s(n,(async t=>{const r=t.useElevation?await this._loadElevationAttributeFromGeometry(i.resourceId):await this._loadAndParseAttribute(i,t);if(r)for(const i of e)if(this._isValidPointGraphic(i)){const e=i.pointCloudMetadata.attributePointIndexInNode;this._encodeGraphicAttribute(t,r,e,i.attributes)}}))},d=[];return r.forEach(((e,t)=>{d.push(a(e,t))})),await Promise.allSettled(d),e}_isValidPointGraphic(e){return e instanceof z&&e.pointCloudMetadata?.epoch===this._nodeLoadEpoch}_splitGraphicsPerNode(e){const t=new Map;for(const i of e){if(!this._isValidPointGraphic(i))continue;const e=i.pointCloudMetadata,r=t.get(e.nodeId);r?r.push(i):t.set(e.nodeId,[i])}return t}async _loadAndParseAttribute(e,t){const i=await this._loadAttribute(e.resourceId,t,null);return null!=i?X({attributeInfo:t,buffer:i},null,e.vertexCount):null}async _loadElevationAttributeFromGeometry(e){const t=this.layer.store.defaultGeometrySchema,i=Y(t,await this._loadGeometry(e,null));return Z(i,i.length/3)}highlight(e,i){if(!e||e instanceof k)return ee;const r=te(e);if(0===r.length)return ee;if(!(r[0]instanceof t))return ee;const s=r;return this._renderer.highlight(s.map((e=>this._graphicToPointDefinition(e))),i?.name??le)}_graphicToPointDefinition(e){if(!this._isValidPointGraphic(e))return null;const{nodeId:t,pointIndexInNode:i}=e.pointCloudMetadata;return null!=t&&null!=i?{nodeId:t,pointId:i}:null}_computeWork(){let e=0;for(const t of this._workQueue)e+=t.load.length+t.remove.length;return e+=this._loadingNodes.size,e+=(this._indexQueue.length+this._indexPagesLoading.size)*this._index.pageSize,e+=this._loadingInitNodePage?100:0,e+=this._updateViewNeeded?100:0,e}get updatingProgressValue(){if(this.suspended)return this._updateViewNeeded?0:1;const e=this._computeWork();return 1-Math.min(this._totalWork,e)/this._totalWork}_updateLoading(){this.notifyChange(\"updating\"),this.notifyChange(\"updatingProgressValue\")}canResume(){return super.canResume()&&this._layerIsVisible}isUpdating(){return this.suspended?this._updateViewNeeded:this._computeWork()>0}get visibleAtCurrentScale(){return he(this.layer.effectiveScaleRange,this.view.scale)}_initNodePages(){const e=this.layer.store.index,t=e.nodesPerPage||e.nodePerIndexBlock;return this._index=new M(this.layer.spatialReference,this.view.renderCoordsHelper.spatialReference,t),this._cancelIndexLoading(),this._traverseVisible=this._index.createVisibilityTraverse(),this._loadingInitNodePage=!0,this._layerIsVisible=!0,this.notifyChange(\"suspended\"),this._updateLoading(),this._pageMultiplier=null!=e.nodesPerPage?1:e.nodePerIndexBlock,this._loadNodePage(0).promise.then((e=>{this._index.addPage(0,e,this._elevationOffset),this._loadingInitNodePage=!1,this._setUpdateViewNeeded()}))}_loadNodePage(e){const t=new AbortController,i=`${this.baseUrl}/nodepages/${e*this._pageMultiplier}`;return{promise:this._requestNodePage(i,t.signal).then((t=>t.nodes.map(((t,i)=>({resourceId:null!=t.resourceId?t.resourceId:e*this._index.pageSize+i,obb:ne.fromJSON(t.obb),obbInRenderSR:new ne,firstChild:t.firstChild,childCount:t.childCount,vertexCount:t.vertexCount??t.pointCount,lodThreshold:t.lodThreshold??t.effectiveArea}))))),abortController:t}}_updateWorkQueues(){if(!this._updateViewNeeded)return!1;const e=this.view.quality;let t=this.inverseDensity/this._lodFactor*e;const i=this.maximumPointCount*this._lodFactor*e;let r=this._computeNodesForMinimumDensity(t),s=this._computePointCount(r),o=Math.sqrt(s/(.75*i));for(;s>i;)t*=o,r=this._computeNodesForMinimumDensity(t),s=this._computePointCount(r),o=Math.sqrt(2);return this._displayNodes(r),this._updateViewNeeded=!1,this._updateLoading(),!0}_computePointCount(e){let t=0;for(let i=0;i<e.length;i++){const r=this._index.getNode(e[i]);r&&(t+=r.vertexCount)}return t}_isRootNodeVisible(){let e=!1;return this._traverseVisible({frustum:this.view.state.contentCamera.frustum,clippingBox:this._clippingBox},{predicate:(t,i,r)=>(e=r,!1),pageMiss:()=>{}}),e}_computeNodesForMinimumDensity(e){const t=this.view.state.contentCamera,i=t.frustum,r=this._clippingBox,s=t.viewForward,o=b(s,t.eye),n=v(s,-o,_e),a=t.perScreenPixelRatio/2,d=e*e,l=this._nodeIdArray;l.length=0;const h=e=>l.push(e);return this._traverseVisible({frustum:i,clippingBox:r},{predicate:(e,t,i)=>{if(!i)return!1;if(0===t.childCount)return h(e),!1;const r=this._index.getRenderObb(e);return!(this._computeAveragePixelArea(r,t.lodThreshold,t.vertexCount,n,a)<=d)||(h(e),!1)},pageMiss:(e,t)=>{h(e),this._indexQueue.includes(t)||this._indexQueue.push(t)}}),l}_computeAveragePixelArea(e,t,i,r,s){const o=1e-7,n=Math.max(o,e.minimumDistancePlane(r));return t/(n*n)/(4*s*s)/i}_loadNode(e,t){try{return this._loadNodeAsync(e,t)}catch(i){throw l(i)||o.getLogger(this).error(i),i}}async _loadAdditionalUserAttributes(e,t,r){const s=this.layer.outFields;if(!s)return[];const o=A(this.layer.fieldsIndex,s),n=new Set(e.map((e=>null!=e?e.name:null))),a=this.layer.attributeStorageInfo,d=[];for(const i of o){if(n.has(i))continue;const e=K(a,i);e&&d.push(t(e))}const l=await h(d);return u(r),l.filter(i)}async _loadNodeAsync(e,t){const i=this._index.getNode(e),r=T(this.layer),s=$(this.layer),o=i.resourceId,n=async e=>{if(!e)return null;if(e.useElevation)return{attributeInfo:e,buffer:null};const i=await this._loadAttribute(o,e,t);return null!=i?{attributeInfo:e,buffer:i}:null};return this._idleQueue.push((async()=>{const i=this._loadGeometry(o,t),{primaryAttribute:a,modulationAttribute:d}=r,l=n(a),h=n(d),p=s.map((e=>e.attributeInfo)),_=p.map((e=>n(e))),c=this._loadAdditionalUserAttributes([a,d,...p],n,t),[m,g,f,y,b]=await Promise.all([i,l,h,Promise.all(_),c]);u(t);const w={geometryBuffer:m,primaryAttributeData:g,modulationAttributeData:f,filterAttributesData:y,userAttributesData:b,schema:this.layer.store.defaultGeometrySchema,rendererInfo:r,filterInfo:s,obbData:this._index.getRenderObb(e).data,elevationOffset:this._elevationOffset,inSR:this.layer.spatialReference.toJSON(),outSR:this.view.renderCoordsHelper.spatialReference.toJSON()};return this._worker.invoke(w,t)}),t)}async _loadGeometry(e,t){return this._requestData(`${this.baseUrl}/nodes/${e}/geometries/0`,t)}async _loadAttribute(e,t,i){if(!t?.storageInfo)return null;const r=t.storageInfo.key;return this._requestData(`${this.baseUrl}/nodes/${e}/attributes/${r}`,i)}_requestNodePage(e,t){const i={f:\"json\",...this.layer.customParameters,token:this.layer.apiKey};return this._indexRequester.request(e,\"json\",{query:i,signal:t})}_requestData(e,t){return this._dataRequester.request(e,\"binary\",{query:{...this.layer.customParameters,token:this.layer.apiKey},signal:t})}_removeFromRenderer(e){if(this._renderedNodes.has(e)){const t=this._renderer.removeNode(e);this._renderedNodes.delete(e),this._memCache.put(t.id.toString(),t)}}_addToRenderer(e){this._renderedNodes.has(e.id)||(this._renderedNodes.add(e.id),this._renderer.addNode(e))}_setupRendererData(e,t){const i=this._index.getNode(e),r=Math.sqrt(i.lodThreshold/i.vertexCount),s=this._index.getRenderObb(e);if(O(t))return t.splatSize=r,t.obb=s,w(t.origin,t.obb.center),t;const n=ne.fromData(t.obbData),a=n.halfSize,d=s.halfSize,l=.01*Math.max(d[0],d[1],d[2]);if(a[0]>d[0]+l||a[1]>d[1]+l||a[2]>d[2]+l){if(this._maxLoggedBoxWarnings>0){const t=e=>`[${e.halfSize[0]}, ${e.halfSize[1]}, ${e.halfSize[2]}]`;o.getLogger(this).warn(`Node ${e} reported bounding box too small. got ${t(s)} but points cover ${t(n)}`),0==--this._maxLoggedBoxWarnings&&o.getLogger(this).warn(\"  Too many bounding box errors, stopping reporting for this layer.\")}this._index.setRenderObb(e,n)}return new G(e,r,P(s.center),s,0===i.childCount,t.points,t.rgb,t.attributes,t.pointIdFilterMap)}get usedMemory(){let e=0;return this._renderer.forEachNode((t=>{e+=ge,e+=d(t.coordinates);for(const i of t.attributes){const t=i.values;g(t.buffer)&&(e+=d(t))}})),e}get unloadedMemory(){const e=this._renderedNodes.size;if(e<4)return 0;const t=[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount));let i=this._loadingNodes.size;for(let r=0;r<this._workQueue.length;r++)i+=this._workQueue[r].load.length,i-=this._workQueue[r].remove.length;if(i<0)return 0;return i*t/e*((this.usedMemory-e*ge)/t)+i*ge}get performanceInfo(){return new j(this.usedMemory,this._renderedNodes.size,[...this._renderedNodes].reduce(((e,t)=>e+this._index.getNode(t).vertexCount),0),this.maximumPointCount,new D(this._loadingNodes.size,this._indexQueue.length,this._workQueue.length,this._idleQueue.length))}get test(){}};e([f()],ce.prototype,\"layer\",void 0),e([f()],ce.prototype,\"baseUrl\",null),e([f()],ce.prototype,\"pointScale\",null),e([f()],ce.prototype,\"useRealWorldSymbolSizes\",null),e([f()],ce.prototype,\"pointSize\",null),e([f()],ce.prototype,\"inverseDensity\",null),e([f()],ce.prototype,\"maximumPointCount\",void 0),e([f({readOnly:!0})],ce.prototype,\"availableFields\",null),e([f({readOnly:!0})],ce.prototype,\"_clippingBox\",null),e([f({readOnly:!0})],ce.prototype,\"_elevationOffset\",null),e([f({type:Boolean})],ce.prototype,\"slicePlaneEnabled\",void 0),e([f()],ce.prototype,\"updating\",void 0),e([f(ae)],ce.prototype,\"updatingProgress\",void 0),e([f({readOnly:!0})],ce.prototype,\"updatingProgressValue\",null),e([f({readOnly:!0})],ce.prototype,\"visibleAtCurrentScale\",null),ce=e([y(\"esri.views.3d.layers.PointCloudLayerView3D\")],ce);const me=ce,ge=160;function fe(e){return t=>e.immediate.schedule(t)}export{me as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import i from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import l from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i.IdentifiableMixin(l.EsriPromiseMixin(r.EventedMixin(t)))){get spatialReferenceSupported(){return!0}constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&this.parent&&!this.parent.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o({readOnly:!0})],u.prototype,\"spatialReferenceSupported\",null),e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);const y=u;export{y as default};\n"],"names":["async","n","p","arguments","length","undefined","popupTemplate","u","getRequiredFields","fieldsIndex","lastEditInfoEnabled","t","objectIdField","d","typeIdField","s","globalIdField","i","relationships","a","includes","o","e","f","l","push","has","forEach","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","j","b","constructor","super","this","clipBox","c","useFixedSizes","useRealWorldSymbolSizes","scaleFactor","minSizePx","size","sizePx","fixedSize","drawScreenSpace","screenMinSize","P","m","origin","isLeaf","splatSize","y","r","M","output","vertex","fragment","include","attributes","add","z","POSITION","COLOR","uniforms","h","R","camera","viewMatrix","v","projectionMatrix","F","pixelRatio","O","x","fullHeight","clippingEnabled","S","B","constants","varyings","main","w","drawScreenSize","g","_","Object","freeze","defineProperty","__proto__","PointRendererDrawParameters","PointRendererPassParameters","build","getMaxPointSizeScreenspace","Symbol","toStringTag","value","isCollection","toArray","Array","isArray","declaredClass","_validateFetchPopupFeatures","layer","popupEnabled","prepareFetchPopupFeatures","fetchPopupFeaturesFromGraphics","type","associatedLayer","Set","Map","set","getObjectId","whenGraphicAttributes","catch","then","concat","sort","get","slicePlaneEnabled","supportsHeightUnitConversion","postscript","addResolvingPromise","_validateHeightModelInfo","AbortController","signal","addHandles","abort","view","defaultsFromMap","heightModelInfoReady","heightModelInfo","prototype","queue","loading","indexLoading","processing","idleProcessing","transform","geometryBuffer","primaryAttributeData","buffer","modulationAttributeData","filterAttributesData","userAttributesData","indexOf","getParentId","remove","pop","load","_pages","pageSize","_nodeSR","_renderSR","_renderSRSphericalPCPF","addPage","obb","obbInRenderSR","nodes","parents","Uint32Array","childCount","firstChild","hasPage","getNode","getRenderObb","setRenderObb","copy","hasNodes","forEachNodeId","createVisibilityTraverse","index","masks","tempAabb","clippingBox","frustum","toAaBoundingBox","intersectPlane","predicate","pageMiss","pointCloudMetadata","constructOnly","clonable","_context","_highlights","empty","destroy","_enableSet","_removeSet","_disableSet","highlightName","id","delete","enabled","forEachNode","_enableSetForNode","ids","addHighlight","_disableSetForNode","removeHighlight","nodeAdded","_forEachSet","nodeRemoved","removeAll","hasHighlightOptions","_add","nodeId","pointId","initializePipeline","depthTest","func","LESS","depthWrite","colorWrite","stencilWrite","hasOccludees","stencilTest","drawBuffers","Depth","buffers","NONE","V","D","T","FLOAT","UNSIGNED_BYTE","k","PCL","isGround","_passParameters","_addHighlight","_removeHighlight","produces","L","OPAQUE_MATERIAL","A","Highlight","OPAQUE_MATERIAL_WITHOUT_NORMALS","layerUid","_slicePlaneEnabled","_configuration","_nodes","initializeRenderContext","requestRender","uninitializeRenderContext","intersect","perScreenPixelRatio","near","J","I","q","forAll","minimumDistancePlane","maximumDistancePlane","Q","dist","G","intersectRay","coordinates","point","Y","normal","node","options","store","E","MIN","ALL","createGraphic","K","results","min","max","all","acquireTechniques","bind","slot","_initNode","hasSlicePlane","_clippingEnabled","techniques","N","render","rctx","bindTechnique","highlight","name","highlightMap","bindDraw","bindVAO","vao","_renderHighlightFragments","drawArrays","C","POINTS","highlightOrderMap","highlightLevel","keys","componentIndex","_requestRender","addNode","removeNode","filterInPlace","clear","U","createVertex","W","STATIC_DRAW","rgb","H","Math","pointIdFilterMap","filter","cachedMemory","renderer","toJSON","attributeStorageInfo","field","colorModulation","rendererJSON","isRGBRenderer","primaryAttribute","modulationAttribute","filters","map","filterJSON","attributeInfo","pointSizeAlgorithm","attributeValues","valueType","valuesPerElement","storageInfo","useElevation","encoding","toLowerCase","_e","ce","ie","de","maximumPointCount","_renderer","_rendererAdded","_renderedNodes","_updateViewNeeded","_lodFactor","_maxLoggedBoxWarnings","_pageMultiplier","_nodeLoadEpoch","_indexQueue","_workQueue","_idleQueue","_indexPagesLoading","_loadingNodes","_recalcWork","_layerIsVisible","_codedDomainPopulationPromise","_codedDomainPopulationAbortController","_totalWork","_index","_loadingInitNodePage","_nodeIdArray","ignoresMemoryFactor","baseUrl","parsedUrl","path","pointScale","pointSize","inverseDensity","pointsPerInch","availableFields","$","outFields","from","_clippingBox","clippingArea","renderSpatialReference","re","_elevationOffset","elevationInfo","mode","spatialReference","initialize","resourceController","immediate","schedule","fe","_worker","promise","_indexRequester","createStreamDataRequester","oe","I3S_INDEX","_dataRequester","I3S_DATA","_initRenderer","_initNodePages","memoryController","_memCache","newCache","uid","_updatingHandles","_setUpdateViewNeeded","_elevationOffsetChanged","_rendererChanged","_reload","effectiveScaleRange","state","contentCamera","quality","when","scheduler","registerTask","ue","POINT_CLOUD_LAYER","registerIdleStateCallbacks","_idleBegin","_idleEnd","suspended","_clearNodeState","removeAllHandles","_updateLoading","cancelLoading","_destroyRenderer","_createGraphic","_setPointsVisible","sqrt","qualitySettings","sceneService","pointCloud","lodFactor","se","_createGraphicAttributes","pointIndexInNode","attributePointIndexInNode","epoch","geometry","sourceLayer","_encodeGraphicAttribute","values","_stage","addRenderPlugin","removeRenderPlugin","_displayNodes","center","viewForward","_updateQueues","_computeWork","notifyChange","_cancelNodeLoading","_cancelIndexLoading","_ref","abortController","cancelAll","_ref2","_removeFromRenderer","running","runTask","_isRootNodeVisible","run","_updateWorkQueues","_processIndexQueue","_processWorkQueue","shift","_loadNodePage","done","_scheduleWorkEntry","madeProgress","_processWorkEntry","find","Promise","toString","resolve","_loadNode","_setupRendererData","_addToRenderer","_populateClassCodeCodedDomain","domain","queryCachedStatistics","ok","stats","labels","codedValues","code","label","_splitGraphicsPerNode","_loadElevationAttributeFromGeometry","resourceId","_loadAndParseAttribute","_isValidPointGraphic","allSettled","_loadAttribute","X","vertexCount","defaultGeometrySchema","_loadGeometry","Z","ee","te","_graphicToPointDefinition","le","updatingProgressValue","canResume","isUpdating","visibleAtCurrentScale","he","scale","nodesPerPage","nodePerIndexBlock","renderCoordsHelper","_traverseVisible","_requestNodePage","ne","fromJSON","pointCount","lodThreshold","effectiveArea","_computeNodesForMinimumDensity","_computePointCount","eye","_computeAveragePixelArea","_loadNodeAsync","getLogger","error","_loadAdditionalUserAttributes","schema","rendererInfo","filterInfo","obbData","data","elevationOffset","inSR","outSR","invoke","_requestData","key","customParameters","token","apiKey","request","query","put","hasOwnProperty","fromData","halfSize","warn","points","usedMemory","ge","unloadedMemory","reduce","performanceInfo","test","readOnly","Boolean","ae","me","IdentifiableMixin","EsriPromiseMixin","EventedMixin","spatialReferenceSupported","parent","title","fullOpacity","opacity","destroyed","suspendInfo","getSuspendInfo","legendEnabled","updating","updatingProgress","updateSuspended","visible","_overrideIfSome","visibleAtCurrentTimeExtent","timeExtent","visibilityTimeExtent","intersection","isEmpty","loaded","ready","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible"],"sourceRoot":""}