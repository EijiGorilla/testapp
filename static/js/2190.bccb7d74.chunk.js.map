{"version":3,"file":"static/js/2190.bccb7d74.chunk.js","mappings":"0MAIgW,MAAMA,EAAEA,IAAI,IAAIC,EAAE,cAAcD,EAAEE,UAAAA,GAAaC,KAAKC,YAAWC,EAAAA,EAAAA,KAAG,IAAIF,KAAKG,OAAO,WAAWC,IAAIJ,KAAKK,UAAUD,EAAEE,aAAaC,OAAOH,KAAII,EAAAA,EAAAA,cAAEJ,IAAIK,EAAAA,EAAEC,UAAUV,MAAMW,MAAMP,EAAE,GAAG,IAAI,uBAAuB,GAAG,OAAON,GAAEM,EAAAA,EAAAA,GAAE,EAACQ,EAAAA,EAAAA,GAAE,2CAA2Cd,GAAGA,CAAC,C,4SCA3Y,MAAMc,EAAEC,WAAAA,CAAYJ,GAAGT,KAAKc,YAAYL,EAAET,KAAKe,QAAQ,IAAIC,GAAGZ,GAAGK,EAAEQ,SAASb,IAAI,CAACc,OAAAA,GAAUlB,KAAKe,QAAQG,SAAS,CAACC,MAAAA,CAAOf,EAAEQ,GAAG,OAAOR,EAAEgB,QAAQ,IAAIhB,EAAEgB,OAAOC,YAAYjB,EAAEkB,QAAQC,wBAAwBnB,EAAEkB,QAAQC,kCAAkCf,EAAAA,UAAIJ,EAAEkB,QAAQ,IAAIlB,EAAEkB,QAAQC,uBAAuBnB,EAAEkB,QAAQC,uBAAuBC,WAAWxB,KAAKe,QAAQI,OAAOf,EAAEQ,GAAGa,MAAMrB,IAAI,IAAIQ,EAAE,EAAEI,EAAE,EAAE,MAAMnB,EAAEW,EAAAA,QAAEkB,SAAStB,EAAEuB,kBAAkBvB,EAAEuB,iBAAiB9B,EAAE,MAAM+B,EAAEC,UAAU,MAAMC,EAAE1B,EAAE2B,OAAO,GAAGD,EAAE,KAAKlB,EAAEkB,EAAEE,QAAQ,GAAGF,EAAElB,GAAGV,EAAAA,QAAEwB,SAASI,EAAElB,IAAIA,IAAIJ,EAAEyB,eAAe,OAAOjC,KAAKc,YAAYoB,YAAYzB,GAAGmB,EAAEnB,KAAK,MAAM0B,EAAE/B,EAAEgC,SAAS,KAAKpB,EAAEmB,EAAEH,QAAQ,CAAC,MAAM5B,EAAE+B,EAAEnB,KAAKA,EAAEZ,EAAEiC,KAAI5B,EAAAA,EAAAA,KAAI,MAAMP,EAAEE,EAAEkC,SAAS,GAAG,MAAMpC,IAAIA,EAAEyB,iBAAiB9B,EAAEC,EAAEI,GAAGM,EAAEyB,gBAAgB,OAAOjC,KAAKc,YAAYoB,YAAYzB,GAAGmB,EAAEnB,IAAI,CAAC,OAAOL,CAAC,EAAE,OAAOJ,KAAKc,YAAYG,UAAUR,GAAGmB,EAAEnB,IAAI,KAAK8B,QAAQC,QAAQ,KAAK,EAAE,SAAS1C,EAAEW,GAAG,OAAOA,EAAEgC,MAAM,IAAI,WAAWhC,EAAEiC,MAAMjC,EAAEkC,MAAMlC,EAAEmC,KAAKnC,EAAEiC,MAAMG,KAAKpC,GAAGA,EAAEoC,KAAKpC,GAAG,CAACA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,QAAQA,EAAEkC,MAAMlC,EAAEmC,KAAKnC,EAAEiC,MAAMG,KAAKpC,GAAGA,EAAEoC,KAAKpC,GAAG,CAACA,EAAE,GAAGA,EAAE,GAAGA,EAAE,QAAQA,EAAEiC,MAAMG,KAAKpC,GAAGA,EAAEoC,KAAKpC,GAAG,CAACA,EAAE,GAAGA,EAAE,QAAQ,MAAM,IAAI,UAAUA,EAAEqC,MAAMrC,EAAEkC,MAAMlC,EAAEmC,KAAKnC,EAAEqC,MAAMD,KAAKpC,GAAGA,EAAEoC,KAAKpC,GAAG,CAACA,EAAE,GAAGA,EAAE,GAAGA,EAAE,GAAGA,EAAE,QAAQA,EAAEkC,MAAMlC,EAAEmC,KAAKnC,EAAEqC,MAAMD,KAAKpC,GAAGA,EAAEoC,KAAKpC,GAAG,CAACA,EAAE,GAAGA,EAAE,GAAGA,EAAE,QAAQA,EAAEqC,MAAMD,KAAKpC,GAAGA,EAAEoC,KAAKpC,GAAG,CAACA,EAAE,GAAGA,EAAE,QAAQ,CAAC,MAAMO,UAAUZ,EAAAA,EAAES,WAAAA,CAAYJ,GAAGsC,MAAM,mBAAmB,qBAAqB,CAACC,mBAAmBvC,GAAG,CAACA,EAAEW,SAASX,EAAE,ECAtzB,IAAImB,EAAE,cAAcxB,EAAAA,QAAES,WAAAA,CAAYJ,GAAGsC,MAAMtC,EAAE,CAAC,kBAAIwC,GAAiB,MAAMxC,EAAET,KAAKG,MAAM+C,WAAWC,SAAS,KAAK,IAAI1C,EAAE,OAAO,IAAI2C,IAAI,MAAMhD,EAAE,IAAIgD,IAAIpD,KAAKqD,UAAUC,gBAAgB1C,EAAE,IAAIwC,IAAIpD,KAAKqD,UAAUE,iBAAiB,OAAO1D,EAAAA,EAAAA,IAAEe,EAAER,EAAE,CAAC,2BAAIoD,GAA0B,MAAMrD,MAAMM,GAAGT,KAAKI,EAAEK,EAAEgD,aAAa7C,EAAER,GAAGA,EAAEsD,MAAM7D,EAAEe,GAAGA,EAAE+C,kBAAkBC,EAAEnD,EAAEoD,UAAU,GAAGhE,EAAE,CAAC,MAAMG,KAAK8D,WAAW9D,KAAK8D,SAAS,IAAIhC,EAAE9B,KAAK+D,aAAa,MAAM3D,EAAE,CAACmB,uBAAuBd,EAAEkB,kBAAkBH,UAAU,KAAKwC,gBAAe,EAAGC,yBAAyBjE,KAAKiD,eAAeiB,yBAAyBC,GAAG,MAAM,CAAC1D,EAAEG,KAAII,EAAAA,EAAAA,IAAE4C,EAAEnD,EAAE,MAAMT,KAAKoE,sBAAsBxD,IAAIa,MAAMhB,KAAID,EAAAA,EAAAA,gBAAEI,GAAG,MAAMZ,KAAK8D,SAAS9D,KAAK8D,SAAS3C,OAAO,CAACC,OAAOX,EAAE4D,KAAK/C,QAAQlB,GAAGQ,EAAE0D,QAAQ/B,QAAQgC,QAAOrE,EAAAA,EAAAA,uBAAO,CAAC,MAAM,CAACE,EAAEQ,KAAI4D,EAAAA,EAAAA,IAAEZ,EAAExD,EAAEK,EAAEkB,iBAAiB3B,KAAKoE,sBAAsBxD,IAAIa,MAAMhB,IAAG0B,EAAAA,EAAAA,IAAE1B,EAAE4D,KAAK,CAACJ,yBAAyBjE,KAAKiD,eAAeiB,yBAAyBC,KAAK,CAACM,iBAAAA,CAAkBhE,EAAEL,GAAG,OAAOJ,KAAKG,MAAMsE,kBAAkBhE,EAAEL,EAAE,CAACc,OAAAA,GAAUlB,KAAK8D,UAASlD,EAAAA,EAAAA,IAAEZ,KAAK8D,SAAS,CAACM,qBAAAA,CAAsB3D,GAAG,MAAM,IAAIA,EAAEiD,MAAM,IAAI1D,KAAKG,MAAMuE,iBAAiBC,MAAM3E,KAAKG,MAAMyE,UAAUnE,GAAGiD,OAAO,IAAGjD,EAAAA,EAAAA,GAAE,EAACmD,EAAAA,EAAAA,IAAE,CAACiB,eAAc,KAAMjD,EAAEkD,UAAU,aAAQ,IAAQrE,EAAAA,EAAAA,GAAE,EAACmD,EAAAA,EAAAA,IAAE,CAACiB,eAAc,KAAMjD,EAAEkD,UAAU,iBAAY,IAAQrE,EAAAA,EAAAA,GAAE,EAACmD,EAAAA,EAAAA,IAAE,CAACiB,eAAc,KAAMjD,EAAEkD,UAAU,kBAAa,IAAQrE,EAAAA,EAAAA,GAAE,EAACmD,EAAAA,EAAAA,IAAE,CAACmB,UAAS,KAAMnD,EAAEkD,UAAU,iBAAiB,OAAMrE,EAAAA,EAAAA,GAAE,EAACmD,EAAAA,EAAAA,IAAE,CAACmB,UAAS,KAAMnD,EAAEkD,UAAU,0BAA0B,MAAMlD,GAAEnB,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,GAAE,8EAA8E8B,GAAG,IAAIoD,EAAE,cAAc5E,EAAAA,QAAES,WAAAA,CAAYJ,GAAGsC,MAAMtC,EAAE,CAAC+C,uBAAAA,CAAwB/C,EAAEL,GAAG,OAAOJ,KAAKG,MAAM8E,cAAcxE,EAAEL,EAAE,IAAGK,EAAAA,EAAAA,GAAE,EAACmD,EAAAA,EAAAA,IAAE,CAACiB,eAAc,KAAMG,EAAEF,UAAU,aAAQ,GAAQE,GAAEvE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,GAAE,iFAAiFkF,GAAG,IAAIE,EAAE,cAAc9E,EAAAA,QAAES,WAAAA,CAAYJ,GAAGsC,MAAMtC,EAAE,CAAC+C,uBAAAA,CAAwB/C,EAAEL,GAAG,OAAOJ,KAAKmF,OAAOC,kBAAkB3E,EAAEL,GAAGqB,KAAKU,EAAAA,IAAGvB,IAAI,GAAGA,GAAG,oCAAoCA,EAAEyE,KAAK,OAAOrF,KAAKG,MAAM8E,cAAcxE,EAAEL,GAAG,MAAMQ,CAAC,GAAG,CAAC6D,iBAAAA,CAAkBhE,EAAEL,GAAG,OAAOJ,KAAKG,MAAMsE,kBAAkBhE,EAAEL,EAAE,IAAkXK,EAAAA,EAAAA,GAAE,EAACmD,EAAAA,EAAAA,IAAE,CAACiB,eAAc,KAAMK,EAAEJ,UAAU,aAAQ,IAAQrE,EAAAA,EAAAA,GAAE,EAACmD,EAAAA,EAAAA,IAAE,CAACiB,eAAc,KAAMK,EAAEJ,UAAU,cAAS,GAAQI,GAAEzE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,GAAE,6EAA6EoF,GAAG,MAAMf,EAAE,KCAjvG,MAAM/D,EAAES,WAAAA,CAAYJ,GAAGT,KAAKsF,aAAa,KAAK,MAAMlF,EAAEK,EAAE4C,UAAUlD,MAAMH,KAAKuF,WAAW9E,EAAE4C,UAAUrD,KAAKwF,cAAcpF,EAAEoF,cAAcxF,KAAKyF,cAAc,kBAAkBrF,EAAEA,EAAEqF,cAAc,KAAKzF,KAAK0F,SAASjF,EAAEkF,QAAQ3F,KAAK4F,SAASnF,EAAEoF,QAAQ,MAAMhG,EAAEG,KAAKuF,WAAWO,KAAKC,mBAAmB/F,KAAK0D,MDA84E,SAAWjD,EAAEL,GAAG,MAAMD,MAAMS,GAAGH,EAAE,MAAM,YAAYG,EAAE6B,MAAM,kBAAkB7B,EAAEuE,OAAO1C,MAAM,sBAAsB7B,EAAE6B,KAAK,IAAIb,EAAE,CAACzB,MAAMS,EAAEyC,UAAU5C,EAAEsD,WAAW3D,IAAI,YAAYQ,EAAE6B,MAAM,WAAW7B,EAAEuE,OAAO1C,MAAM,QAAQ7B,EAAE6B,MAAM,YAAY7B,EAAE6B,MAAM,qBAAqB7B,EAAE6B,MAAM,QAAQ7B,EAAE6B,KAAK,IAAIyC,EAAE,CAAC/E,MAAMS,EAAEuE,OAAOvE,EAAEuE,SAAS,gBAAgBvE,EAAE6B,KAAK,IAAIuC,EAAE,CAAC7E,MAAMS,IAAI,IAAI,CCAtvFA,CAAEZ,KAAKuF,WAAW1F,EAAEmG,QAAQnG,GAAGG,KAAKiG,sBAAsBjG,KAAKsF,aAAazF,EAAEqG,iBAAiBC,SAAS,MAAM/F,EAAEiC,OAAO,CAAC,uBAAI4D,GAAsB,OAAOjG,KAAKuF,WAAWpF,MAAMgF,OAAO1C,MAAM,IAAI,gBAAgB,IAAI,cAAc,IAAI,mBAAmB,OAAM,EAAG,IAAI,MAAM,IAAI,UAAU,IAAI,UAAU,IAAI,SAAS,IAAI,MAAM,OAAM,EAAG,CAACvB,OAAAA,GAAUlB,KAAKsF,cAAa7E,EAAAA,EAAAA,IAAET,KAAKsF,cAActF,KAAK0D,MAAMxC,SAAS,CAACkF,WAAAA,GAAc,MAAM3F,EAAET,KAAKuF,WAAWpF,MAAMiG,cAAc,OAAO3F,EAAEyC,UAAUlD,KAAKuF,WAAWhC,gBAAgB9C,EAAEkF,QAAQ3F,KAAK0F,SAASjF,EAAEoF,QAAQ7F,KAAK4F,SAASnF,EAAE4F,oBAAoBrG,KAAKsG,aAAa3E,iBAAiBlB,CAAC,CAAC,eAAI8F,GAAc,OAAOvG,KAAKsF,YAAY,CAAC,eAAIkB,GAAc,OAAOxG,KAAKuF,WAAWO,KAAKW,MAAMD,WAAW,CAAC,gBAAIF,GAAe,OAAOtG,KAAKuF,WAAWO,KAAKY,aAAaJ,YAAY,CAAC,aAAIK,GAAY,OAAO3G,KAAKuF,WAAWO,KAAKC,oBAAoBY,SAAS,CAAC,gBAAIC,GAAe,OAAO5G,KAAKuF,WAAWpF,MAAMyG,YAAY,CAAC,cAAIC,GAAa,OAAO7G,KAAKuF,WAAWpF,MAAM0G,UAAU,CAAC,sBAAIC,GAAqB,OAAO9G,KAAKuF,WAAWpF,MAAMsD,aAAaC,MAAMoD,kBAAkB,CAAC,kBAAIC,GAAiB,OAAO/G,KAAKuF,WAAWpF,MAAMsD,aAAaC,MAAMqD,cAAc,CAAC,YAAIC,GAAW,MAAM,kBAAkBhH,KAAKuF,WAAWpF,MAAM8G,eAAeC,IAAI,CAAC,0BAAIC,GAAyB,OAAOnH,KAAKuF,WAAW6B,qBAAqBpH,KAAKuF,WAAW4B,uBAAuB,IAAI,CAAC,gBAAI1D,GAAe,OAAOzD,KAAKqH,gBAA4I,SAAW5G,GAAG,MAAMG,EAAEH,EAAEgD,aAAaC,MAAM,MAAM,CAAC4D,4BAA4BxH,EAAEW,GAAG8G,sBAAsB3G,IAAIA,EAAE2G,oBAAoBC,sBAAsB5G,IAAIA,EAAE4G,oBAAoBC,qBAAqB7G,IAAIA,EAAE6G,mBAAmBC,wBAAwB9G,IAAIA,EAAE8G,sBAAsBC,gCAAgC/G,IAAIA,EAAE+G,8BAA8BC,gCAAgChH,IAAIA,EAAEgH,8BAA8BjE,qBAAqB/C,IAAIA,EAAE+C,mBAAmB,CAAvkB9D,CAAEG,KAAKuF,WAAWpF,OAAOH,KAAKqH,aAAa,CAACQ,aAAAA,CAAcpH,EAAEG,GAAGH,EAAEE,MAAM,eAAeX,KAAKuF,WAAWpF,MAAMS,GAAGkH,SAASlH,EAAE,EAA8c,SAASd,EAAEW,GAAG,OAAOA,EAAEmG,cAAc,IAAI,WAAW,OAAM,EAAG,IAAI,UAAU,OAAOnG,EAAEgD,cAAchD,EAAEgD,aAAaC,OAAOjD,EAAEgD,aAAaC,MAAMgE,qBAAqB,QAAQ,OAAM,EAAG,C,0BCAzgD,IAAIvD,EAAE,cAAcvC,EAAAA,EAAEf,WAAAA,CAAYJ,GAAGsC,MAAMtC,GAAGT,KAAK+H,iBAAiB,EAAE/H,KAAKgI,gBAAgB,EAAEhI,KAAKiI,eAAc,EAAGjI,KAAKkI,wBAAwB,MAAM,CAACnI,UAAAA,GAAaC,KAAKC,YAAWW,EAAAA,EAAAA,QAAG,MAAMmD,WAAW/D,KAAK+D,WAAWoE,UAAUnI,KAAKmI,cAAcC,IAA8B,IAA5BrE,WAAWtD,EAAE0H,UAAU/H,GAAEgI,EAAI3H,IAAIL,GAAGJ,KAAKiI,gBAAgBxH,EAAE4H,UAAUrI,KAAKiI,eAAc,EAAG,IAAI,CAAC/G,OAAAA,GAAUlB,KAAKsI,iBAAgBlI,EAAAA,EAAAA,IAAEJ,KAAKsI,gBAAgB,CAAC,2BAAIC,GAA0B,OAAOvI,KAAK+D,YAAYwE,yBAAyBvI,KAAKwI,KAAK,0BAA0B,CAAC,2BAAID,CAAwB9H,GAAGT,KAAKyI,KAAK,0BAA0BhI,GAAGT,KAAK+D,aAAa/D,KAAK+D,WAAWwE,wBAAwB9H,EAAE,CAAC,mCAAIiI,GAAkC,QAAQ1I,KAAK+D,cAAc/D,KAAKmI,YAAYnI,KAAK+D,WAAW2E,gCAAgC,CAAC,yBAAIC,GAAwB,IAAIlI,EAAE,EAAE,GAAGT,KAAK+D,YAAY6E,SAAS,CAAC,MAAMxI,EAAEJ,KAAK+D,WAAW8E,kBAAkBjI,EAAEkI,KAAKC,IAAI/I,KAAK+D,WAAWiF,cAAchJ,KAAK+H,kBAAkBnH,EAAE,IAAIH,GAAGG,EAAER,GAAGQ,EAAEZ,KAAK+H,iBAAiBnH,EAAE,CAAC,IAAIR,EAAE,EAAE,GAAGJ,KAAKiJ,WAAWL,SAAS,CAAC,MAAMnI,EAAET,KAAKiJ,UAAUJ,kBAAkBjI,EAAEkI,KAAKC,IAAItI,EAAET,KAAKgI,iBAAiBpH,EAAE,IAAIR,GAAGQ,EAAEH,GAAGG,EAAEZ,KAAKgI,gBAAgBpH,EAAE,CAAC,MAAM,IAAIH,EAAEL,EAAE,CAAC,gBAAI8I,GAAe,IAAIlJ,KAAK+D,WAAW,OAAOiB,EAAAA,EAAEmE,MAAM,OAAOnJ,KAAK+D,WAAWmD,MAAM,IAAI,WAAW,CAAC,MAAMzG,EAAE+D,EAAE4E,IAAIpJ,KAAKG,MAAMyG,cAAc,OAAO,MAAMnG,GAAGT,KAAK+D,WAAWsF,iBAAiB5I,EAAEuE,EAAAA,EAAEmE,MAAMnE,EAAAA,EAAEsE,IAAI,CAAC,IAAI,QAAQ,OAAOtE,EAAAA,EAAEmE,MAAM,CAAC,cAAII,GAAa,OAAOvJ,KAAKiJ,WAAWM,YAAY,IAAIvJ,KAAK+D,YAAYyF,yBAAyB,EAAE,CAAC,kBAAIC,GAAiB,MAAMhJ,EAAET,KAAKiJ,WAAWS,2BAA2B,EAAEtJ,EAAEJ,KAAK+D,YAAY4F,qBAAqB,EAAE/I,EAAEZ,KAAKiJ,WAAWW,gBAAgB,EAAEpJ,EAAEI,EAAER,EAAE,EAAEQ,GAAGA,EAAER,GAAG,EAAE,OAAOK,EAAEL,GAAGJ,KAAKiJ,WAAWY,sBAAsB,GAAGrJ,CAAC,CAAC,uBAAIsJ,GAAsB,OAAO9J,KAAK+D,YAAYgG,kCAAkC,CAAC,mBAAIC,GAAkB,MAAMvJ,EAAET,KAAK+D,YAAYkG,oBAAoB7J,EAAE,MAAMK,EAAEA,EAAEyJ,6BAAwB,EAAOtJ,EAAE,MAAMR,EAAE,KAAKA,EAAE+J,wBAAwB/J,EAAEgK,wBAAwB,MAAM,OAAO,IAAIxG,EAAAA,EAAEb,MAAMiH,gBAAgBhK,KAAK+D,YAAYiG,iBAAiBK,gBAAgB,EAAErK,KAAK+D,YAAYiG,iBAAiBM,eAAe,EAAEtK,KAAK0I,gCAAgC1I,KAAK+D,YAAYmD,MAAM,MAAMtG,EAAE,CAAC,eAAMP,CAAUI,GAAG,MAAMsD,WAAW3D,EAAE6I,UAAUrI,EAAEuH,UAAU3H,GAAGR,KAAKS,GAAGL,IAAII,EAAER,KAAKiI,eAAc,GAAI7H,EAAEiI,UAAUrI,KAAKiI,eAAc,IAAKrH,EAAE2J,eAAe,CAACC,aAAAA,CAAc/J,EAAEL,GAAGJ,KAAKiJ,WAAWwB,sBAAsBhK,EAAEL,EAAE,CAACsK,8BAAAA,CAA+BjK,GAAG,OAAOT,KAAK+D,WAAW2G,+BAA+BjK,EAAE,CAACkK,mBAAAA,CAAoBlK,GAAG,MAAML,EAAEJ,KAAK4K,oBAAoB,GAAG,MAAMxK,EAAE,OAAO,KAAK,MAAMQ,EAAER,EAAEyK,6BAA6B,GAAG,MAAMjK,EAAE,OAAO,KAAK,MAAMJ,EAAEI,EAAEwI,IAAI3I,GAAG,OAAO,MAAMD,EAAE,MAAK2B,EAAAA,EAAAA,IAAE3B,EAAEsK,QAAQxI,SAAS,CAACyI,gBAAAA,GAAmB/K,KAAKsI,gBAAgB,IAAI0C,EAAE,CAAC3H,UAAUrD,KAAKqD,UAAUsC,QAAQ3F,KAAK2C,KAAKkD,QAAQ7F,KAAK4C,OAAO,MAAMnC,EAAE,IAAIqB,EAAAA,EAAE,CAACuB,UAAUrD,KAAKqD,UAAU4H,QAAQjL,KAAKsI,gBAAgB4C,SAAS,IAAIhG,EAAAA,EAAEiG,OAAOnL,KAAKoL,iBAAiB,OAAOpL,KAAKqL,gBAAgBC,KAAK,IAAI7K,EAAE8K,oBAAoB9K,IAAIT,KAAKiJ,YAAYjJ,KAAKiJ,UAAUuC,WAAW/K,EAAE,GAAGD,EAAAA,SAAGR,KAAKC,YAAWW,EAAAA,EAAAA,QAAG,IAAIZ,KAAKmI,WAAWnI,KAAKqD,UAAUoI,kBAAkBrL,IAAIA,EAAEK,EAAEiL,UAAUjL,EAAEkL,QAAQ,GAAGzL,EAAAA,iBAAIF,KAAKqL,gBAAgBC,KAAK,IAAItL,KAAKiJ,WAAWgB,sBAAsB7J,GAAGK,EAAEwJ,oBAAoB7J,GAAGI,EAAAA,SAAGR,KAAKC,YAAWJ,EAAAA,EAAAA,OAAG,KAAKG,KAAK4I,WAAW,KAAK5I,KAAK+H,iBAAiB,EAAE/H,KAAKgI,gBAAgB,CAAC,KAAKvH,CAAC,CAACmL,mBAAAA,CAAoBnL,GAAGA,EAAE8H,wBAAwBvI,KAAKuI,uBAAuB,CAAC,QAAIsD,GAAO,MAAM,CAAC9H,WAAW/D,KAAK+D,WAAW6G,oBAAoB5K,KAAK4K,oBAAoBkB,iBAAiB9L,KAAK8L,iBAAiBC,eAAe/L,KAAK+L,eAAe,IAAGtL,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAKqE,EAAEW,UAAU,iBAAY,IAAQrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAKqE,EAAEW,UAAU,kBAAa,IAAQrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAKqE,EAAEW,UAAU,wBAAmB,IAAQrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAKqE,EAAEW,UAAU,uBAAkB,IAAQrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAKqE,EAAEW,UAAU,qBAAgB,IAAQrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAKqE,EAAEW,UAAU,0BAA0B,OAAMrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAKqE,EAAEW,UAAU,kCAAkC,OAAMrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAKqE,EAAEW,UAAU,wBAAwB,OAAMrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAKqE,EAAEW,UAAU,eAAe,OAAMrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAKqE,EAAEW,UAAU,+BAA0B,GAAQX,GAAE1D,EAAAA,EAAAA,GAAE,EAACO,EAAAA,EAAAA,GAAE,oEAAoEmD,GAAG,MAAMK,EAAE,IAAIwH,IAAI,CAAC,CAAC,QAAQ,KAAK,CAAC,UAAU,KAAK,CAAC,WAAW,O,8CCArmI,IAAI7H,EAAE,eAAcK,EAAAA,EAAAA,IAAExD,EAAAA,EAAAA,IAAEgE,EAAAA,EAAAA,UAAEpD,EAAAA,EAAAA,GAAEoJ,EAAAA,aAAOnK,WAAAA,CAAYJ,GAAGsC,MAAMtC,EAAE,CAACV,UAAAA,GAAaC,KAAKC,YAAWJ,EAAAA,EAAAA,QAAG,IAAIG,KAAKiM,2BAA2BxL,GAAGT,KAAKkM,iBAAiBC,WAAW1L,IAAID,EAAAA,gBAAG,CAACU,OAAAA,GAAUlB,KAAKkM,iBAAiBE,YAAYpM,KAAKsI,iBAAgB1H,EAAAA,EAAAA,IAAEZ,KAAKsI,gBAAgB,CAAC,2BAAIC,GAA0B,OAAOvI,KAAKqM,iBAAiB9D,uBAAuB,CAAC,2BAAIA,CAAwB9H,GAAGT,KAAKqM,iBAAiB9D,wBAAwB9H,CAAC,CAAC,mCAAIiI,GAAkC,OAAO,MAAM1I,KAAKqM,mBAAmBrM,KAAKmI,WAAWnI,KAAKqM,iBAAiB3D,+BAA+B,CAAC,yBAAIC,GAAwB,OAAO3I,KAAKqM,kBAAkB1D,uBAAuB,CAAC,CAAC,gBAAIO,GAAe,OAAOlJ,KAAKqM,kBAAkBnD,cAAchE,EAAAA,EAAEiE,KAAK,CAAC,QAAIxG,GAAO,MAAMlC,EAAET,KAAKG,MAAMC,EAAEK,EAAEgD,cAAchD,EAAEgD,aAAaY,KAAK,SAASjE,IAAIA,EAAEkM,aAAa,YAAY7L,GAAG,MAAMA,EAAEkF,QAAQlF,EAAEkF,QAAQvF,EAAEkM,UAAU,CAAC,QAAI1J,GAAO,MAAMnC,EAAET,KAAKG,MAAMC,EAAEK,EAAEgD,cAAchD,EAAEgD,aAAaY,KAAK,SAASjE,IAAIA,EAAEmM,YAAa,YAAY9L,GAAG,MAAMA,EAAEoF,SAASpF,EAAEoF,OAAQ,CAAC2E,aAAAA,CAAc/J,EAAEL,GAAGJ,KAAKqM,kBAAkB7B,cAAc/J,EAAEL,EAAE,CAACgG,WAAAA,GAAc,OAAOrD,MAAMqD,aAAa,CAACnB,aAAAA,CAAcxE,EAAEL,GAAG,MAAMQ,EAAEA,IAAImC,MAAMkC,cAAcxE,EAAEL,GAAG,MAAM,SAASJ,KAAKG,MAAMyG,aAAa5G,KAAKwM,mBAAmBxM,KAAKyM,aAAahM,GAAGG,GAAGA,GAAG,CAAC,4BAAM8L,GAAyB,IAAGC,EAAAA,EAAAA,GAAI,4BAA4B,CAAC,MAAMC,kBAAkBnM,SAAS,0DAAmD,OAAO,IAAIA,EAAE,CAAC4C,UAAUrD,MAAM,CAAC,OAAO,IAAImC,EAAE,CAACkB,UAAUrD,MAAM,CAAC,eAAMK,CAAUI,GAAG,aAAaT,KAAKqM,iBAAiBhM,UAAUI,EAAE,CAACoM,8BAAAA,CAA+BpM,EAAEL,GAAG,IAAI2C,MAAM8J,+BAA+BpM,EAAEL,GAAG,OAAM,EAAG,MAAMQ,GAAEgD,EAAAA,EAAAA,IAAEnD,EAAET,KAAKG,MAAMqF,eAAe,GAAG,MAAM5E,EAAE,OAAM,EAAG,MAAMf,EAAEG,KAAKqM,iBAAiB3B,+BAA+B9J,GAAG,GAAG,MAAMf,EAAE,OAAM,EAAG,IAAI,MAAMW,KAAKJ,EAAE,GAAGP,EAAE8M,IAAInM,GAAG,OAAM,EAAG,OAAM,CAAE,CAAC,cAAI+I,GAAa,OAAOvJ,KAAKqM,kBAAkB9C,YAAY,CAAC,CAAC,kBAAIE,GAAiB,OAAOzJ,KAAKqM,kBAAkB5C,gBAAgB,CAAC,CAAC,uBAAIK,GAAsB,OAAO9J,KAAKqM,kBAAkBvC,sBAAqB,CAAE,CAAC,wBAAM0C,CAAmB/L,EAAEL,SAASJ,KAAK8M,2BAA2BrM,GAAG,MAAMG,QAAQR,IAAIP,EAAEG,KAAKqM,iBAAiB,GAAG5L,GAAGsM,eAAe,MAAMlN,EAAE,OAAOe,EAAE,MAAMJ,EAAER,KAAKG,MAAMqF,cAAc1F,EAAE,GAAG,IAAI,MAAMI,KAAKU,EAAEwB,SAAS,GAAGlC,EAAEoC,SAAS,CAAC,MAAM7B,EAAEZ,EAAE8K,oBAAoBzK,EAAE8M,WAAWxM,IAAIC,IAAIP,EAAEoC,SAAS7B,EAAEX,EAAEmN,KAAK/M,GAAG,MAAMJ,EAAEmN,KAAK/M,GAAG,OAAOU,EAAEwB,SAAStC,EAAEc,CAAC,CAAC,gCAAMkM,CAA2BrM,GAAG,IAAIA,EAAE,OAAO,MAAMG,EAAEH,IAAI,MAAM,IAAIL,EAAAA,QAAE,uCAAuC,6DAA6DK,KAAK,EAAEZ,EAAE,CAAC,yBAAyB,oBAAoB,sBAAsB,IAAI,MAAMO,KAAKP,EAAE,MAAMY,EAAEL,IAAIQ,EAAER,GAAG,YAAYK,GAAGA,EAAEoF,SAASjF,EAAE,WAAW,mBAAmBH,GAAGA,EAAEyM,gBAAgBtM,EAAE,kBAAkB,MAAMH,EAAE4F,qBAAqB5F,EAAE4F,oBAAoB8G,OAAOnN,KAAK8F,KAAKnE,mBAAmBf,EAAE,sBAAsB,CAAC,QAAIiL,GAAO,IAAGpL,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAKqE,EAAEW,UAAU,aAAQ,IAAQrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAKqE,EAAEW,UAAU,wBAAmB,IAAQrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAKqE,EAAEW,UAAU,0BAA0B,OAAMrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAKqE,EAAEW,UAAU,kCAAkC,OAAMrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,IAAEgC,EAAAA,IAAIqC,EAAEW,UAAU,wBAAmB,IAAQrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,IAAE,CAACiF,UAAS,KAAMZ,EAAEW,UAAU,wBAAwB,OAAMrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,IAAE,CAACiF,UAAS,KAAMZ,EAAEW,UAAU,eAAe,OAAMrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,IAAE,CAACiF,UAAS,KAAMZ,EAAEW,UAAU,OAAO,OAAMrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,IAAE,CAACiF,UAAS,KAAMZ,EAAEW,UAAU,OAAO,MAAMX,GAAE1D,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,GAAE,gDAAgDiE,GAAG,MAAMiJ,EAAEjJ,C,kDCA/wI,MAAMvD,UAAUH,EAAAA,EAAEI,WAAAA,CAAYJ,EAAEG,EAAEJ,EAAEJ,EAAEF,EAAEJ,GAAGiD,MAAMtC,EAAE8I,WAAW9I,EAAE4M,kBAAkB5M,EAAE6M,cAAc7M,EAAE8M,gBAAgB9M,EAAE+M,MAAM/M,EAAEgN,MAAMzN,KAAKqK,eAAezJ,EAAEZ,KAAKsK,cAAc9J,EAAER,KAAK0N,QAAQtN,EAAEJ,KAAKkH,KAAKhH,EAAEF,KAAK2N,iBAAiB7N,CAAC,E,iFCAlT,MAAM8N,EAAE,WAAWC,EAAE,iBAAiBjN,EAAE,eAAekN,EAAE,uBAAuB5N,EAAE,yBAAyB6N,EAAE,oB,yRCArD,MAAMvN,EAAEK,WAAAA,CAAYhB,GAAGG,KAAKgO,aAAanO,EAAEG,KAAKiO,SAAS,EAAE,CAAC,YAAMC,GAAS,MAAM,CAACC,2BAA2B5L,QAAQ6L,IAAIpO,KAAKiO,WAAWI,MAAMxO,GAAGA,EAAEyO,sBAAsB,CAACC,sBAAAA,CAAuB/N,GAAGA,GAAGR,KAAKiO,SAAShB,MAAKpN,EAAAA,EAAAA,kBAAEW,EAAER,KAAKgO,cAAc,CAACQ,qBAAAA,CAAsB3O,GAAG,GAAGA,EAAE,OAAOA,EAAE4C,MAAM,IAAI,UAAU,IAAI,UAAUzC,KAAKyO,kBAAkB5O,EAAE6O,cAAc7O,EAAE8O,cAAc,CAACF,iBAAAA,CAAkB5O,EAAEW,GAAG,GAAGX,GAAG,MAAMW,EAAE,IAAI,MAAMC,KAAKD,EAAER,KAAKuO,uBAAuB9N,EAAEmO,MAAM,CAACC,kBAAAA,CAAmBhP,EAAEW,GAAG,GAAGX,EAAE,IAAI,MAAMY,KAAKD,GAAGsO,SAAS,GAAG9O,KAAKuO,uBAAuB9N,EAAEmO,MAAM,CAACG,WAAAA,CAAYlP,GAAGG,KAAKuO,uBAAuB1O,GAAG+O,MAAM,CAACI,cAAAA,CAAenP,GAAG,MAAMA,IAAIG,KAAKyO,kBAAkB5O,GAAGoP,mBAAmBP,cAAc7O,GAAGoP,mBAAmBN,cAAc3O,KAAKyO,kBAAkB5O,GAAGqP,qBAAqBR,cAAc7O,GAAGqP,qBAAqBP,cAAc3O,KAAKyO,kBAAkB5O,GAAGsP,WAAWT,cAAc7O,GAAGsP,WAAWR,cAAc,ECA0pB,MAAMS,EAAEA,IAAI,IAAIC,EAAE,cAAcD,EAAEvO,WAAAA,GAAkBkC,SAAMuM,WAAMtP,KAAKiM,yBAAyB,KAAKjM,KAAKuP,OAAO,KAAKvP,KAAKG,MAAM,KAAKH,KAAKmO,qBAAoB,EAAGnO,KAAKsD,eAAe,GAAGtD,KAAK8F,KAAK,IAAI,CAAC/F,UAAAA,GAAaC,KAAKC,WAAW,EAACkC,EAAAA,EAAAA,QAAG,KAAK,MAAM1B,EAAET,KAAKG,MAAMS,EAAEZ,KAAK8F,KAAK,MAAM,CAACrF,GAAG,kBAAkBA,EAAEA,EAAEwG,eAAeuI,sBAAsB,KAAK/O,GAAG,iBAAiBA,EAAEA,EAAEgP,aAAa,KAAKhP,GAAG,aAAaA,GAAGA,EAAEiP,SAASjP,GAAG,aAAaA,GAAGA,EAAEkP,SAASlP,GAAG,iBAAiBA,GAAGA,EAAEkO,aAAalO,GAAG,cAAcA,GAAGA,EAAEmP,UAAUhP,GAAGiP,uBAAuBC,oBAAoBrP,GAAG,uBAAuBA,GAAGA,EAAEqP,mBAAmBlP,GAAGiP,uBAAuBE,uBAAsBC,EAAAA,EAAAA,GAAEpP,EAAEH,GAAGA,EAAEwP,kBAAkBjQ,KAAKoH,qBAAqBpH,KAAKuP,OAAOvP,KAAKkQ,cAAclQ,KAAKmQ,WAAW,6BAA6B1P,GAAGgC,MAAM,eAAehC,EAAE2P,qBAAqB3N,MAAMhC,EAAE2P,qBAAqBC,WAAWC,oBAAoBC,uBAAuBrJ,KAAK,YAAYzG,GAAGgC,MAAMhC,EAAE+P,cAAc,IAAI,IAAIxQ,KAAKyQ,iBAAiBjQ,EAAAA,iBAAGN,EAAAA,EAAAA,KAAG,IAAIF,KAAK8F,MAAM4K,QAAQ,UAAU,IAAI1Q,KAAKyQ,mBAAkBvQ,EAAAA,EAAAA,KAAG,IAAIF,KAAKG,MAAM8P,mBAAmBnB,SAAS,UAAU,IAAI9O,KAAKyQ,mBAAkBvQ,EAAAA,EAAAA,KAAG,IAAIF,KAAKG,OAAO,cAAcH,KAAKG,MAAMH,KAAKG,MAAMwQ,UAAU,MAAM,UAAU,IAAI3Q,KAAKyQ,mBAAmB,CAAC,mBAAIlN,GAAkB,IAAIvD,KAAKG,MAAM,MAAM,GAAG,MAAMA,MAAMM,EAAEN,OAAOyQ,YAAYhQ,GAAG0C,eAAelD,GAAGJ,KAAK,MAAM,cAAcS,GAAGA,EAAEyC,WAAUgC,EAAAA,EAAAA,WAAEtE,EAAE,KAAIkB,EAAAA,EAAAA,kBAAElB,EAAEH,EAAEyC,cAAc9C,KAAI8E,EAAAA,EAAAA,WAAEtE,EAAER,EAAE,CAAC,wBAAIgH,GAAuB,OAAOpH,KAAK8F,MAAMsB,uBAAsB,OAAQ,yBAAyBpH,KAAKG,SAASH,KAAKG,OAAOiH,uBAAsB,GAAI,CAAC,0BAAID,GAAyB,MAAM1G,EAAET,KAAKG,MAAM,OAAOH,KAAKoH,sBAAsB3G,EAAEwP,mBAAkBjL,EAAAA,EAAAA,IAAEvE,EAAEwP,kBAAkBjQ,KAAK8F,MAAM,IAAI,CAAC,iBAAIoK,GAAgB,OAAOlQ,KAAKG,OAAO,kBAAkBH,KAAKG,MAAMH,KAAKG,MAAM+P,cAAc,IAAI,CAAC,iBAAIA,CAAczP,GAAGT,KAAK6Q,UAAU,gBAAgBpQ,EAAE,CAAC,2BAAI8H,GAA0B,OAAO,CAAC,CAAC,2BAAIA,CAAwB9H,GAAGL,EAAAA,EAAEM,UAAUV,MAAMW,MAAM,4BAA4B,sDAAsD,CAAC,mCAAI+H,GAAkC,OAAM,CAAE,CAAC,gBAAIoI,GAAe,OAAO9Q,KAAKG,OAAO4Q,KAAI/F,EAAAA,EAAAA,IAAEhL,KAAKG,MAAM4Q,KAAKxO,QAAQC,QAAQ,KAAK,CAACwO,SAAAA,CAAUvQ,EAAEG,GAAG,MAAM,IAAIqQ,MAAM,yBAAyB,CAAC7K,WAAAA,GAAc,MAAM3F,EAAE,CAACyC,UAAU,CAAC,KAAKgO,gBAAe,EAAG7K,oBAAoBrG,KAAK8F,KAAKnE,kBAAkBf,EAAE,MAAMZ,KAAKuP,OAAOvP,KAAKuP,OAAOnJ,YAAY3F,GAAG,IAAI0Q,EAAAA,QAAE1Q,GAAG,MAAM,cAAcT,KAAKG,OAAOH,KAAKG,MAAMyP,YAAYhP,EAAEgO,OAAM5N,EAAAA,EAAAA,QAAEJ,EAAEgO,OAAMhB,EAAAA,EAAAA,GAAE5N,QAAQA,KAAKoH,uBAAuBxG,EAAEgO,OAAM5N,EAAAA,EAAAA,QAAEJ,EAAEgO,MAAM5O,KAAKmH,wBAAwByH,QAAQ,MAAM5O,KAAKmQ,aAAavP,EAAEuP,WAAW,MAAMvP,EAAEuP,WAAWvP,EAAEuP,WAAWiB,aAAapR,KAAKmQ,YAAYnQ,KAAKmQ,WAAWkB,SAASzQ,CAAC,CAAC0Q,oBAAAA,GAAuB,MAAM7Q,EAAE,CAACyC,UAAU,CAAC,KAAKgO,gBAAe,EAAG7K,oBAAoBrG,KAAK8F,KAAKnE,kBAAkB,OAAO,IAAIwP,EAAAA,QAAE1Q,EAAE,CAACwE,aAAAA,CAAcxE,EAAEG,GAAG,MAAM,IAAIqQ,MAAM,yBAAyB,CAACM,cAAAA,CAAe9Q,EAAEG,GAAG,MAAM,IAAIqQ,MAAM,yBAAyB,CAACxM,iBAAAA,CAAkBhE,EAAEG,GAAG,MAAM,IAAIqQ,MAAM,yBAAyB,CAACO,WAAAA,CAAY/Q,EAAEG,GAAG,MAAM,IAAIqQ,MAAM,yBAAyB,CAAC,oCAAMQ,CAA+BhR,EAAEG,GAAG,OAAOZ,KAAK0R,4BAA4BjR,EAAEG,GAAGZ,KAAK2R,oBAAoBlR,EAAEG,EAAE,CAACgR,kBAAAA,CAAmBnR,GAAG,OAAOA,EAAEoR,iBAAiB7P,QAAQ8P,MAAMC,QAAQtR,EAAEuR,UAAUvR,EAAEuR,QAAQ3D,MAAM5N,GAAG,eAAeA,EAAEgC,QAAOwP,EAAAA,EAAAA,MAAI1P,QAAQC,SAAS,CAACiO,aAAAA,GAAgB,MAAMhQ,EAAE8B,QAAQ6L,IAAI,CAACpO,KAAKkS,wBAAwBlS,KAAKmS,yCAAyC1Q,MAAM,SAAS,OAAOzB,KAAKyI,KAAK,2BAA2BhI,GAAGA,EAAEgB,MAAM,KAAKzB,KAAKiM,2BAA2BxL,GAAGT,KAAKyI,KAAK,2BAA2B,KAAK,IAAIhI,CAAC,CAAC,0CAAM0R,GAAuC,IAAInS,KAAKG,QAAQH,KAAK8F,KAAK,OAAO,MAAM3F,MAAMM,GAAGT,KAAKY,EAAE,IAAIwR,EAAE3R,EAAEmQ,aAAa,GAAGhQ,EAAEmO,YAAY/O,KAAKuP,QAAQ,qBAAqB9O,GAAGG,EAAE4N,sBAAsB/N,EAAE4R,kBAAkB,iBAAiB5R,GAAGG,EAAE6N,kBAAkBhO,EAAEiO,cAAcjO,EAAEkO,cAAc,cAAclO,GAAGG,EAAEoO,eAAevO,EAAE6R,WAAW,OAAOtS,KAAK8F,KAAKrD,OAAO7B,EAAEmO,YAAY/O,KAAKkQ,eAAeX,QAAQ3O,EAAEiO,mBAAmB7O,KAAKoH,qBAAqB3G,EAAEwP,mBAAmB,qBAAqBxP,GAAGG,EAAE4N,sBAAsB/N,EAAE4R,mBAAmB,kBAAkB5R,EAAEgC,KAAK,IAAI,MAAMrC,KAAKK,EAAEkQ,UAAU/P,EAAE6N,kBAAkBrO,EAAEsO,cAActO,EAAEuO,cAAc,IAAI,MAAMlO,QAAQG,EAAEsN,SAASlO,KAAKyI,KAAK,sBAAsBhI,EAAE0N,oBAAoB,CAAC,MAAMtO,GAAGO,EAAAA,EAAEM,UAAUV,MAAMW,MAAMd,EAAE,CAAC,CAAC,2BAAMqS,GAAwB,IAAIlS,KAAKG,QAAQH,KAAK8F,KAAK,OAAO,MAAMrF,EAAE,OAAOT,KAAK8F,KAAKrD,MAAMtC,MAAMS,EAAET,OAAOyQ,YAAY/Q,EAAE2F,cAAcrD,IAAInC,KAAKQ,EAAE,aAAaI,GAAGA,EAAE+O,SAASzP,EAAE,YAAYU,GAAGA,EAAE2R,QAAQvR,EAAE,qBAAqBJ,EAAEA,EAAEyR,iBAAiB,KAAKvS,EAAE,IAAIsD,IAAIQ,EAAE,CAACpD,EAAEA,EAAEgS,sBAAsB1S,EAAED,GAAG,MAAK4S,EAAAA,EAAAA,uBAAE3S,EAAEc,GAAGH,GAAG,kBAAkBG,GAAEwM,EAAAA,EAAAA,wBAAEtN,EAAEc,GAAG,KAAK,MAAMZ,KAAKuP,QAAO1B,EAAAA,EAAAA,qBAAE/N,EAAEc,EAAEZ,KAAKuP,QAAQ,KAAK9O,GAAG,MAAMT,KAAKkQ,cAAc,MAAKrC,EAAAA,EAAAA,qBAAE/N,EAAEc,EAAEZ,KAAKkQ,cAAcX,SAAS9O,GAAGO,GAAE0R,EAAAA,EAAAA,+BAAE5S,EAAEc,EAAEI,GAAG,MAAMP,GAAGP,GAAEyS,EAAAA,EAAAA,qBAAE7S,EAAEc,EAAEV,GAAG,MAAM,GAAG,aAAaU,GAAGA,EAAE8O,UAAU1P,KAAKmQ,aAAYyC,EAAAA,EAAAA,eAAE9S,EAAEc,EAAEgQ,YAAY,CAAChQ,EAAE8O,SAASmD,WAAWjS,EAAE8O,SAASoD,WAAW,aAAalS,GAAGA,EAAE8O,UAAU,cAAc9O,GAAGA,EAAE0R,UAAU,CAAC,MAAMA,UAAU7R,GAAGG,GAAEgS,EAAAA,EAAAA,eAAE9S,EAAEc,EAAEgQ,YAAY,CAAChQ,EAAE8O,SAASqD,eAAe,YAAYnS,EAAE6B,MAAM,mBAAmBhC,EAAEuS,YAAWJ,EAAAA,EAAAA,eAAE9S,EAAEc,EAAEgQ,YAAY,CAAChQ,EAAE8O,SAASmD,aAAa,iBAAiBpS,EAAEuS,YAAWJ,EAAAA,EAAAA,eAAE9S,EAAEc,EAAEgQ,YAAY,CAAChQ,EAAE8O,SAASoD,iBAAiB/E,EAAAA,EAAAA,wBAAEjO,EAAEc,EAAE,CAAC,GAAG,cAAcA,GAAGA,EAAEgP,YAAWgD,EAAAA,EAAAA,eAAE9S,EAAEc,EAAEgQ,YAAY,CAAChQ,EAAEgP,UAAUqD,aAAa,uBAAuBrS,GAAGZ,KAAK8F,MAAM+J,uBAAuBC,oBAAoBlP,EAAEkP,qBAAoB8C,EAAAA,EAAAA,eAAE9S,EAAEc,EAAEgQ,YAAYhQ,EAAEkP,oBAAoB,YAAYlP,EAAE6B,MAAM7B,EAAE6E,eAAezF,KAAK8F,MAAM+J,uBAAuBpK,gBAAemN,EAAAA,EAAAA,eAAE9S,EAAEc,EAAEgQ,YAAY,CAAChQ,EAAE6E,gBAAgBzF,KAAKoH,sBAAsBxD,EAAEqJ,MAAKiG,EAAAA,EAAAA,4BAAEpT,EAAEc,EAAEA,EAAEqP,oBAAoB,YAAYrP,EAAE6B,MAAMhC,GAAG,MAAMG,EAAEuS,YAAY,MAAMvS,EAAE6E,eAAerF,EAAAA,EAAEM,UAAUV,MAAMW,MAAM,kDAAiDiS,EAAAA,EAAAA,eAAE9S,EAAEc,EAAEgQ,YAAY,CAAChQ,EAAE6E,iBAAiB,kBAAkB7E,EAAE6B,KAAK,EAAC2Q,EAAAA,EAAAA,cAAEtT,EAAED,EAAEe,EAAEyS,cAAc,MAAM5S,EAAEG,EAAE+P,UAAU9N,KAAKpC,GAAG8B,QAAQ6L,IAAI,CAAC3N,EAAEkP,UAAU6C,sBAAsB1S,EAAED,IAAG4S,EAAAA,EAAAA,uBAAE3S,EAAEW,OAAOmD,EAAEqJ,KAAK1K,QAAQ6L,IAAI3N,GAAG,CAAC,GAAG,sBAAsBG,EAAE6B,MAAM7B,EAAE0S,OAAO,CAAC,MAAM7S,EAAEG,EAAE0S,QAAOV,EAAAA,EAAAA,eAAE9S,EAAED,EAAE,CAACY,EAAE8S,cAAc9S,EAAE+S,gBAAgB/S,EAAEgT,cAAchT,EAAEiT,cAAcjT,EAAEkT,eAAe,CAAC,6BAA6B/S,EAAE6B,MAAM,eAAe7B,EAAEwP,qBAAqB3N,OAAM2Q,EAAAA,EAAAA,cAAEtT,EAAED,EAAE+B,EAAAA,IAAG,YAAYhB,EAAE6B,MAAMmB,EAAEqJ,MAAK2G,EAAAA,EAAAA,IAAEhT,EAAEA,EAAE4P,eAAe/O,MAAMhB,IAAI,IAAI,MAAMG,KAAKH,EAAEX,EAAEwL,IAAI1K,EAAE,KAAK,MAAMoE,QAAQzC,QAAQsR,WAAWjQ,IAAGwP,EAAAA,EAAAA,cAAEtT,EAAED,EAAEsC,GAAG1B,GAAG,iBAAiBG,GAAGA,EAAE6O,eAAc2D,EAAAA,EAAAA,cAAEtT,EAAED,EAAEe,EAAE6O,cAAc,IAAI,MAAM7N,KAAKoD,EAAE,aAAapD,EAAEkS,QAAQ1T,EAAAA,EAAEM,UAAUV,MAAMW,MAAMiB,EAAEmS,QAAQ,MAAM5P,EAAE2N,MAAMkC,KAAKlU,GAAGmU,OAAOjU,KAAKyI,KAAK,iBAAiBtE,EAAE,CAACuN,2BAAAA,CAA4BjR,EAAEL,GAAG,GAAG,MAAMA,EAAE,IAAI,MAAMP,KAAKY,EAAE,CAAC,MAAMA,EAAEZ,EAAEqU,QAAQ,UAAUrU,EAAEqU,OAAOrU,EAAEqU,OAAO/T,MAAMN,EAAEM,MAAM,GAAG,iBAAiBM,IAAIA,EAAE0T,aAAa,MAAM,IAAIvT,EAAAA,QAAE,sCAAsC,sBAAsB,CAACT,MAAMM,IAAI,GAAGZ,EAAEuU,YAAY,CAAC,MAAMhU,EAAE,qBAAqBK,EAAEA,EAAE4R,iBAAiB,KAAKxS,EAAE,cAAcY,EAAEA,EAAE6R,UAAU,KAAK,GAAG,MAAMlS,GAAG,MAAMP,GAAG,MAAMO,MAAM,kBAAkBA,KAAKA,EAAE+T,eAAe/T,EAAEoQ,gBAAgB3Q,GAAGwU,YAAY,kBAAkBxU,KAAKA,EAAEsU,eAAetU,EAAE2Q,eAAe,MAAM,IAAI5P,EAAAA,QAAE,sCAAsC,sBAAsB,CAACT,MAAMM,GAAG,MAAM,GAAG,kBAAkBA,KAAO6T,EAAAA,EAAAA,IAAE7T,EAAEL,GAAG,MAAM,IAAIQ,EAAAA,QAAE,sCAAsC,yCAAyC,CAACT,MAAMM,GAAI,CAAC,CAACoM,8BAAAA,CAA+BpM,EAAEG,GAAG,OAAO2T,EAAAA,EAAAA,kBAAE3T,EAAEH,EAAE,CAAC,yBAAMkR,CAAoBlR,EAAEG,GAAG,MAAMR,EAAE,IAAI0R,MAAMrR,EAAEuB,QAAQG,EAAE,IAAI6J,IAAIxL,QAAQR,KAAKwU,kBAAkB/T,EAAEoC,KAAKpC,GAAGA,EAAEyT,QAAQ/T,OAAOM,EAAEN,QAAQS,GAAG,IAAI,IAAIV,EAAE,EAAEA,EAAEO,EAAEuB,OAAO9B,IAAI,CAAC,MAAMc,EAAEP,EAAEP,GAAG,GAAGc,EAAEoT,YAAY,CAAChU,EAAEF,GAAGc,EAAE,QAAQ,CAAC,MAAMlB,EAAEkB,EAAEkT,QAAQ/T,OAAOa,EAAEb,MAAM,IAAIL,KAAK,iBAAiBA,GAAG,SAAS,MAAM8D,GAAE9B,EAAAA,EAAAA,kBAAE9B,KAAKG,MAAMyQ,YAAYpQ,EAAE0C,WAAWtB,GAAE0S,EAAAA,EAAAA,IAAExU,EAAEc,GAAG,GAAG,MAAMgB,EAAE,SAAS,MAAMoD,QAAQhF,KAAK4R,mBAAmBhQ,IAAG/B,EAAAA,EAAAA,gBAAEe,GAAGoE,GAAGA,EAAEyP,YAAYC,sBAAsB9S,KAAK5B,KAAK6M,+BAA+B7L,EAAE4C,GAAGzB,EAAEwS,IAAI3T,EAAE4T,cAAc,CAAC9J,QAAQ9J,EAAE6T,MAAM3U,IAAIE,EAAEF,GAAGc,CAAC,CAAC,GAAG,WAAWhB,KAAKG,MAAMsC,MAAM,YAAYzC,KAAKG,MAAMsC,MAAM,IAAIN,EAAE2S,KAAK,OAAO1U,EAAEmP,OAAOwF,SAASvU,EAAEwU,UAAUlD,MAAMkC,KAAK7R,EAAE8S,QAAQ,IAAI,MAAMxU,QAAQT,KAAKG,MAAM8E,cAAczE,EAAEI,GAAG,IAAI,MAAMA,KAAKH,EAAE2B,SAAS,CAAC,MAAM0I,SAASxI,SAAS7B,EAAEyT,OAAOrU,GAAGgV,MAAMrU,GAAG2B,EAAEiH,IAAIxI,EAAEgU,eAAehU,EAAE0B,WAAW7B,EAAEG,EAAEsT,OAAOrU,EAAEO,EAAEI,GAAGI,CAAC,CAAC,CAAC,MAAM,CAAC,OAAOR,EAAEmP,OAAOwF,QAAQ,CAAC,uBAAMP,CAAkB/T,EAAEG,GAAG,MAAMR,EAAEJ,KAAKG,MAAMiG,cAAcjE,EAAE,IAAIiB,IAAI,IAAI5C,GAAE,EAAG,MAAMN,EAAEO,GAAG,CAACT,KAAKG,OAAO,IAAI,MAAMa,KAAKd,EAAE,CAAC,KAAK,iBAAiBc,GAAG,SAAS,MAAMP,GAAE6T,EAAAA,EAAAA,IAAEtT,EAAEJ,GAAG,GAAG,MAAMH,EAAE,SAAS,MAAML,QAAQJ,KAAK4R,mBAAmBnR,IAAGZ,EAAAA,EAAAA,gBAAEe,GAAG,MAAMV,EAAEE,GAAGA,EAAEqU,YAAYC,sBAAsBjU,GAAGD,IAAI,UAAUR,KAAKG,MAAMyG,eAAe1G,GAAG,MAAMJ,QAAQ8T,EAAAA,EAAAA,IAAE5T,KAAKG,MAAMM,IAAGZ,EAAAA,EAAAA,gBAAEe,GAAG,IAAI,MAAMA,KAAKd,EAAEqC,EAAEmJ,IAAI1K,EAAE,CAAC,GAAGR,EAAE8Q,eAAe1Q,EAAEJ,EAAEuF,QAAQnF,EAAEJ,EAAEyF,QAAQrF,EAAEJ,EAAE8C,UAAU4O,MAAMkC,KAAK7R,GAAG/B,EAAEiG,oBAAoBrG,KAAK8F,KAAKnE,iBAAiB,cAAc3B,KAAKG,OAAOH,KAAKG,MAAMyP,UAAU,CAAC,MAAMnP,GAAEmN,EAAAA,EAAAA,GAAE5N,MAAM,MAAMS,IAAIL,EAAEwO,MAAMxO,EAAEwO,MAAM,IAAIxO,EAAEwO,eAAenO,KAAKA,EAAE,CAAC,OAAOL,CAAC,CAAC8U,SAAAA,GAAY,QAAQnS,MAAMmS,cAAc,MAAMlV,KAAKmQ,aAAanQ,KAAKmQ,WAAWgF,QAAQ,CAACC,OAAAA,GAAU,CAAC,QAAIvJ,GAAO,GAAG,OAAOpL,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAKuP,EAAEvK,UAAU,gCAA2B,IAAQrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,IAAE,CAACiF,UAAS,KAAMsK,EAAEvK,UAAU,kBAAkB,OAAMrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,IAAE,CAACiF,UAAS,KAAMsK,EAAEvK,UAAU,uBAAuB,OAAMrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,IAAE,CAACiF,UAAS,KAAMsK,EAAEvK,UAAU,yBAAyB,OAAMrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,IAAE,CAAC2C,KAAK0B,EAAAA,WAAKkL,EAAEvK,UAAU,gBAAgB,OAAMrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,IAAE,CAAC2C,KAAK+B,EAAAA,WAAK6K,EAAEvK,UAAU,cAAS,IAAQrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAKuP,EAAEvK,UAAU,aAAQ,IAAQrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,IAAE,CAAC2C,KAAK4S,UAAUhG,EAAEvK,UAAU,0BAA0B,OAAMrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,IAAE,CAACiF,UAAS,EAAGtC,KAAKsS,WAAW1F,EAAEvK,UAAU,kCAAkC,OAAMrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAKuP,EAAEvK,UAAU,2BAAsB,IAAQrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,IAAE,CAACiF,UAAS,KAAMsK,EAAEvK,UAAU,sBAAiB,IAAQrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,IAAE,CAACiF,UAAS,KAAMsK,EAAEvK,UAAU,eAAe,OAAMrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAKuP,EAAEvK,UAAU,iBAAY,IAAQrE,EAAAA,EAAAA,GAAE,EAACX,EAAAA,EAAAA,OAAKuP,EAAEvK,UAAU,YAAO,GAAQuK,GAAE5O,EAAAA,EAAAA,GAAE,EAACmD,EAAAA,EAAAA,GAAE,uCAAuCyL,GAAGA,CAAC,C","sources":["../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js","../node_modules/@arcgis/core/views/3d/support/PBFDecoder.js","../node_modules/@arcgis/core/views/3d/layers/support/featureTileQuery3D.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DContext.js","../node_modules/@arcgis/core/views/3d/layers/graphics/FeatureGraphics3DGraphicsPipeline.js","../node_modules/@arcgis/core/views/3d/layers/FeatureLayerViewBase3D.js","../node_modules/@arcgis/core/views/3d/layers/FeatureLayerViewPerformanceInfo.js","../node_modules/@arcgis/core/layers/knowledgeGraph/constants.js","../node_modules/@arcgis/core/views/layers/support/WhereClauseVisitor.js","../node_modules/@arcgis/core/views/layers/FeatureLayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let a=class extends i{initialize(){this.addHandles(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this).error(r)}))})),\"RefreshableLayerView\")}};return a=r([t(\"esri.views.layers.RefreshableLayerView\")],a),a};export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{generateUID as e}from\"../../../core/uid.js\";import{WorkerHandle as r}from\"../../../core/workers/WorkerHandle.js\";import s from\"../../../geometry/SpatialReference.js\";import o from\"../../../layers/support/Field.js\";class t{constructor(e){this._controller=e,this._handle=new n((r=>e.schedule(r)))}destroy(){this._handle.destroy()}invoke(r,t){return r.buffer&&0!==r.buffer.byteLength?(r.options.sourceSpatialReference&&r.options.sourceSpatialReference instanceof s&&(r.options={...r.options,sourceSpatialReference:r.options.sourceSpatialReference.toJSON()}),this._handle.invoke(r,t).then((r=>{let t=0,n=0;const i=s.fromJSON(r.spatialReference);r.spatialReference=i;const p=async s=>{const c=r.fields;if(c)for(;t<c.length;)if(c[t]=o.fromJSON(c[t]),t++,s.madeProgress())return this._controller.reschedule((e=>p(e)));const l=r.features;for(;n<l.length;){const r=l[n];++n,r.uid=e();const o=r.geometry;if(null!=o&&(o.spatialReference=i,a(o),s.madeProgress()))return this._controller.reschedule((e=>p(e)))}return r};return this._controller.schedule((e=>p(e)))}))):Promise.resolve(null)}}function a(e){switch(e.type){case\"polyline\":e.paths=e.hasZ&&e.hasM?e.paths.map((e=>e.map((e=>[e[0],e[1],e[2],e[3]])))):e.hasZ||e.hasM?e.paths.map((e=>e.map((e=>[e[0],e[1],e[2]])))):e.paths.map((e=>e.map((e=>[e[0],e[1]]))));break;case\"polygon\":e.rings=e.hasZ&&e.hasM?e.rings.map((e=>e.map((e=>[e[0],e[1],e[2],e[3]])))):e.hasZ||e.hasM?e.rings.map((e=>e.map((e=>[e[0],e[1],e[2]])))):e.rings.map((e=>e.map((e=>[e[0],e[1]]))))}}class n extends r{constructor(e){super(\"PBFDecoderWorker\",\"_parseFeatureQuery\",{_parseFeatureQuery:e=>[e.buffer]},e)}}export{t as PBFDecoder};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import r from\"../../../../core/Accessor.js\";import{destroyMaybe as t}from\"../../../../core/maybe.js\";import{throwIfAborted as s,createAbortError as o}from\"../../../../core/promiseUtils.js\";import{difference as i}from\"../../../../core/SetUtils.js\";import{property as u}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as a}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromFeatureSetJSON as l}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{runQuery as n,executeQuery as y}from\"../../../../rest/query/operations/query.js\";import{PBFDecoder as c}from\"../../support/PBFDecoder.js\";let p=class extends r{constructor(e){super(e)}get implicitFields(){const e=this.layer.outFields?.includes(\"*\");if(!e)return new Set;const r=new Set(this.layerView.requiredFields),t=new Set(this.layerView.availableFields);return i(t,r)}get queryFeaturesDehydrated(){const{layer:e}=this,r=e.capabilities,t=r&&r.query,i=t&&t.supportsFormatPBF,u=e.parsedUrl;if(i){null==this._decoder&&(this._decoder=new c(this.controller));const r={sourceSpatialReference:e.spatialReference?.toJSON()??null,applyTransform:!0,maxStringAttributeFields:this.implicitFields,maxStringAttributeLength:f};return(e,t)=>n(u,e,\"pbf\",this._createRequestOptions(t)).then((e=>(s(t),null!=this._decoder?this._decoder.invoke({buffer:e.data,options:r},t.signal):Promise.reject(o()))))}return(r,t)=>y(u,r,e.spatialReference,this._createRequestOptions(t)).then((e=>l(e.data,{maxStringAttributeFields:this.implicitFields,maxStringAttributeLength:f})))}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}destroy(){this._decoder=t(this._decoder)}_createRequestOptions(e){return{...e,query:{...this.layer.customParameters,token:this.layer.apiKey,...e?.query}}}};e([u({constructOnly:!0})],p.prototype,\"layer\",void 0),e([u({constructOnly:!0})],p.prototype,\"layerView\",void 0),e([u({constructOnly:!0})],p.prototype,\"controller\",void 0),e([u({readOnly:!0})],p.prototype,\"implicitFields\",null),e([u({readOnly:!0})],p.prototype,\"queryFeaturesDehydrated\",null),p=e([a(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileServiceQuery3D\")],p);let d=class extends r{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.layer.queryFeatures(e,r)}};e([u({constructOnly:!0})],d.prototype,\"layer\",void 0),d=e([a(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileOGCServiceQuery3D\")],d);let m=class extends r{constructor(e){super(e)}queryFeaturesDehydrated(e,r){return this.source.queryFeaturesJSON(e,r).then(l,(t=>{if(t&&\"query-features-json:unsupported\"===t.name)return this.layer.queryFeatures(e,r);throw t}))}queryFeatureCount(e,r){return this.layer.queryFeatureCount(e,r)}};function h(e,r){const{layer:t}=e;return\"feature\"===t.type&&\"feature-layer\"===t.source.type||\"catalog-footprint\"===t.type?new p({layer:t,layerView:e,controller:r}):\"feature\"===t.type&&\"memory\"===t.source.type||\"csv\"===t.type||\"geojson\"===t.type||\"oriented-imagery\"===t.type||\"wfs\"===t.type?new m({layer:t,source:t.source}):\"ogc-feature\"===t.type?new d({layer:t}):null}e([u({constructOnly:!0})],m.prototype,\"layer\",void 0),e([u({constructOnly:!0})],m.prototype,\"source\",void 0),m=e([a(\"esri.views.3d.layers.support.featureTileQuery3D.FeatureTileClientQuery3D\")],m);const f=1024;export{h as createFeatureTileQuery3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{destroyMaybe as e}from\"../../../../core/maybe.js\";import{createFeatureTileQuery3D as t}from\"./featureTileQuery3D.js\";class r{constructor(e){this._memoryCache=null;const r=e.layerView.layer;this._layerView=e.layerView,this.objectIdField=r.objectIdField,this.globalIdField=\"globalIdField\"in r?r.globalIdField:null,this._returnZ=e.returnZ,this._returnM=e.returnM;const i=this._layerView.view.resourceController;this.query=t(this._layerView,i.normal),i&&this._memoryCacheEnabled&&(this._memoryCache=i.memoryController.newCache(`fl-${r.uid}`))}get _memoryCacheEnabled(){switch(this._layerView.layer.source.type){case\"feature-layer\":case\"ogc-feature\":case\"oriented-imagery\":return!0;case\"csv\":case\"parquet\":case\"geojson\":case\"memory\":case\"wfs\":return!1}}destroy(){this._memoryCache=e(this._memoryCache),this.query.destroy()}createQuery(){const e=this._layerView.layer.createQuery();return e.outFields=this._layerView.availableFields,e.returnZ=this._returnZ,e.returnM=this._returnM,e.outSpatialReference=this.tilingScheme.spatialReference,e}get memoryCache(){return this._memoryCache}get viewingMode(){return this._layerView.view.state.viewingMode}get tilingScheme(){return this._layerView.view.featureTiles.tilingScheme}get scheduler(){return this._layerView.view.resourceController?.scheduler}get geometryType(){return this._layerView.layer.geometryType}get fullExtent(){return this._layerView.layer.fullExtent}get tileMaxRecordCount(){return this._layerView.layer.capabilities.query.tileMaxRecordCount}get maxRecordCount(){return this._layerView.layer.capabilities.query.maxRecordCount}get isDraped(){return\"on-the-ground\"===this._layerView.layer.elevationInfo?.mode}get effectiveDisplayFilter(){return this._layerView.displayFilterEnabled?this._layerView.effectiveDisplayFilter:null}get capabilities(){return this._capabilities??=i(this._layerView.layer),this._capabilities}logFetchError(e,t){e.error(\"#fetchTile()\",this._layerView.layer,t?.message??t)}}function i(e){const t=e.capabilities.query;return{supportsMultipleResolutions:a(e),supportsPagination:!(!t||!t.supportsPagination),supportsResultType:!(!t||!t.supportsResultType),supportsCacheHint:!(!t||!t.supportsCacheHint),supportsQuantization:!(!t||!t.supportsQuantization),supportsQuantizationEditMode:!(!t||!t.supportsQuantizationEditMode),supportsMaxRecordCountFactor:!(!t||!t.supportsMaxRecordCountFactor),supportsFormatPBF:!(!t||!t.supportsFormatPBF)}}function a(e){switch(e.geometryType){case\"polyline\":return!0;case\"polygon\":return e.capabilities&&e.capabilities.query&&e.capabilities.query.supportsQuantization;default:return!1}}export{r as FeatureTileFetcher3DContext,i as contextCapabilitiesFromLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{destroyMaybe as r}from\"../../../../core/maybe.js\";import{watch as t,initial as s,syncAndInitial as o,when as i}from\"../../../../core/reactiveUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{hydrateGeometry as l}from\"../../../../layers/graphics/hydratedFeatures.js\";import{FeatureTileController3D as c}from\"../../../../layers/graphics/controllers/FeatureTileController3D.js\";import{FeatureLayerViewPerformanceInfo as u}from\"../FeatureLayerViewPerformanceInfo.js\";import{Graphics3DGraphicsPipeline as p}from\"./Graphics3DGraphicsPipeline.js\";import{FeatureTileFetcher3DContext as h}from\"../support/FeatureTileFetcher3DContext.js\";import{EventedSet as m}from\"../../support/EventedSet.js\";import{UpdatePolicy as d}from\"../../webgl-engine/lib/UpdatePolicy.js\";let f=class extends p{constructor(e){super(e),this._controllerTotal=0,this._processorTotal=0,this._needsRefresh=!1,this.suspendResumeExtentMode=\"data\"}initialize(){this.addHandles(t((()=>({controller:this.controller,suspended:this.suspended})),(({controller:e,suspended:r})=>{e&&!r&&this._needsRefresh&&(e.refetch(),this._needsRefresh=!1)})))}destroy(){this._fetcherContext=r(this._fetcherContext)}get maximumNumberOfFeatures(){return this.controller?.maximumNumberOfFeatures??this._get(\"maximumNumberOfFeatures\")}set maximumNumberOfFeatures(e){this._set(\"maximumNumberOfFeatures\",e),this.controller&&(this.controller.maximumNumberOfFeatures=e)}get maximumNumberOfFeaturesExceeded(){return!!this.controller&&!(this.suspended||!this.controller.maximumNumberOfFeaturesExceeded)}get updatingProgressValue(){let e=0;if(this.controller?.updating){const r=this.controller.updatingRemaining,t=Math.max(this.controller.updatingTotal,this._controllerTotal);t>0&&(e=(t-r)/t,this._controllerTotal=t)}let r=0;if(this.processor?.updating){const e=this.processor.updatingRemaining,t=Math.max(e,this._processorTotal);t>0&&(r=(t-e)/t,this._processorTotal=t)}return.5*(e+r)}get updatePolicy(){if(!this.controller)return d.ASYNC;switch(this.controller.mode){case\"snapshot\":{const e=y.get(this.layer.geometryType);return null==e||this.controller.serviceDataCount>e?d.ASYNC:d.SYNC}case\"tiles\":return d.ASYNC}}get usedMemory(){return(this.processor?.usedMemory??0)+(this.controller?.memoryForUnusedFeatures??0)}get unloadedMemory(){const e=this.processor?.unprocessedMemoryEstimate??0,r=this.controller?.expectedFeatureDiff??0,t=this.processor?.loadedFeatures??0,s=t+r>0?t/(t+r):1;return e+r*(this.processor?.usedMemoryPerFeature??0)*s}get ignoresMemoryFactor(){return this.controller?.hasMaximumNumberOfFeaturesOverride}get performanceInfo(){const e=this.controller?.displayFeatureLimit,r=null!=e?e.averageSymbolComplexity:void 0,t=null!=r?`f:${r.verticesPerFeature},v:${r.verticesPerCoordinate}`:\"n/a\";return new u(super.performanceInfo,this.controller?.performanceInfo?.storedFeatures??0,this.controller?.performanceInfo?.totalVertices??0,this.maximumNumberOfFeaturesExceeded,this.controller?.mode??\"n/a\",t)}async doRefresh(e){const{controller:r,processor:t,suspended:s}=this;e&&r&&(s?this._needsRefresh=!0:(r.refetch(),this._needsRefresh=!1)),t.refreshFilter()}setVisibility(e,r){this.processor?.setObjectIdVisibility(e,r)}getMissingAttributesForFeature(e){return this.controller.getMissingAttributesForFeature(e)}getHydratedGeometry(e){const r=this.graphics3DProcessor;if(null==r)return null;const t=r.graphics3DGraphicsByObjectID;if(null==t)return null;const s=t.get(e);return null==s?null:l(s.graphic.geometry)}createController(){this._fetcherContext=new h({layerView:this.layerView,returnZ:this.hasZ,returnM:this.hasM});const e=new c({layerView:this.layerView,context:this._fetcherContext,graphics:new m,extent:this.clippingExtent});return this.updatingHandles.add((()=>e.serviceDataExtent),(e=>{this.processor&&(this.processor.dataExtent=e)}),s),this.addHandles(t((()=>this.suspended&&this.layerView.updateSuspended),(r=>{r?e.suspend():e.resume()}),o)),this.updatingHandles.add((()=>this.processor?.displayFeatureLimit),(r=>e.displayFeatureLimit=r),s),this.addHandles(i((()=>!this.updating),(()=>{this._controllerTotal=0,this._processorTotal=0}))),e}beforeSetController(e){e.maximumNumberOfFeatures=this.maximumNumberOfFeatures}get test(){return{controller:this.controller,graphics3DProcessor:this.graphics3DProcessor,heatmapProcessor:this.heatmapProcessor,loadedGraphics:this.loadedGraphics}}};e([a()],f.prototype,\"layerView\",void 0),e([a()],f.prototype,\"controller\",void 0),e([a()],f.prototype,\"_controllerTotal\",void 0),e([a()],f.prototype,\"_processorTotal\",void 0),e([a()],f.prototype,\"_needsRefresh\",void 0),e([a()],f.prototype,\"maximumNumberOfFeatures\",null),e([a()],f.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([a()],f.prototype,\"updatingProgressValue\",null),e([a()],f.prototype,\"updatePolicy\",null),e([a()],f.prototype,\"suspendResumeExtentMode\",void 0),f=e([n(\"esri.views.3d.layers.graphics.FeatureGraphics3DGraphicsPipeline\")],f);const y=new Map([[\"point\",5e3],[\"polygon\",500],[\"polyline\",1e3]]);export{f as FeatureGraphics3DGraphicsPipeline};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import r from\"../../../core/Error.js\";import has from\"../../../core/has.js\";import{destroyMaybe as t}from\"../../../core/maybe.js\";import{watch as i,syncAndInitial as s}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{getObjectId as u}from\"../../../layers/graphics/dehydratedFeatures.js\";import{FeatureLikeLayerView3D as n}from\"./FeatureLikeLayerView3D.js\";import{LayerView3D as p}from\"./LayerView3D.js\";import{FeatureGraphics3DGraphicsPipeline as l}from\"./graphics/FeatureGraphics3DGraphicsPipeline.js\";import{updatingProgress as c}from\"../support/updatingProperties.js\";import{UpdatePolicy as m}from\"../webgl-engine/lib/UpdatePolicy.js\";import d from\"../../layers/FeatureLayerView.js\";import h from\"../../layers/LayerView.js\";import y from\"../../layers/RefreshableLayerView.js\";let f=class extends(y(n(d(p(h))))){constructor(e){super(e)}initialize(){this.addHandles(i((()=>this._updatingRequiredPromise),(e=>this._updatingHandles.addPromise(e)),s))}destroy(){this._updatingHandles.removeAll(),this._fetcherContext=t(this._fetcherContext)}get maximumNumberOfFeatures(){return this.graphicsPipeline.maximumNumberOfFeatures}set maximumNumberOfFeatures(e){this.graphicsPipeline.maximumNumberOfFeatures=e}get maximumNumberOfFeaturesExceeded(){return null!=this.graphicsPipeline&&!this.suspended&&this.graphicsPipeline.maximumNumberOfFeaturesExceeded}get updatingProgressValue(){return this.graphicsPipeline?.updatingProgressValue??0}get updatePolicy(){return this.graphicsPipeline?.updatePolicy??m.ASYNC}get hasZ(){const e=this.layer,r=e.capabilities&&e.capabilities.data;return!(!r||!r.supportsZ)&&(\"returnZ\"in e&&null!=e.returnZ?e.returnZ:r.supportsZ)}get hasM(){const e=this.layer,r=e.capabilities&&e.capabilities.data;return!(!r||!r.supportsM)&&(\"returnM\"in e&&null!=e.returnM&&e.returnM)}setVisibility(e,r){this.graphicsPipeline?.setVisibility(e,r)}createQuery(){return super.createQuery()}queryFeatures(e,r){const t=()=>super.queryFeatures(e,r);return\"mesh\"===this.layer.geometryType?this._queryFeaturesMesh(this._ensureQuery(e),t):t()}async createGraphicsPipeline(){if(has(\"feature-pipeline-3d-test\")){const{Feature3DPipeline:e}=await import(\"./graphics/pipeline/Feature3DPipeline.js\");return new e({layerView:this})}return new l({layerView:this})}async doRefresh(e){return await this.graphicsPipeline.doRefresh(e)}_popupFeatureHasRequiredFields(e,r){if(!super._popupFeatureHasRequiredFields(e,r))return!1;const t=u(e,this.layer.objectIdField);if(null==t)return!0;const i=this.graphicsPipeline.getMissingAttributesForFeature(t);if(null==i)return!0;for(const s of r)if(i.has(s))return!1;return!0}get usedMemory(){return this.graphicsPipeline?.usedMemory??0}get unloadedMemory(){return this.graphicsPipeline?.unloadedMemory??0}get ignoresMemoryFactor(){return this.graphicsPipeline?.ignoresMemoryFactor??!1}async _queryFeaturesMesh(e,r){await this._validateQueryFeaturesMesh(e);const t=await r(),i=this.graphicsPipeline;if(e?.outStatistics||null==i)return t;const s=this.layer.objectIdField,a=[];for(const o of t.features)if(o.geometry){const e=i.getHydratedGeometry(o.attributes[s]);e&&(o.geometry=e,a.push(o))}else a.push(o);return t.features=a,t}async _validateQueryFeaturesMesh(e){if(!e)return;const t=e=>{throw new r(\"feature-layer-view:unsupported-query\",`Queries on Mesh feature collection layers do not support '${e}'`)},i=[\"quantizationParameters\",\"geometryPrecision\",\"maxAllowableOffset\"];for(const r of i)null!=e[r]&&t(r);\"returnM\"in e&&e.returnM&&t(\"returnM\"),\"returnCentroid\"in e&&e.returnCentroid&&t(\"returnCentroid\"),null==e.outSpatialReference||e.outSpatialReference.equals(this.view.spatialReference)||t(\"outSpatialReference\")}get test(){}};e([a()],f.prototype,\"layer\",void 0),e([a()],f.prototype,\"graphicsPipeline\",void 0),e([a()],f.prototype,\"maximumNumberOfFeatures\",null),e([a()],f.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([a(c)],f.prototype,\"updatingProgress\",void 0),e([a({readOnly:!0})],f.prototype,\"updatingProgressValue\",null),e([a({readOnly:!0})],f.prototype,\"updatePolicy\",null),e([a({readOnly:!0})],f.prototype,\"hasZ\",null),e([a({readOnly:!0})],f.prototype,\"hasM\",null),f=e([o(\"esri.views.3d.layers.FeatureLayerViewBase3D\")],f);const g=f;export{g as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{LayerViewPerformanceInfo as e}from\"./support/LayerViewPerformanceInfo.js\";class t extends e{constructor(e,t,s,r,o,a){super(e.usedMemory,e.displayedFeatures,e.totalFeatures,e.maximumFeatures,e.nodes,e.core),this.storedFeatures=t,this.totalVertices=s,this.partial=r,this.mode=o,this.symbolComplexity=a}}export{t as FeatureLayerViewPerformanceInfo};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nconst _=\"ESRI__ID\",I=\"ESRI__OriginID\",t=\"ESRI__DestID\",S=\"ESRI__LayoutGeometry\",o=\"ESRI__AggregationCount\",E=\"LC.ESRI__IsSpatial\";export{o as systemAggregationCountFieldName,t as systemDestinationIdFieldName,E as systemIsSpatialFieldName,S as systemLayoutGeometryFieldName,_ as systemOidFieldName,I as systemOriginIdFieldName};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{parseWhereClause as i}from\"../../../core/sql.js\";class s{constructor(i){this._fieldsIndex=i,this._clauses=[]}async finish(){return{requiresCurrentUser:(await Promise.all(this._clauses)).some((i=>i.currentUserRequired))}}visitClientWhereClause(s){s&&this._clauses.push(i(s,this._fieldsIndex))}visitFeatureReduction(i){if(i)switch(i.type){case\"binning\":case\"cluster\":this.visitLabelingInfo(i.labelsVisible,i.labelingInfo)}}visitLabelingInfo(i,s){if(i&&null!=s)for(const e of s)this.visitClientWhereClause(e.where)}visitDisplayFilter(i,s){if(i)for(const e of s?.filters??[])this.visitClientWhereClause(e.where)}visitFilter(i){this.visitClientWhereClause(i?.where)}visitTrackInfo(i){null!=i&&(this.visitLabelingInfo(i?.latestObservations.labelsVisible,i?.latestObservations.labelingInfo),this.visitLabelingInfo(i?.previousObservations.labelsVisible,i?.previousObservations.labelingInfo),this.visitLabelingInfo(i?.trackLines.labelsVisible,i?.trackLines.labelingInfo))}}export{s as WhereClauseVisitor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Error.js\";import\"../../core/has.js\";import r from\"../../core/Logger.js\";import{throwIfAborted as i}from\"../../core/promiseUtils.js\";import{watch as l,syncAndInitial as s,on as o}from\"../../core/reactiveUtils.js\";import{sqlAnd as n}from\"../../core/sql.js\";import{property as a}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/RandomLCG.js\";import{subclass as u}from\"../../core/accessorSupport/decorators/subclass.js\";import{systemIsSpatialFieldName as p}from\"../../layers/knowledgeGraph/constants.js\";import{getEffectiveDisplayFilter as d}from\"../../layers/support/displayFilterUtils.js\";import f from\"../../layers/support/FeatureEffect.js\";import y from\"../../layers/support/FeatureFilter.js\";import{getSignedInUser as h}from\"../../layers/support/featureLayerUtils.js\";import{fixFields as m,unpackFieldNames as c,collectLabelingFields as F,collectElevationFields as g,collectFilterFields as I,collectFeatureReductionFields as w,collectOrderByInfos as b,collectFields as v,collectTrackInfoFields as E,collectDisplayFilterFields as x,collectField as q,featureHasFields as R}from\"../../layers/support/fieldUtils.js\";import{getFloorFilterClause as _}from\"../../layers/support/floorFilterUtils.js\";import{getUtilityNetworkFields as j}from\"../../networks/support/networkFieldUtils.js\";import P from\"../../rest/support/Query.js\";import{loadArcade as O}from\"../../support/arcadeOnDemand.js\";import{getRequiredFields as k,getFetchPopupTemplate as C}from\"./support/popupUtils.js\";import{WhereClauseVisitor as T}from\"./support/WhereClauseVisitor.js\";const U=U=>{let L=class extends U{constructor(...e){super(...e),this._updatingRequiredPromise=null,this.filter=null,this.layer=null,this.requiresCurrentUser=!1,this.requiredFields=[],this.view=null}initialize(){this.addHandles([l((()=>{const e=this.layer,t=this.view;return[e&&\"elevationInfo\"in e?e.elevationInfo?.featureExpressionInfo:null,e&&\"displayField\"in e?e.displayField:null,e&&\"timeInfo\"in e&&e.timeInfo,e&&\"renderer\"in e&&e.renderer,e&&\"labelingInfo\"in e&&e.labelingInfo,e&&\"floorInfo\"in e&&e.floorInfo,t?.requiredFieldsOptions?.featureTitleFields&&e&&\"featureTitleFields\"in e&&e.featureTitleFields,t?.requiredFieldsOptions?.utilityNetworkFields&&j(t,e),e.displayFilterInfo,this.displayFilterEnabled,this.filter,this.featureEffect,this.timeExtent,\"knowledge-graph-sublayer\"===e?.type&&\"link-chart\"===e.parentCompositeLayer.type&&e.parentCompositeLayer.linkChart?.linkChartProperties.nonspatialDataDisplay?.mode,\"parquet\"===e?.type&&e.popupTemplate]}),(()=>this._handleChange()),s),o((()=>this.view?.floors),\"change\",(()=>this._handleChange())),o((()=>this.layer.displayFilterInfo?.filters),\"change\",(()=>this._handleChange())),o((()=>this.layer&&\"sublayers\"in this.layer?this.layer.sublayers:null),\"change\",(()=>this._handleChange()))])}get availableFields(){if(!this.layer)return[];const{layer:e,layer:{fieldsIndex:t},requiredFields:r}=this;return\"outFields\"in e&&e.outFields?m(t,[...c(t,e.outFields),...r]):m(t,r)}get displayFilterEnabled(){return(this.view?.displayFilterEnabled??!0)&&(!(\"displayFilterEnabled\"in this.layer)||(this.layer?.displayFilterEnabled??!0))}get effectiveDisplayFilter(){const e=this.layer;return this.displayFilterEnabled&&e.displayFilterInfo?d(e.displayFilterInfo,this.view):null}get featureEffect(){return this.layer&&\"featureEffect\"in this.layer?this.layer.featureEffect:null}set featureEffect(e){this._override(\"featureEffect\",e)}get maximumNumberOfFeatures(){return 0}set maximumNumberOfFeatures(e){r.getLogger(this).error(\"#maximumNumberOfFeatures=\",\"Setting maximum number of features is not supported\")}get maximumNumberOfFeaturesExceeded(){return!1}get signedInUser(){return this.layer?.url?h(this.layer.url):Promise.resolve(null)}highlight(e,t){throw new Error(\"missing implementation\")}createQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference},t=null!=this.filter?this.filter.createQuery(e):new P(e);return\"floorInfo\"in this.layer&&this.layer.floorInfo&&(t.where=n(t.where,_(this))),this.displayFilterEnabled&&(t.where=n(t.where,this.effectiveDisplayFilter?.where)),null!=this.timeExtent&&(t.timeExtent=null!=t.timeExtent?t.timeExtent.intersection(this.timeExtent):this.timeExtent.clone()),t}createAggregateQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return new P(e)}queryFeatures(e,t){throw new Error(\"missing implementation\")}queryObjectIds(e,t){throw new Error(\"missing implementation\")}queryFeatureCount(e,t){throw new Error(\"missing implementation\")}queryExtent(e,t){throw new Error(\"missing implementation\")}async fetchPopupFeaturesFromGraphics(e,t){return this._validateFetchPopupFeatures(e,t),this._fetchPopupFeatures(e,t)}_loadArcadeModules(e){return e.expressionInfos?.length||Array.isArray(e.content)&&e.content.some((e=>\"expression\"===e.type))?O():Promise.resolve()}_handleChange(){const e=Promise.all([this._updateRequiredFields(),this._updateClientWhereClauseRequirements()]).then((()=>{}));return this._set(\"_updatingRequiredPromise\",e),e.then((()=>{this._updatingRequiredPromise===e&&this._set(\"_updatingRequiredPromise\",null)})),e}async _updateClientWhereClauseRequirements(){if(!this.layer||!this.view)return;const{layer:e}=this,t=new T(e.fieldsIndex);if(t.visitFilter(this.filter),\"featureReduction\"in e&&t.visitFeatureReduction(e.featureReduction),\"labelingInfo\"in e&&t.visitLabelingInfo(e.labelsVisible,e.labelingInfo),\"trackInfo\"in e&&t.visitTrackInfo(e.trackInfo),\"2d\"===this.view.type&&(t.visitFilter(this.featureEffect?.filter),t.visitDisplayFilter(this.displayFilterEnabled,e.displayFilterInfo),\"featureReduction\"in e&&t.visitFeatureReduction(e.featureReduction)),\"subtype-group\"===e.type)for(const r of e.sublayers)t.visitLabelingInfo(r.labelsVisible,r.labelingInfo);try{const e=await t.finish();this._set(\"requiresCurrentUser\",e.requiresCurrentUser)}catch(i){r.getLogger(this).error(i)}}async _updateRequiredFields(){if(!this.layer||!this.view)return;const e=\"3d\"===this.view.type,{layer:t,layer:{fieldsIndex:i,objectIdField:l}}=this,s=\"renderer\"in t&&t.renderer,o=\"orderBy\"in t&&t.orderBy,n=\"featureReduction\"in t?t.featureReduction:null,a=new Set,u=[s?s.collectRequiredFields(a,i):null,F(a,t),e&&\"elevationInfo\"in t?g(a,t):null,null!=this.filter?I(a,t,this.filter):null,e||null==this.featureEffect?null:I(a,t,this.featureEffect.filter),!e&&n?w(a,t,n):null,!e&&o?b(a,t,o):null];if(\"timeInfo\"in t&&t.timeInfo&&this.timeExtent&&v(a,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),\"timeInfo\"in t&&t.timeInfo&&\"trackInfo\"in t&&t.trackInfo){const{trackInfo:e}=t;v(a,t.fieldsIndex,[t.timeInfo.trackIdField]),\"feature\"!==t.type&&\"startTimeField\"!==e.timeField||v(a,t.fieldsIndex,[t.timeInfo.startField]),\"endTimeField\"===e.timeField&&v(a,t.fieldsIndex,[t.timeInfo.endField]),await E(a,t)}if(\"floorInfo\"in t&&t.floorInfo&&v(a,t.fieldsIndex,[t.floorInfo.floorField]),\"featureTitleFields\"in t&&this.view?.requiredFieldsOptions?.featureTitleFields&&t.featureTitleFields&&v(a,t.fieldsIndex,t.featureTitleFields),\"feature\"===t.type&&t.globalIdField&&this.view?.requiredFieldsOptions?.globalIdField&&v(a,t.fieldsIndex,[t.globalIdField]),this.displayFilterEnabled&&u.push(x(a,t,t.displayFilterInfo)),\"feature\"===t.type&&e&&null!=t.infoFor3D&&(null==t.globalIdField&&r.getLogger(this).error(\"globalIdField missing on 3DObjectFeatureLayer\"),v(a,t.fieldsIndex,[t.globalIdField])),\"subtype-group\"===t.type){q(a,i,t.subtypeField);const e=t.sublayers.map((e=>Promise.all([e.renderer?.collectRequiredFields(a,i),F(a,e)])));u.push(Promise.all(e))}if(\"catalog-footprint\"===t.type&&t.parent){const e=t.parent;v(a,i,[e.itemNameField,e.itemSourceField,e.itemTypeField,e.maxScaleField,e.minScaleField])}\"knowledge-graph-sublayer\"===t.type&&\"link-chart\"===t.parentCompositeLayer.type&&q(a,i,p),\"parquet\"===t.type&&u.push(k(t,t.popupTemplate).then((e=>{for(const t of e)a.add(t)})));const d=await Promise.allSettled(u);q(a,i,l),e&&\"displayField\"in t&&t.displayField&&q(a,i,t.displayField);for(const p of d)\"rejected\"===p.status&&r.getLogger(this).error(p.reason);const f=Array.from(a).sort();this._set(\"requiredFields\",f)}_validateFetchPopupFeatures(e,r){if(null!=r)for(const i of e){const e=i.origin&&\"layer\"in i.origin?i.origin.layer:i.layer;if(\"popupEnabled\"in e&&!e.popupEnabled)throw new t(\"featurelayerview:fetchPopupFeatures\",\"Popups are disabled\",{layer:e});if(i.isAggregate){const r=\"featureReduction\"in e?e.featureReduction:null,i=\"trackInfo\"in e?e.trackInfo:null;if(null==r&&null==i||null!=r&&(!(\"popupTemplate\"in r)||!r.popupEnabled||!r.popupTemplate)||i?.enabled&&(!(\"popupTemplate\"in i)||!i.popupEnabled||!i.popupTemplate))throw new t(\"featurelayerview:fetchPopupFeatures\",\"Popups are disabled\",{layer:e})}else if(\"popupTemplate\"in e){if(!C(e,r))throw new t(\"featurelayerview:fetchPopupFeatures\",\"Layer does not define a popup template\",{layer:e})}}}_popupFeatureHasRequiredFields(e,t){return R(t,e)}async _fetchPopupFeatures(e,t){const r=new Array(e.length),l=new Map,s=await this._createPopupQuery(e.map((e=>e.origin?.layer??e.layer)),t);for(let o=0;o<e.length;o++){const n=e[o];if(n.isAggregate){r[o]=n;continue}const a=n.origin?.layer??n.layer;if(!a||!(\"popupEnabled\"in a))continue;const u=c(this.layer.fieldsIndex,s.outFields),p=C(a,t);if(null==p)continue;const d=await this._loadArcadeModules(p);i(t);d&&d.arcadeUtils.hasGeometryOperations(p)||!this._popupFeatureHasRequiredFields(n,u)?l.set(n.getObjectId(),{graphic:n,index:o}):r[o]=n}if(\"stream\"===this.layer.type||\"parquet\"===this.layer.type||0===l.size)return r.filter(Boolean);s.objectIds=Array.from(l.keys());try{const e=await this.layer.queryFeatures(s,t);for(const t of e.features){const{graphic:{geometry:e,origin:i},index:s}=l.get(t.getObjectId());t.geometry||=e,t.origin=i,r[s]=t}}catch{}return r.filter(Boolean)}async _createPopupQuery(e,t){const r=this.layer.createQuery(),l=new Set;let s=!1;const o=e??[this.layer];for(const n of o){if(!(\"popupEnabled\"in n))continue;const e=C(n,t);if(null==e)continue;const r=await this._loadArcadeModules(e);i(t);const o=r&&r.arcadeUtils.hasGeometryOperations(e);s=!(\"point\"!==this.layer.geometryType&&!o);const a=await k(this.layer,e);i(t);for(const t of a)l.add(t)}if(r.returnGeometry=s,r.returnZ=s,r.returnM=s,r.outFields=Array.from(l),r.outSpatialReference=this.view.spatialReference,\"floorInfo\"in this.layer&&this.layer.floorInfo){const e=_(this);null!=e&&(r.where=r.where?`(${r.where}) AND (${e})`:e)}return r}canResume(){return!!super.canResume()&&(null==this.timeExtent||!this.timeExtent.isEmpty)}getTest(){}get test(){}};return e([a()],L.prototype,\"_updatingRequiredPromise\",void 0),e([a({readOnly:!0})],L.prototype,\"availableFields\",null),e([a({readOnly:!0})],L.prototype,\"displayFilterEnabled\",null),e([a({readOnly:!0})],L.prototype,\"effectiveDisplayFilter\",null),e([a({type:f})],L.prototype,\"featureEffect\",null),e([a({type:y})],L.prototype,\"filter\",void 0),e([a()],L.prototype,\"layer\",void 0),e([a({type:Number})],L.prototype,\"maximumNumberOfFeatures\",null),e([a({readOnly:!0,type:Boolean})],L.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([a()],L.prototype,\"requiresCurrentUser\",void 0),e([a({readOnly:!0})],L.prototype,\"requiredFields\",void 0),e([a({readOnly:!0})],L.prototype,\"signedInUser\",null),e([a()],L.prototype,\"suspended\",void 0),e([a()],L.prototype,\"view\",void 0),L=e([u(\"esri.views.layers.FeatureLayerView\")],L),L};export{U as default};\n"],"names":["i","a","initialize","this","addHandles","o","layer","r","doRefresh","dataChanged","catch","s","e","getLogger","error","t","constructor","_controller","_handle","n","schedule","destroy","invoke","buffer","byteLength","options","sourceSpatialReference","toJSON","then","fromJSON","spatialReference","p","async","c","fields","length","madeProgress","reschedule","l","features","uid","geometry","Promise","resolve","type","paths","hasZ","hasM","map","rings","super","_parseFeatureQuery","implicitFields","outFields","includes","Set","layerView","requiredFields","availableFields","queryFeaturesDehydrated","capabilities","query","supportsFormatPBF","u","parsedUrl","_decoder","controller","applyTransform","maxStringAttributeFields","maxStringAttributeLength","f","_createRequestOptions","data","signal","reject","y","queryFeatureCount","customParameters","token","apiKey","constructOnly","prototype","readOnly","d","queryFeatures","m","source","queryFeaturesJSON","name","_memoryCache","_layerView","objectIdField","globalIdField","_returnZ","returnZ","_returnM","returnM","view","resourceController","normal","_memoryCacheEnabled","memoryController","newCache","createQuery","outSpatialReference","tilingScheme","memoryCache","viewingMode","state","featureTiles","scheduler","geometryType","fullExtent","tileMaxRecordCount","maxRecordCount","isDraped","elevationInfo","mode","effectiveDisplayFilter","displayFilterEnabled","_capabilities","supportsMultipleResolutions","supportsPagination","supportsResultType","supportsCacheHint","supportsQuantization","supportsQuantizationEditMode","supportsMaxRecordCountFactor","logFetchError","message","_controllerTotal","_processorTotal","_needsRefresh","suspendResumeExtentMode","suspended","_ref","refetch","_fetcherContext","maximumNumberOfFeatures","_get","_set","maximumNumberOfFeaturesExceeded","updatingProgressValue","updating","updatingRemaining","Math","max","updatingTotal","processor","updatePolicy","ASYNC","get","serviceDataCount","SYNC","usedMemory","memoryForUnusedFeatures","unloadedMemory","unprocessedMemoryEstimate","expectedFeatureDiff","loadedFeatures","usedMemoryPerFeature","ignoresMemoryFactor","hasMaximumNumberOfFeaturesOverride","performanceInfo","displayFeatureLimit","averageSymbolComplexity","verticesPerFeature","verticesPerCoordinate","storedFeatures","totalVertices","refreshFilter","setVisibility","setObjectIdVisibility","getMissingAttributesForFeature","getHydratedGeometry","graphics3DProcessor","graphics3DGraphicsByObjectID","graphic","createController","h","context","graphics","extent","clippingExtent","updatingHandles","add","serviceDataExtent","dataExtent","updateSuspended","suspend","resume","beforeSetController","test","heatmapProcessor","loadedGraphics","Map","_updatingRequiredPromise","_updatingHandles","addPromise","removeAll","graphicsPipeline","supportsZ","supportsM","_queryFeaturesMesh","_ensureQuery","createGraphicsPipeline","has","Feature3DPipeline","_popupFeatureHasRequiredFields","_validateQueryFeaturesMesh","outStatistics","attributes","push","returnCentroid","equals","g","displayedFeatures","totalFeatures","maximumFeatures","nodes","core","partial","symbolComplexity","_","I","S","E","_fieldsIndex","_clauses","finish","requiresCurrentUser","all","some","currentUserRequired","visitClientWhereClause","visitFeatureReduction","visitLabelingInfo","labelsVisible","labelingInfo","where","visitDisplayFilter","filters","visitFilter","visitTrackInfo","latestObservations","previousObservations","trackLines","U","L","arguments","filter","featureExpressionInfo","displayField","timeInfo","renderer","floorInfo","requiredFieldsOptions","featureTitleFields","utilityNetworkFields","j","displayFilterInfo","featureEffect","timeExtent","parentCompositeLayer","linkChart","linkChartProperties","nonspatialDataDisplay","popupTemplate","_handleChange","floors","sublayers","fieldsIndex","_override","signedInUser","url","highlight","Error","returnGeometry","P","intersection","clone","createAggregateQuery","queryObjectIds","queryExtent","fetchPopupFeaturesFromGraphics","_validateFetchPopupFeatures","_fetchPopupFeatures","_loadArcadeModules","expressionInfos","Array","isArray","content","O","_updateRequiredFields","_updateClientWhereClauseRequirements","T","featureReduction","trackInfo","orderBy","collectRequiredFields","F","w","b","v","startField","endField","trackIdField","timeField","floorField","x","infoFor3D","q","subtypeField","parent","itemNameField","itemSourceField","itemTypeField","maxScaleField","minScaleField","k","allSettled","status","reason","from","sort","origin","popupEnabled","isAggregate","enabled","C","R","_createPopupQuery","arcadeUtils","hasGeometryOperations","set","getObjectId","index","size","Boolean","objectIds","keys","canResume","isEmpty","getTest","Number"],"sourceRoot":""}