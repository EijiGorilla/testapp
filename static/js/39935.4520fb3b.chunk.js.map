{"version":3,"file":"static/js/39935.4520fb3b.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/widgets/BasemapToggle/BasemapToggleViewModel.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import a from\"../../core/Accessor.js\";import{watch as t,initial as s,whenOnce as i}from\"../../core/reactiveUtils.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{cast as p}from\"../../core/accessorSupport/decorators/cast.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{isLoaded as n,canProjectWithoutEngine as c,load as l}from\"../../geometry/projection.js\";import{equals as m}from\"../../geometry/support/spatialReferenceUtils.js\";import{basemapEnsureType as h,destroyCache as f}from\"../../support/basemapEnsureType.js\";import{findSpatialReference as d,getBasemapThumbnailUrl as u}from\"../../support/basemapUtils.js\";let g=class extends a{constructor(e){super(e),this._basemapCache={},this._loadingProjectionEngine=!1,this.nextBasemap=h(\"hybrid\",this._basemapCache),this.view=null}initialize(){t((()=>this.nextBasemap),(e=>{e&&!e.loaded&&e.load().catch((()=>{}))}),s)}destroy(){this.view=null,f(this._basemapCache),this._basemapCache=null}get _nextBasemapSpatialReferenceTask(){return d(this.view,this.nextBasemap)}get _viewSpatialReferenceLocked(){const{view:e}=this;return!e||!(\"spatialReferenceLocked\"in e)||e.spatialReferenceLocked}get activeBasemap(){return h(this.view?.map?.basemap??\"topo-vector\",this._basemapCache)}castNextBasemap(e){return h(e,this._basemapCache)}get state(){const{view:e}=this;if(!e?.ready)return\"disabled\";if(this._nextBasemapSpatialReferenceTask.updating)return\"disabled\";const{spatialReference:a}=this._nextBasemapSpatialReferenceTask;return this._viewSpatialReferenceLocked&&null!=a&&!e.spatialReference.equals(a)?\"incompatible-next-basemap\":this._loadingProjectionEngine?\"loading\":\"ready\"}async toggle(){const{activeBasemap:e,nextBasemap:a,state:t,view:s}=this;if(!s||\"disabled\"===t||\"incompatible-next-basemap\"===t)return;const r=this._viewSpatialReferenceLocked;if(!r){if(await i((()=>!this._nextBasemapSpatialReferenceTask.updating)),a!==this.nextBasemap||e!==this.activeBasemap)return;const{spatialReference:t}=this._nextBasemapSpatialReferenceTask;if(null==t||m(s.spatialReference,t)||n()||c(s.spatialReference,t)||(this._loadingProjectionEngine=!0,await l(),this._loadingProjectionEngine=!1),a!==this.nextBasemap||e!==this.activeBasemap)return}s.map.basemap=a,r||null==this._nextBasemapSpatialReferenceTask.spatialReference||m(s.spatialReference,this._nextBasemapSpatialReferenceTask.spatialReference)||(s.spatialReference=this._nextBasemapSpatialReferenceTask.spatialReference),this.nextBasemap=e}static getThumbnailUrl(e){return u(e)}};e([r()],g.prototype,\"_loadingProjectionEngine\",void 0),e([r({readOnly:!0})],g.prototype,\"_nextBasemapSpatialReferenceTask\",null),e([r({readOnly:!0})],g.prototype,\"_viewSpatialReferenceLocked\",null),e([r({readOnly:!0})],g.prototype,\"activeBasemap\",null),e([r()],g.prototype,\"nextBasemap\",void 0),e([p(\"nextBasemap\")],g.prototype,\"castNextBasemap\",null),e([r({readOnly:!0})],g.prototype,\"state\",null),e([r()],g.prototype,\"view\",void 0),e([r()],g.prototype,\"toggle\",null),g=e([o(\"esri.widgets.BasemapToggle.BasemapToggleViewModel\")],g);const B=g;export{B as default};\n"],"names":["g","a","constructor","e","super","this","_basemapCache","_loadingProjectionEngine","nextBasemap","h","view","initialize","t","loaded","load","catch","s","destroy","f","_nextBasemapSpatialReferenceTask","d","_viewSpatialReferenceLocked","spatialReferenceLocked","activeBasemap","map","basemap","castNextBasemap","state","ready","updating","spatialReference","equals","toggle","r","i","m","n","c","l","getThumbnailUrl","u","prototype","readOnly","p","o","B"],"sourceRoot":""}