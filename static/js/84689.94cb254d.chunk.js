"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[75166,84689,85685],{770:(e,t,a)=>{a.d(t,{bG:()=>l,Ty:()=>o,YJ:()=>c,Fq:()=>u,vt:()=>r});var n=a(53084),s=a(42633);class i{constructor(e){const{name:t,label:a,description:n,schemes:i}=e;this.name=t,this.label=a,this.description=n,this.schemes=i;const l=e.basemapGroups||s.Np;let r=[];Object.keys(l).forEach((e=>{r=r.concat(l[e])})),this.supportedBasemaps=r,this.basemapGroups=l}isBasemapSupported(e){const t=(0,s.T1)(e,this.supportedBasemaps);return!(!t||!this.supportedBasemaps.includes(t))}getRawSchemes(e){const{basemapId:t,basemapTheme:a}=function(e,t,a){let n=null,i=null;if(t&&(n=(0,s.T1)(t,e,!1),n)){const e=(0,s.BV)(n);null!=e&&(i=e)}return!n&&a&&(n="dark"===a?"dark-gray":"gray",i=a),n||i||(n="gray",i="light"),{basemapId:n,basemapTheme:i}}(this.supportedBasemaps,e.basemap,e.basemapTheme);let i=a;if(t){const e=(0,s.BV)(t,this.basemapGroups);null!=e&&(i=e)}let l=e.geometryType;"multipoint"===l?l="point":"mesh"===l&&(l="polygon");const r=this.schemes[l]||this.schemes.default;return{schemesInfo:(0,n.clone)(r[i]),basemapId:t,basemapTheme:a}}}function l(e){const t=e.themeDictionary,a=new Map;for(const n in t){const e=t[n];a.set(n,new i(e))}return a}function r(e,t){const a=[];return e.forEach((e=>{e.isBasemapSupported(t)&&a.push({name:e.name,label:e.label,description:e.description,basemaps:[...e.supportedBasemaps]})})),a}function o(e,t){if(!e)return;if(!t)return;let a=null;const n=[t.primaryScheme,...t.secondarySchemes];for(const s of n)if(s.name?.toLowerCase()===e.toLowerCase()){a=s;break}return a}function c(e,t,a){if(!e&&!t)return[];if(!a)return[];const n=!e?.length,s=!t?.length,i=[a.primaryScheme,...a.secondarySchemes],l=[];for(const r of i){const a=!!n||e.some((e=>r.tags.includes(e))),i=!s&&t.some((e=>r.tags.includes(e)));a&&!i&&l.push(r)}return l}function u(e){const t=e.theme;if(t)return t.getRawSchemes({basemap:e.basemap,geometryType:e.geometryType,basemapTheme:e.basemapTheme})}},17237:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(50076),s=a(84171),i=a(27208),l=a(42633);async function r(e){const t="days",a={...e,outStatisticTypes:l.XR,unit:t},r=await(0,s.default)(a);if(null==r.avg)throw new n.default("age-unit:insufficient-info","'avg' statistics is invalid");const o=function(e){const t=Math.abs(e.avg);let a=null;return i.supportedAgeUnits.some((e=>{const n=l.SO[e];return t>2*n&&(a=e),!!a})),a}({...r,avg:r.avg});if(o===t)return{unit:o,statistics:r};a.unit=o;const c=await(0,s.default)(a);if(null==c.avg)throw new n.default("age-unit:insufficient-info","'avg' statistics is invalid");return{unit:o,statistics:c}}},29857:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var n=a(50076),s=a(68002),i=a(16525),l=a(90494),r=a(11563);const o=500,c=1e8,u=1280,f=12,p=30,m=15;async function d(e){const{view:t,sampleSize:a}=e;if(!e||!e.layer)throw new n.default("scale-range:missing-parameters","'layer' parameter is required");if(e.snapToLOD&&!t)throw new n.default("scale-range:missing-parameters","'view' parameter is required when 'snapToLOD' is true");e.forBinning&&(0,l.p)(e,"scale-range");const{layer:s,...i}=e,c=e.forBinning?r.Mi:r.J4,u=(0,r.Jg)(s,c,e.forBinning);if(!u)throw new n.default("scale-range:invalid-parameters","'layer' must be one of these types: "+(0,r.Ho)(c).join(", "));const f={layerAdapter:u,...i};f.sampleSize=a||o,await(t?.when());const p=null!=f.signal?{signal:f.signal}:null;return await u.load(p),f}function g(e,t,a){const n=function(e,t){const a=f,n=u/4,s=p,i=u/4,l=m,r=u/2;let o=0,c=0,d=0,g=0;switch(e){case"point":case"multipoint":{const e=t;o=e.avgMinDistance??0,c=a,d=e.minDistance??0,g=n;break}case"polyline":{const e=t;o=e.avgLength??0,c=s,d=e.minLength??0,g=i;break}case"polygon":{const e=t;o=e.avgSize??0,c=l,d=e.minSize??0,g=r;break}}return{resolutionForMinScale:o>0?o/c:null,resolutionForMaxScale:d>0?d/g:null}}(e.geometryType,t),i=a?.spatialReference||e.layer.spatialReference;return{minScale:(0,s.gB)(n.resolutionForMinScale??0,i),maxScale:(0,s.gB)(n.resolutionForMaxScale??0,i)}}function v(e,t){let a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e.constraints&&"effectiveLODs"in e.constraints){const n=e.constraints.effectiveLODs,s=a?n:n.slice().reverse();let i=null;for(const e of s)if(!(a?e.scale>t:e.scale<t)){i=e;break}return i}}function w(e,t,a,s){const{view:i,snapToLOD:l,layerAdapter:r}=e;if(l&&i){const e=v(i,t),n=v(i,a,!1);t=e?e.scale:t,a=n?n.scale:a}if(t<a)throw new n.default("scale-range:invalid","calculated minScale is less than maxScale.");return a>t/2&&(a=Math.floor(a/2)),t>c&&(t=0),"polygon"!==r.geometryType&&(a=0),{minScale:Math.ceil(t),maxScale:Math.floor(a),spatialStatistics:s}}async function h(e){const t=await d(e),{view:a,sampleSize:s,layerAdapter:l,signal:r,filter:o}=t,c=await l.getSampleFeatures({view:a,sampleSize:s,returnGeometry:!0,filter:o,signal:r},"json");if(!c?.length)throw new n.default("scale-range:insufficient-info","No features are available to calculate statistics");const u=await(0,i.A)({features:c,geometryType:l.geometryType}),{minScale:f,maxScale:p}=g(l,u,a);return w(t,f,p,u)}},31650:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});a(81806);var n=a(50076),s=a(76931),i=a(68002),l=a(43996),r=a(63040),o=a(29857),c=a(90494),u=a(11563);const f=1e8,p=1128.497176,m=591657527.591555,d=[10,8,4,2],g=[100,100,60,30],v=[2,1,.75,.5],w=[32,18,12,6],h=[{level:0,resolution:156543.03392800014,scale:591657527.591555},{level:1,resolution:78271.51696399994,scale:295828763.795777},{level:2,resolution:39135.75848200009,scale:147914381.897889},{level:3,resolution:19567.87924099992,scale:73957190.948944},{level:4,resolution:9783.93962049996,scale:36978595.474472},{level:5,resolution:4891.96981024998,scale:18489297.737236},{level:6,resolution:2445.98490512499,scale:9244648.868618},{level:7,resolution:1222.992452562495,scale:4622324.434309},{level:8,resolution:611.4962262813797,scale:2311162.217155},{level:9,resolution:305.74811314055756,scale:1155581.108577},{level:10,resolution:152.87405657041106,scale:577790.554289},{level:11,resolution:76.43702828507324,scale:288895.277144},{level:12,resolution:38.21851414253662,scale:144447.638572},{level:13,resolution:19.10925707126831,scale:72223.819286},{level:14,resolution:9.554628535634155,scale:36111.909643},{level:15,resolution:4.77731426794937,scale:18055.954822},{level:16,resolution:2.388657133974685,scale:9027.977411},{level:17,resolution:1.1943285668550503,scale:4513.988705},{level:18,resolution:.5971642835598172,scale:2256.994353},{level:19,resolution:.29858214164761665,scale:1128.497176}];function y(e,t){const{view:a}=e;if(!a)throw new n.default("scale-range:invalid-parameters","'view' is required");const s=t.minScale||f,i=a.constraints&&"effectiveLODs"in a.constraints&&a.constraints.effectiveLODs||h,l=[];for(let n=0;n<i.length;n++){if(i[n].scale>s)continue;const e=Number(n),t=[e-3,e,e+3,e+6];for(const a of t)a>-1&&a<i.length&&l.push(i[a].scale);break}return l.sort(((e,t)=>e-t))}function S(e,t){const{view:a,layerAdapter:s}=e;if(!a)throw new n.default("scale-range:invalid-parameters","'view' is required");const l=s.fullExtent,r=s.minScale||p,o=s.maxScale||m,c=t.minScale||0,u=t.maxScale||0;let f=null!=l?(0,i.X_)(a,l):0;return f=f<r&&f>o?f:0,{scales:[r,o,c,u,f].map(Math.round).sort(((e,t)=>e-t)).filter(((e,t,a)=>!!e&&a.indexOf(e)===t)).filter(((e,t,a)=>!t||Math.abs(e-a[t-1])>5)),fullExtentScale:f}}function x(e,t){const{spatialStatistics:a,minScale:i,maxScale:o}=t;if(!("avgSize"in a)||!a.avgSize)throw new n.default("size-range:insufficient-info","average polygon size is invalid");const c=a.avgSize,{view:u}=e;if(!u)throw new n.default("scale-range:invalid-parameters","'view' is required");const{resolution:f,scale:p}=u,m=f/p,{scales:d,fullExtentScale:g}=S(e,{minScale:i,maxScale:o}),v=[],w=[];return d.forEach(((e,t)=>{const{min:a,max:n}=function(e,t){const a=Math.ceil(e/t);let n=Math.ceil(a/4);n<4?n=4:n>16&&(n=16);const s=5*n;return{min:n,max:s<50?50:s}}(c,m*e),i=d.indexOf(g),l=i>-1&&t>i?2:1;v.push(new r.default({value:e,size:(0,s.PN)(a/l)})),w.push(new r.default({value:e,size:(0,s.PN)(n/l)}))})),{minSize:new l.default({valueExpression:"$view.scale",stops:v}),maxSize:new l.default({valueExpression:"$view.scale",stops:w})}}async function b(e){const t=await async function(e){const{view:t}=e;if(!(e&&t&&e.layer))throw new n.default("size-range:missing-parameters","'view' and 'layer' parameters are required");e.forBinning&&(0,c.p)(e,"size-range");const{layer:a,...s}=e,i=e.forBinning?u.Mi:u.J4,l=(0,u.Jg)(a,i,e.forBinning);if(!l)throw new n.default("size-range:invalid-parameters","'layer' must be one of these types: "+(0,u.Ho)(i).join(", "));const r={layerAdapter:l,...s,view:t};await t.when();const o=null!=r.signal?{signal:r.signal}:null;await l.load(o);const f=l.geometryType;if("point"!==f&&"multipoint"!==f&&"polyline"!==f&&"polygon"!==f)throw new n.default("size-range:not-supported",`sizeRange is not supported for geometryType: ${f}`);return r}(e),{view:a,layerAdapter:i,signal:f,filter:p}=t,m=await(0,o.default)({layer:i,view:a,signal:f,filter:p});switch(i.geometryType){case"point":case"multipoint":return function(e,t){const{minScale:a,maxScale:i}=t,o=y(e,{minScale:a,maxScale:i});if(!o.length)throw new n.default("scale-range:insufficient-info","not enough scale values");return{minSize:new l.default({valueExpression:"$view.scale",stops:o.map(((e,t)=>new r.default({value:e,size:(0,s.PN)(d[t])})))}),maxSize:new l.default({valueExpression:"$view.scale",stops:o.map(((e,t)=>new r.default({value:e,size:(0,s.PN)(g[t])})))})}}(t,m);case"polyline":return function(e,t){const{minScale:a,maxScale:i}=t,o=y(e,{minScale:a,maxScale:i});if(!o.length)throw new n.default("scale-range:insufficient-info","not enough scale values");return{minSize:new l.default({valueExpression:"$view.scale",stops:o.map(((e,t)=>new r.default({value:e,size:(0,s.PN)(v[t])})))}),maxSize:new l.default({valueExpression:"$view.scale",stops:o.map(((e,t)=>new r.default({value:e,size:(0,s.PN)(w[t])})))})}}(t,m);case"polygon":return x(t,m);case"mesh":case"multipatch":return null}return null}},80791:(e,t,a)=>{a.d(t,{_J:()=>c,_t:()=>o});var n=a(76931),s=a(42633);const i=s.Np.light,l=s.Np.dark;function r(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b}function o(e,t){let a=0;if(e.length===t.length){let n=e.every(((e,a)=>r(e,t[a])));n?a=1:(n=e.slice().reverse().every(((e,a)=>r(e,t[a]))),n&&(a=-1))}return a}function c(e,t){return Math.ceil(function(e){const t=e.width,a=e.height;let s=e.pixelSizeAt(e.toMap((0,n.tc)(.5*t,.5*a),{exclude:[]}));if(s<=0&&(s=e.pixelSizeAt(e.toMap((0,n.tc)(.5*t,.95*a),{exclude:[]})),s<=0&&"camera"in e)){const t=e.camera.position.clone();t.z=0,s=2*e.pixelSizeAt(t)}return s}(t)*(0,n.Lz)((0,n.cr)(e)))}},84171:(e,t,a)=>{a.r(t),a.d(t,{default:()=>r});var n=a(50076),s=a(46481),i=a(27208),l=a(11563);async function r(e){const{layerAdapter:t,...a}=await async function(e){if(!(e&&e.layer&&e.startTime&&e.endTime&&e.unit))throw new n.default("summary-statistics-for-age:missing-parameters","'layer', 'startTime', 'endTime' and 'unit' parameters are required");const{layer:t,...a}=e,s=(0,l.Jg)(t,l.J4);if(!s)throw new n.default("summary-statistics-for-age:invalid-parameters","'layer' must be one of these types: "+(0,l.Ho)(l.J4).join(", "));const r={layerAdapter:s,...a},o=r.view,c=null!=r.signal?{signal:r.signal}:null;await Promise.all([o?.when(),s.load(c)]);const u=(0,i.verifyDates)(s,r.startTime,r.endTime,"summary-statistics-for-age:invalid-parameters");if(u)throw u;if(!r.unit||!i.supportedAgeUnits.includes(r.unit))throw new n.default("summary-statistics-for-age:invalid-parameters",`Supported units are: ${i.supportedAgeUnits.join(", ")}`);return r}(e),{view:r,startTime:o,endTime:c,unit:u,minValue:f,maxValue:p,signal:m,filter:d,outStatisticTypes:g}=a,{valueExpression:v,statisticsQuery:w}=(0,i.getAgeExpressions)({layer:t,startTime:o,endTime:c,unit:u}),h={layer:t,valueExpression:v,...w,minValue:f,maxValue:p,outStatisticTypes:g,view:r,filter:d,signal:m};return(0,s.default)(h)}}}]);
//# sourceMappingURL=84689.94cb254d.chunk.js.map