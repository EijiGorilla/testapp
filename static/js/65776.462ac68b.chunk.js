"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[6501,9505,12831,23908,27544,63733,65122,65776,68325,83445,87052],{9505:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var o=r(35143),n=r(46053),i=(r(81806),r(76460),r(47249),r(85842)),a=r(19247),s=r(27544);let l=class extends s.default{constructor(e){super(e),this.layoutGeometry=null}};(0,o._)([(0,n.MZ)({type:a.default,json:{write:!0}})],l.prototype,"layoutGeometry",void 0),l=(0,o._)([(0,i.$)("esri.rest.knowledgeGraph.Entity")],l);const c=l},12831:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var o=r(35143),n=r(42553),i=r(46053),a=(r(81806),r(76460),r(47249),r(85842));let s=class extends n.A{constructor(e){super(e),this.properties=null}};(0,o._)([(0,i.MZ)({json:{write:!0}})],s.prototype,"properties",void 0),s=(0,o._)([(0,a.$)("esri.rest.knowledgeGraph.GraphObject")],s);const l=s},21009:(e,t,r)=>{r.d(t,{BL:()=>l,Cz:()=>n,KQ:()=>i,M1:()=>s,T1:()=>a,dr:()=>o});const o="ESRI__ID",n="ESRI__OriginID",i="ESRI__DestID",a="ESRI__LayoutGeometry",s="ESRI__AggregationCount",l="LC.ESRI__IsSpatial"},23908:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var o=r(35143),n=r(46053),i=(r(81806),r(76460),r(47249),r(85842)),a=r(23701),s=r(27544);let l=class extends s.default{constructor(e){super(e),this.originId=null,this.destinationId=null,this.layoutGeometry=null}};(0,o._)([(0,n.MZ)({type:String,json:{write:!0}})],l.prototype,"originId",void 0),(0,o._)([(0,n.MZ)({type:String,json:{write:!0}})],l.prototype,"destinationId",void 0),(0,o._)([(0,n.MZ)({type:a.default,json:{write:!0}})],l.prototype,"layoutGeometry",void 0),l=(0,o._)([(0,i.$)("esri.rest.knowledgeGraph.Relationship")],l);const c=l},27544:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var o=r(35143),n=r(46053),i=(r(81806),r(76460),r(47249),r(85842)),a=r(12831);let s=class extends a.default{constructor(e){super(e),this.typeName=null,this.id=null}};(0,o._)([(0,n.MZ)({type:String,json:{write:!0}})],s.prototype,"typeName",void 0),(0,o._)([(0,n.MZ)({type:String,json:{write:!0}})],s.prototype,"id",void 0),s=(0,o._)([(0,i.$)("esri.rest.knowledgeGraph.GraphNamedObject")],s);const l=s},28546:(e,t,r)=>{r.r(t),r.d(t,{convertLayoutTypeToWebSupportedFormat:()=>C,getChronologicalOverlay:()=>w,getDefaultChronologicalOverlayLayerId:()=>M,getRelationshipEndNodeIds:()=>_,getRelationshipEndNodeMap:()=>b,loadRecordsIntoLocalCache:()=>S,utilsExtentToInBoundsRings:()=>I});var o=r(39356),n=r(50076),i=r(19247),a=r(65215),s=r(23701),l=r(63733),c=r(21009),u=r(33750),p=r(85646),d=r(29209),y=r(34781),h=r(87052),f=r(89465),g=r(86875),m=r(86659);function v(e,t){const r=new Map;if(t.dataModel?.relationshipTypes)for(const o of t.dataModel.relationshipTypes)o.name&&r.set(o.name,[]);for(const o of e)r.has(o.typeName)&&r.get(o.typeName)?.push(o.id);return r}async function _(e,t,r){const o=[],n=v(e,t),i={},a=[];for(const[u,p]of n){if(p.length<1)continue;const e=`${u}_ids`;i[e]=p,a.push(`MATCH (n)-[r:${u}]->(m) WHERE id(r) in $${e} RETURN id(n), labels(n)[0], id(m), labels(m)[0]`)}if(0===a.length)return[];const s=a.join(" UNION "),l=new h.default({openCypherQuery:s,bindParameters:i}),c=(await(0,y.executeQueryStreaming)(t,l,r?.requestOptions)).resultRowsStream.getReader();for(;;){const{done:e,value:t}=await c.read();if(e)break;for(const r of t)o.push({id:r[0],typeName:r[1]}),o.push({id:r[2],typeName:r[3]})}return o}async function b(e,t,r){const o=new Map,n=v(e,t),i={},a=[];for(const[u,p]of n){if(p.length<1)continue;const e=`${u}_ids`;i[e]=p,a.push(`MATCH (n)-[r:${u}]->(m) WHERE id(r) in $${e} RETURN id(r), id(n), id(m)`)}if(0===a.length)return o;const s=a.join(" UNION "),l=new h.default({openCypherQuery:s,bindParameters:i}),c=(await(0,y.executeQueryStreaming)(t,l,r?.requestOptions)).resultRowsStream.getReader();for(;;){const{done:e,value:t}=await c.read();if(e)break;for(const r of t)o.set(r[0],[r[1],r[2]])}return o}const E="ESRI__ChronologicalLayoutOverlay",M=()=>E,w=e=>{const t=[],r={type:"CIMGeometricEffectCut",beginCut:3,endCut:3};for(const n of e.chronologicalAuxiliaryGraphics?.lines??[]){const e={type:"CIMSolidStroke",enable:!0,width:n.width,color:[n.color.r,n.color.g,n.color.b,Math.round(n.color.a/100*255)],effects:n.dashPattern.length>0?[{type:"CIMGeometricEffectDashes",dashTemplate:n.dashPattern,lineDashEnding:"NoConstraint"},r]:[r]},i={type:"CIMVectorMarker",enable:!0,size:10,frame:{xmin:-5,ymin:-5,xmax:0,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[-12,-3.47],[-12,3.6],[-2.06,-.03],[-12,-3.47]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:[n.color.r,n.color.g,n.color.b,Math.round(n.color.a/100*255)]}]}}],markerPlacement:{type:"CIMMarkerPlacementOnLine",angleToLine:!0,relativeTo:"LineEnd",offsetAlongLine:0}},a=new f.default({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:n.arrowheadSizeAtEnd?[e,i]:[e]}}});for(const r of n.elements){const e=new s.default({paths:[[[r.origin.x,r.origin.y],[r.destination.x,r.destination.y]]]});t.push(new o.default({geometry:e,symbol:a}))}}for(const n of e.chronologicalAuxiliaryGraphics?.polygons??[]){const e=new g.default({color:[n.color.r,n.color.g,n.color.b,n.color.a/100],style:"solid",outline:null});for(const r of n.elements){const n=new a.default({rings:[r.points.map((e=>[e.x,e.y]))]});t.push(new o.default({geometry:n,symbol:e}))}}for(const n of e.chronologicalAuxiliaryGraphics?.texts??[]){let e="middle",r="center";switch(n.direction?.value){case p.aQ.left:r="right";break;case p.aQ.right:r="left";break;case p.aQ.bottom:e="bottom"}for(const a of n.elements){const s=new m.default({color:[n.color.r,n.color.g,n.color.b,n.color.a/100],text:a.str,font:{size:n.height,weight:"bold"},verticalAlignment:e,horizontalAlignment:r}),l=new i.default({x:a.anchor.x,y:a.anchor.y});t.push(new o.default({geometry:l,symbol:s}))}}return new l.default({graphics:t,listMode:"hide",title:E,id:E})},S=(e,t)=>{const r=new Map;for(const n of[...t.entityTypes??[],...t.relationshipTypes??[]])for(const e of n.properties??[])e.geometryType&&"esriGeometryNull"!==e.geometryType&&r.set(n.name,e.name??"");const o=u.A.getInstance();for(const n of e)o.writeToStore([n],c.dr,r.get(n.typeName??"")??"")},C=e=>d.P_.get(e)??"radial-root-centric";function I(e){if(!e.spatialReference.isWGS84)throw new n.default("knowledge-graph:layer-support-utils","The utilsExtentToInBoundsRings function only supports WGS84 spatial references.");return e.clone().normalize().map((e=>[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]))}},29209:(e,t,r)=>{r.d(t,{P_:()=>s,SJ:()=>n,iQ:()=>a,lg:()=>i});var o=r(45802);const n=(0,o.O)()({none:"none",startAndEnd:"start-and-end",startOnly:"start-only"}),i=(0,o.O)()({absoluteValue:"absolute-value",multiplier:"multiplier"}),a=["basic-grid","chronological-mono-timeline","chronological-multi-timeline","geographic-organic-standard","hierarchical-bottom-to-top","hierarchical-top-to-bottom","organic-community","organic-fusiform","organic-leaf-circle","organic-standard","radial-node-centric","radial-root-centric","tree-bottom-to-top","tree-left-to-right","tree-right-to-left","tree-top-to-bottom"],s=new Map([["basic-grid","basic-grid"],["geographic-organic-standard","geographic-organic-standard"],["hierarchical-bottom-to-top","hierarchical-bottom-to-top"],["hierarchical-top-to-bottom","hierarchical-bottom-to-top"],["organic-community","organic-community"],["organic-fusiform","organic-standard"],["organic-leaf-circle","organic-standard"],["organic-standard","organic-standard"],["radial-node-centric","radial-root-centric"],["radial-root-centric","radial-root-centric"],["tree-bottom-to-top","tree-left-to-right"],["tree-left-to-right","tree-left-to-right"],["tree-right-to-left","tree-left-to-right"],["tree-top-to-bottom","tree-left-to-right"],["chronological-mono-timeline","chronological-mono-timeline"],["chronological-multi-timeline","chronological-multi-timeline"]])},33750:(e,t,r)=>{r.d(t,{A:()=>s});var o=r(19902),n=r(98618),i=r(20176),a=r(21009);class s{constructor(){this._featureLookup=new Map}static getInstance(){return s.instance||(s.instance=new s),s.instance}static resetInstance(){s.instance&&(s.instance=null)}deleteFromStore(e){e.forEach((e=>{this._featureLookup.delete(e)}))}readFromStoreByList(e){const t=[];return e.forEach((e=>{const r=this.readFromStoreById(e);r&&t.push(r)})),t}readFromStoreById(e){return this._featureLookup.get(e)??null}writeToStore(e,t,r){const s=[];return e.forEach((e=>{if(!e?.id)return;e.properties||(e.properties=[]);let l,c=null;if(r&&e.properties[r]&&(c=(0,n.Ux)(e.properties[r])),"originId"in e&&"destinationId"in e&&(e.properties[a.Cz]=e.originId,e.properties[a.KQ]=e.destinationId),e.properties[t]=e.id,e.id&&this._featureLookup.has(e.id)&&this._featureLookup.get(e.id).attributes){const n=this._featureLookup.get(e.id),a=JSON.parse(JSON.stringify(Object.assign(n.attributes,e.properties)));r&&e.properties[r]&&(a[r]=(0,o.fromJSON)(e.properties[r])),l=new i.Om(c?JSON.parse(JSON.stringify(c)):n?.geometry?JSON.parse(JSON.stringify(n.geometry)):null,a,null,e.properties[t])}else l=new i.Om(c?JSON.parse(JSON.stringify(c)):null,e.properties,null,e.properties[t]);this._featureLookup.set(`${e.typeName?`${e.typeName}__${e.id}`:e.id}`,l),s.push(l)})),s}}},38156:(e,t,r)=>{r.d(t,{A:()=>s});var o=r(35143),n=(r(76460),r(81806),r(47249),r(50076),r(85842)),i=r(12831);let a=class extends i.default{constructor(e){super(e)}};a=(0,o._)([(0,n.$)("esri.rest.knowledgeGraph.ObjectValue")],a);const s=a},63733:(e,t,r)=>{r.r(t),r.d(t,{default:()=>y});var o=r(35143),n=r(46053),i=(r(81806),r(76460),r(47249),r(85842)),a=r(5364),s=r(25515),l=r(65624),c=r(5682),u=r(64519),p=r(731);let d=class extends((0,l.dM)((0,c.j)(s.default))){constructor(e){super(e),this.elevationInfo=null,this.graphics=new u.Y,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(e){return this.graphics.add(e),this}addMany(e){return this.graphics.addMany(e),this}removeAll(){return this.graphics.removeAll(),this}remove(e){this.graphics.remove(e)}removeMany(e){this.graphics.removeMany(e)}on(e,t){return super.on(e,t)}graphicChanged(e){this.emit("graphic-update",e)}};(0,o._)([(0,n.MZ)({type:p.A})],d.prototype,"elevationInfo",void 0),(0,o._)([(0,n.MZ)((0,a.C)(u.Y,"graphics"))],d.prototype,"graphics",void 0),(0,o._)([(0,n.MZ)({type:["show","hide"]})],d.prototype,"listMode",void 0),(0,o._)([(0,n.MZ)()],d.prototype,"screenSizePerspectiveEnabled",void 0),(0,o._)([(0,n.MZ)({readOnly:!0})],d.prototype,"type",void 0),(0,o._)([(0,n.MZ)({constructOnly:!0})],d.prototype,"internal",void 0),d=(0,o._)([(0,i.$)("esri.layers.GraphicsLayer")],d);const y=d},65122:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var o=r(35143),n=r(91967),i=r(46053),a=(r(81806),r(76460),r(47249),r(85842));let s=class extends n.default{constructor(e){super(e),this.openCypherQuery=""}};(0,o._)([(0,i.MZ)()],s.prototype,"openCypherQuery",void 0),s=(0,o._)([(0,a.$)("esri.rest.knowledgeGraph.GraphQuery")],s);const l=s},68325:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var o=r(35143),n=r(42553),i=r(46053),a=(r(81806),r(76460),r(47249),r(85842)),s=r(12831);let l=class extends n.A{constructor(e){super(e),this.path=[]}};(0,o._)([(0,i.MZ)({type:[s.default],json:{write:!0}})],l.prototype,"path",void 0),l=(0,o._)([(0,a.$)("esri.rest.knowledgeGraph.Path")],l);const c=l},85646:(e,t,r)=>{r.d(t,{$C:()=>v,Hh:()=>a,J:()=>c,JT:()=>l,Tu:()=>g,Wg:()=>m,Xq:()=>b,aQ:()=>u,i6:()=>E,pM:()=>f,tx:()=>s,vJ:()=>_});var o=r(28899);let n,i=null;function a(){return n||(n=r.e(83884).then(r.bind(r,83884)).then((e=>e.l)).then((e=>{let{default:t}=e;return t({locateFile:e=>(0,o.s)(`esri/libs/linkchartlayout/${e}`)})})).then((e=>{!function(e){i=e}(e)})),n)}var s,l,c,u,p;(p=s||(s={}))[p.None=0]="None",p[p.IsMovable=1]="IsMovable",p[p.IsGeographic=2]="IsGeographic",p[p.IsRoot=4]="IsRoot",p[p.IsOld=8]="IsOld",function(e){e[e.Success=0]="Success",e[e.Error=1]="Error",e[e.Canceled=2]="Canceled"}(l||(l={})),function(e){e[e.Regular=0]="Regular",e[e.Curved=1]="Curved",e[e.Recursive=2]="Recursive"}(c||(c={})),function(e){e[e.right=0]="right",e[e.left=1]="left",e[e.top=2]="top",e[e.bottom=3]="bottom"}(u||(u={}));const d={none:0,"start-only":1,"start-and-end":2};function y(e){const t={timeDirection:"right",timeBannerUTCOffsetInMinutes:0,eventsTicksVisualization:"start-and-end",showDurationLineForNonZeroDurationEntityEvents:!0,durationLineWidth:5,entityPositionAtDurationRatio:1,showNonZeroDurationIntervalBounds:!1,separateTimeOverlaps:!0,separateTimelineOverlaps:!0,moveFirstBends:!0,secondBendRatio:.3,lineSeparationMultiplier:1,spaceSeparatedLinesEvenly:!1,useBezierCurves:!1,separatedLineShapeRatio:0,...e?.toJSON()??{},eventsTicksVisualization:e?.eventsTicksVisualization??"start-and-end"};return{...t,timeDirection:{value:u[t.timeDirection]??u.right},eventsTicksVisualization:{value:d[t.eventsTicksVisualization]??d["start-and-end"]}}}function h(e,t,r,o,n,a){const s=r.length,c=n.length,u=Float64Array.BYTES_PER_ELEMENT,p=Uint32Array.BYTES_PER_ELEMENT,d=Uint8Array.BYTES_PER_ELEMENT,y=16+s*(d+2*u)+c*(2*p),h=i._malloc(y);try{const d=h+16-h%16,y=d+s*u,f=y+s*u,g=f+c*p,m=g+c*p,v=()=>[i.HEAPF64.subarray(d>>3,(d>>3)+s),i.HEAPF64.subarray(y>>3,(y>>3)+s),i.HEAPU32.subarray(f>>2,(f>>2)+c),i.HEAPU32.subarray(g>>2,(g>>2)+c),i.HEAPU8.subarray(m,m+s)],[_,b,E,M,w]=v();_.set(r),b.set(o),E.set(n),M.set(a),w.set(t);const S=e(s,m,d,y,c,f,g);let C=null,I=null;if(S.value===l.Success){const e=i.getLayoutLinksTypes(),t=i.getLayoutLinksVerticesEndIndices(),r=i.getLayoutLinksVertices(),o=i.countLayoutLinksVertices();!c||e&&t?o&&!r?S.value=l.Error:(C={types:new Uint8Array(i.HEAPU8.subarray(e,e+c)),vertexEndIndex:new Uint32Array(i.HEAPU32.subarray(t>>2,(t>>2)+c)),vertices:new Float64Array(i.HEAPF64.subarray(r>>3,(r>>3)+2*o))},I=i.getAuxiliaryGraphicElements()):S.value=l.Error}const[L,R,N,T,k]=v();return r.set(L),o.set(R),n.set(N),a.set(T),t.set(k),{status:S.value,links:C,graphics:I}}finally{i._free(h),i.cleanupLayout()}}var f,g,m,v,_,b,E,M,w;!function(e){e.getMinIdealEdgeLength=function(){return i.getMinIdealEdgeLength()},e.apply=function(e,t,r,o,n,a){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:-1;return h(((t,r,o,n,a,u,p)=>i.applyForceDirectedLayout(e,t,r,o,n,a,u,p,s,l,c)),t,r,o,n,a)}}(f||(f={})),function(e){e.apply=function(e,t,r,o,n,a){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:-1;return h(((t,r,o,n,a,u,p)=>i.applyCommunityLayout(e,t,r,o,n,a,u,p,s,l,c)),t,r,o,n,a)}}(g||(g={})),function(e){e.apply=function(e,t,r,o,n,a){return h(((t,r,o,n,a,s,l)=>i.applySimpleLayout(e,t,r,o,n,a,s,l)),t,r,o,n,a)}}(m||(m={})),function(e){e.apply=function(e,t,r,o,n,a){return h(((t,r,o,n,a,s,l)=>i.applyHierarchicalLayout(e,t,r,o,n,a,s,l)),t,r,o,n,a)}}(v||(v={})),function(e){e.apply=function(e,t,r,o,n,a){return h(((t,r,o,n,a,s,l)=>i.applyRadialTreeLayout(e,t,r,o,n,a,s,l)),t,r,o,n,a)}}(_||(_={})),function(e){e.apply=function(e,t,r,o,n,a){return h(((t,r,o,n,a,s,l)=>i.applySmartTreeLayout(e,t,r,o,n,a,s,l)),t,r,o,n,a)}}(b||(b={})),function(e){e.apply=function(e,t,r,o,n,a,s,c,u,p,d,f){return h(((t,r,o,s,c,h,g)=>{if(n.length!==t)return{value:l.Error};if(a.length!==t)return{value:l.Error};if(u.length!==c)return{value:l.Error};if(p.length!==c)return{value:l.Error};const m=Float64Array.BYTES_PER_ELEMENT,v=16,_=i._malloc(v+t*m),b=i._malloc(v+t*m),E=i._malloc(v+c*m),M=i._malloc(v+c*m),w=_+v-_%v,S=b+v-b%v,C=E+v-E%v,I=M+v-M%v;try{return i.HEAPF64.subarray(w>>3,(w>>3)+t).set(n),i.HEAPF64.subarray(S>>3,(S>>3)+t).set(a),i.HEAPF64.subarray(C>>3,(C>>3)+c).set(u),i.HEAPF64.subarray(I>>3,(I>>3)+c).set(p),i.applyChronologicalLayout(e,t,r,o,s,w,S,c,h,g,C,I,d,y(f))}finally{i._free(_),i._free(b),i._free(E),i._free(M)}}),t,r,o,s,c)}}(E||(E={})),function(e){e[e.Undirected=0]="Undirected",e[e.Directed=1]="Directed",e[e.Reversed=2]="Reversed"}(M||(M={})),function(e){e[e.ByCC_Raw=0]="ByCC_Raw",e[e.ByCC_NormalizeGlobally=1]="ByCC_NormalizeGlobally",e[e.ByCC_NormalizeByCC=2]="ByCC_NormalizeByCC"}(w||(w={}))},87052:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var o=r(35143),n=r(46053),i=(r(81806),r(76460),r(47249),r(85842)),a=r(13312),s=r(65122);let l=class extends s.default{constructor(e){super(e),this.bindParameters=null,this.bindGeometryQuantizationParameters=null,this.outputQuantizationParameters=null,this.outputSpatialReference=null,this.provenanceBehavior=null}};(0,o._)([(0,n.MZ)()],l.prototype,"bindParameters",void 0),(0,o._)([(0,n.MZ)()],l.prototype,"bindGeometryQuantizationParameters",void 0),(0,o._)([(0,n.MZ)()],l.prototype,"outputQuantizationParameters",void 0),(0,o._)([(0,n.MZ)({type:a.default})],l.prototype,"outputSpatialReference",void 0),(0,o._)([(0,n.MZ)()],l.prototype,"provenanceBehavior",void 0),l=(0,o._)([(0,i.$)("esri.rest.knowledgeGraph.GraphQueryStreaming")],l);const c=l}}]);
//# sourceMappingURL=65776.462ac68b.chunk.js.map