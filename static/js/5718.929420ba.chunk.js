"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[5718],{5718:(e,i,a)=>{a.r(i),a.d(i,{createVisualVariable:()=>m});var l=a(50076),n=a(40565),s=a(9922),r=a(45430),t=a(48548),o=a(14776),u=a(84332),p=a(51006),d=a(90494),f=a(42633),v=a(11563);async function m(e){const i=await async function(e){if(!e?.layer||!(e.field||e.valueExpression||e.sqlExpression))throw new l.default("opacity-visual-variable:missing-parameters","'layer' and 'field', 'valueExpression' or 'sqlExpression' parameters are required");if(e.valueExpression&&!e.view)throw new l.default("opacity-visual-variable:missing-parameters","View is required when 'valueExpression' is specified");e.forBinning&&(0,d.p)(e,"opacity-visual-variable");const i={...e,layer:e.layer},a=e.forBinning?v.Mi:v.J4,n=(0,v.Jg)(i.layer,a,e.forBinning);if(!n)throw new l.default("opacity-visual-variable:invalid-parameters","'layer' must be one of these types: "+(0,v.Ho)(a).join(", "));i.layer=n;const s=null!=i.signal?{signal:i.signal}:null;await n.load(s);const r=await(0,f.EG)({field:i.field,normalizationField:i.normalizationField,valueExpression:i.valueExpression}),t=(0,p.MH)(n,r,"opacity-visual-variable:invalid-parameters");if(t)throw t;return i}(e);let a=null;return a=i.statistics?i.statistics:await(0,p.g2)({layer:i.layer,field:i.field,valueExpression:i.valueExpression,sqlExpression:i.sqlExpression,sqlWhere:i.sqlWhere,normalizationType:i.normalizationField?"field":void 0,normalizationField:i.normalizationField,minValue:i.minValue,maxValue:i.maxValue,filter:i.filter,view:i.view,signal:i.signal}),function(e,i){const a=i.layer,l=i.field,d=l&&"function"!=typeof l?a.getField(l):null,v=(0,f.fs)(d),m=(0,p.BD)(e),c=(0,p.N4)(e,v,!0),y=c||[m[0],m[4]],w=new t.default({field:l??void 0,valueExpression:i.valueExpression,valueExpressionTitle:i.valueExpressionTitle,normalizationField:i.normalizationField,stops:[new o.default({value:y[0],opacity:.3}),new o.default({value:y[1],opacity:1})],legendOptions:(0,n.PZ)(u.A,i.legendOptions)}),x=new r.default({type:"opacity",minSliderValue:null!=i.minValue?i.minValue:e.min,maxSliderValue:null!=i.maxValue?i.maxValue:e.max}),E=new s.default({visualVariables:[x]});return Promise.resolve({visualVariable:w,statistics:e,defaultValuesUsed:!!c,authoringInfo:E})}(a,i)}}}]);
//# sourceMappingURL=5718.929420ba.chunk.js.map