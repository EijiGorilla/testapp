{"version":3,"file":"static/js/93613.a60ece4a.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/draw/DrawManipulator.js","../node_modules/@arcgis/core/views/draw/DrawOperation.js","../node_modules/@arcgis/core/views/interactive/sketch/constraintUtils.js","../node_modules/@arcgis/core/views/draw/drawSurfaces.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Evented.js\";class t{constructor({consumesClicks:t,grabbableForEvent:s}){this.events=new e,this.interactive=!0,this.selectable=!1,this.cursor=null,this.grabbable=!0,this.consumesClicks=t,this.grabbableForEvent=s}destroy(){}intersectionDistance(e,t){return 0}attach(){}detach(){}onElevationChange(){}onViewChange(){}}export{t as DrawManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import i from\"../../core/Evented.js\";import{clone as n}from\"../../core/lang.js\";import{destroyMaybe as o,equalsMaybe as r}from\"../../core/maybe.js\";import{memoize as s}from\"../../core/memoize.js\";import{ignoreAbortErrors as a}from\"../../core/promiseUtils.js\";import p from\"../../core/ReactiveSet.js\";import{watch as c,syncAndInitial as l}from\"../../core/reactiveUtils.js\";import{createScreenPoint as d}from\"../../core/screenUtils.js\";import{property as h}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as u}from\"../../core/accessorSupport/decorators/subclass.js\";import{diff as m}from\"../../core/accessorSupport/diffUtils.js\";import{UpdatingHandles as g}from\"../../core/support/UpdatingHandles.js\";import{pointEquals as y,pointNear as _}from\"../../layers/graphics/dehydratedFeatureComparison.js\";import{getEffectiveElevationInfo as v}from\"../../support/elevationInfoUtils.js\";import{ViewingMode as f}from\"../ViewingMode.js\";import{defaultDrawingMode as x}from\"./DrawingMode.js\";import{DrawManipulator as C}from\"./DrawManipulator.js\";import{createCoordinateHelper as b}from\"../interactive/coordinateHelper.js\";import{createManipulatorDragEventPipeline as T,sceneSnappingAtLocation as S}from\"../interactive/dragEventPipeline.js\";import{EditGeometry as P,Component as V}from\"../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as w}from\"../interactive/editGeometry/EditGeometryOperations.js\";import{isPoint as O}from\"../interactive/sketch/constraints.js\";import{pointToConstraintSpace as M,constraintSpaceToPoint as D,getPointConstraint as E,getPolylineOrPolygonConstraint as I}from\"../interactive/sketch/constraintUtils.js\";import H from\"../interactive/sketch/SketchLabelOptions.js\";import{SnappingContext as j}from\"../interactive/snapping/SnappingContext.js\";import{createSnapDragEventPipelineStep as G}from\"../interactive/snapping/SnappingDragPipelineStep.js\";import{SnappingOperation as k}from\"../interactive/snapping/SnappingOperation.js\";import{setupSnappingToggleHandles as Z}from\"../interactive/snapping/snappingUtils.js\";const A=\"crosshair\",L=\"progress\",U=Symbol(),z=Symbol();let F=class extends(i.EventedMixin(e)){constructor(t){super(t),this._createOperationCompleted=!1,this._hideDefaultCursor=!1,this._pointerDownStates=new p,this._stagedScreenPoint=null,this._stagedPointerType=null,this._updatingHandles=new g,this._stagedPointerId=null,this.constraintsEnabled=!1,this.constraints=void 0,this._getPointConstraint=s(E),this._getPolylineOrPolygonConstraint=s(I),this.constraintZ=null,this.defaultZ=null,this.isDraped=!0,this.labelOptions=new H,this.cursor=null,this.loading=!1,this.snapToSceneEnabled=null,this.firstVertex=null,this.lastVertex=null,this.secondToLastVertex=null,null==t.elevationInfo&&(this.elevationInfo=v(!!t.hasZ))}initialize(){const{geometryType:t,view:e}=this,i=e.spatialReference,n=\"viewingMode\"in e.state?e.state.viewingMode:f.Local,o=\"segment\"===t||\"multipoint\"===t?\"polyline\":t;this.coordinateHelper=b(this.hasZ,this.hasM,i),this._editGeometryOperations=new w(new P(o,this.coordinateHelper),n),this._snappingOperation=new k({view:e}),this.addHandles([c((()=>({stagedPoint:this._snappingOperation.stagedPoint,constraint:this._constraint})),(({stagedPoint:t,constraint:e},i)=>{const{snappingOptions:n}=this;n&&(n.forceDisabled=null!=e&&O(e));if(null!=i&&t===i.stagedPoint&&e!==i.constraint)return this._onKeyboardBasedChange();this._processCursor(t??this._screenToMap(this._stagedScreenPoint))}),{equals:(t,e)=>t.stagedPoint===e.stagedPoint&&r(t.constraint,e.constraint)}),c((()=>this.view.viewpoint),((t,e)=>{t&&e&&m(t,e)&&this._onKeyboardBasedChange()}))]),this._activeComponent=new V(i,n),this._editGeometryOperations.data.components.push(this._activeComponent);const s=this.segmentLabels;null!=s&&(s.context={view:e,editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,labelOptions:this.labelOptions},this.addHandles(c((()=>this.labelOptions.enabled),(t=>{s.visible=t}),l))),this.addHandles(this._editGeometryOperations.on([\"vertex-add\",\"vertex-update\",\"vertex-remove\"],(t=>{const e=t.vertices.map((t=>({componentIndex:0,vertexIndex:t.index,coordinates:this.coordinateHelper.vectorToArray(t.pos)}))),i=e.map((t=>t.coordinates)),n=this.coordinateHelper.vectorToDehydratedPoint(this._activeComponent.getFirstVertex()?.pos)??null;y(n,this.firstVertex)||(this.firstVertex=n);const o=this.coordinateHelper.vectorToDehydratedPoint(this._activeComponent.getLastVertex()?.pos)??null;y(o,this.lastVertex)||(this.lastVertex=o);const r=this.coordinateHelper.vectorToDehydratedPoint(this._activeComponent.edges.at(-1)?.leftVertex?.pos)??null;switch(y(r,this.secondToLastVertex)||(this.secondToLastVertex=r),this._processCursor(this.cursorVertex),t.type){case\"vertex-add\":this.emit(t.type,{...t,added:i,vertices:e});break;case\"vertex-update\":this.emit(t.type,{...t,updated:i,vertices:e});break;case\"vertex-remove\":this.emit(t.type,{...t,removed:i,vertices:e})}})));const p=this._manipulator=new C({consumesClicks:!1,grabbableForEvent:t=>\"click\"!==this.drawingMode||\"touch\"===t.pointerType&&this._snappingEnabled&&1===this._pointerDownStates.size});this.manipulators.add(p),p.grabbable=\"point\"!==t&&\"multipoint\"!==t,this.addHandles([p.events.on(\"immediate-click\",(t=>this._onImmediateClick(t))),p.events.on(\"immediate-double-click\",(t=>this._onImmediateDoubleClick(t))),c((()=>this.drawingMode),(()=>{this.removeHandles(U),this.addHandles(this._createManipulatorDragPipeline(p),U)}),l),c((()=>({effectiveCursor:this.effectiveCursor})),(({effectiveCursor:t})=>{p.cursor=t}),l)]),Z(this,(()=>{const t=this.view.inputManager.latestPointerType??\"mouse\",e=this._getSnappingContext(t);if(null!=this.snappingManager){const t=this._snappingOperation.snapAgainNearPreviousMapPoint(this.snappingManager,e);this._updatingHandles.addPromise(a(t))}}))}destroy(){o(this.segmentLabels),o(this._snappingOperation),this._editGeometryOperations=o(this._editGeometryOperations),this._updatingHandles.destroy()}get _isDragging(){const{_stagedPointerId:t,_manipulator:e}=this;return null!=t&&this._pointerDownStates.has(t)||e.grabbing||!e.interactive}get _snappingEnabled(){return null!=this.snappingManager&&this.snappingManager.options.effectiveEnabled}get _requiresScenePoint(){const t=this._updateAndGetEffectiveDrawSurface();return\"3d\"===this.view.type&&this.drawSurface!==t}get canRedo(){return this._editGeometryOperations.canRedo}get canUndo(){return this._editGeometryOperations.canUndo}get committedVertices(){return this._activeComponent.vertices.map((t=>this.coordinateHelper.vectorToArray(t.pos)))}get _constraint(){const{constraints:t,constraintsEnabled:e}=this;if(t&&e)switch(this.geometryType){case\"point\":case\"multipoint\":return this._getPointConstraint(t);case\"polygon\":case\"polyline\":return this._getPolylineOrPolygonConstraint(this.lastVertex,this.secondToLastVertex,t)}}set drawingMode(t){this._set(\"drawingMode\",t??x)}get effectiveCursor(){return this.loading?L:this._hideDefaultCursor?null:this.cursor||A}get interactive(){return this._manipulator.interactive}set interactive(t){this._manipulator.interactive=t}get isCompleted(){return this._createOperationCompleted}get numCommittedVertices(){return this._activeComponent.vertices.length}get snappingOptions(){return null!=this.snappingManager?this.snappingManager.options:null}get cursorVertex(){return this._get(\"cursorVertex\")}get visualizationCursorVertex(){return\"mouse\"===this._stagedPointerType?this.cursorVertex:null}get committableVertex(){const{cursorVertex:t,lastVertex:e,firstVertex:i,geometryType:n}=this;return\"polygon\"===n&&_(t,i)||_(t,e)?null:t}get updating(){return this._updatingHandles.updating}get geometryIncludingUncommittedVertices(){const{committedVertices:t,committableVertex:e,coordinateHelper:i}=this,n=t.slice();return null!=e&&n.push(i.pointToArray(e)),n}cancel(){this.complete({aborted:!0})}commitStagedVertex(){this._snappingOperation.abort();const{committableVertex:t}=this;null!=t&&this._editGeometryOperations.appendVertex(this.coordinateHelper.pointToVector(t))}complete(t){const e=t?.aborted||!1;this._snappingOperation.abort(),this.snappingManager?.doneSnapping();const{geometryType:i,numCommittedVertices:n}=this,o=\"multipoint\"===i&&0===n||\"polyline\"===i&&n<2||\"polygon\"===i&&n<3;\"segment\"!==i&&\"point\"!==i||this.commitStagedVertex(),this._createOperationCompleted=!o,(this.isCompleted||e)&&(this._stagedScreenPoint=null,this._stagedPointerId=null,this._stagedPointerType=null,this._processCursor(null),this.emit(\"complete\",{vertices:this.committedVertices.map(((t,e)=>({componentIndex:0,vertexIndex:e,coordinates:t}))),aborted:e,type:\"complete\"}))}onInputEvent(t){switch(t.type){case\"pointer-down\":this._pointerDownStates.add(t.pointerId);break;case\"pointer-up\":this._pointerDownStates.delete(t.pointerId)}switch(t.type){case\"pointer-move\":return this._onPointerMove(t);case\"hold\":return this._onHold(t)}}redo(){this._editGeometryOperations.redo()}undo(){null!=this.snappingManager&&this.snappingManager.doneSnapping(),this._editGeometryOperations.undo()}_processCursor(t){const e=n(this.cursorVertex),i=n(t),o=i&&(this._updateAndGetEffectiveDrawSurface()?.constrainZ(i)??i),r=this._snapToClosingVertex(o),s=this._applyConstraints(r);_(e,s)||(this._set(\"cursorVertex\",s),this.segmentLabels?.set(\"stagedVertex\",null!=s?this.coordinateHelper.pointToVector(s):null),null==s||\"mouse\"!==this._stagedPointerType?this.emit(\"cursor-remove\"):this.emit(\"cursor-update\",{updated:null,vertices:[{componentIndex:0,vertexIndex:this._activeComponent.vertices.length,coordinates:this.coordinateHelper.pointToArray(s)}],operation:\"apply\",type:\"vertex-update\"}))}_snapToClosingVertex(t){if(null==t||this._isDragging||\"polygon\"!==this.geometryType||this.numCommittedVertices<=2)return t;const e=this._mapToScreen(t);if(!e)return t;const i=this._activeComponent;return this._vertexWithinPointerDistance(i.vertices[0].pos,e)?this.firstVertex:this._vertexWithinPointerDistance(i.vertices.at(-1).pos,e)?this.lastVertex:t}_createManipulatorDragPipeline(t){switch(this.drawingMode){case\"click\":return this._createManipulatorDragPipelineClick(t);case\"freehand\":return this._createManipulatorDragPipelineFreehand(t);case\"hybrid\":return this._createManipulatorDragPipelineHybrid(t)}}_createManipulatorDragPipelineClick(t){return T(t,((t,e,i,n)=>{const o=\"touch\"===n&&this._snappingEnabled;if(this.isCompleted||!o)return;const{snappingStep:r,cancelSnapping:s}=G({predicate:()=>o,snappingManager:this.snappingManager,snappingContext:new j({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,feature:this.graphic,pointer:n,visualizer:this.snappingVisualizer,drawConstraints:this.constraints}),updatingHandles:this._updatingHandles,useZ:!this._requiresScenePoint});i=i.next((t=>(o&&null!=this.snappingManager&&this.snappingManager.doneSnapping(),t))).next(s),e.next(this._screenToMapDragEventStep()).next((t=>(\"start\"===t.action&&(this._processCursor(t.mapStart),(\"segment\"===this.geometryType||o&&!this.numCommittedVertices)&&this.commitStagedVertex()),t))).next(S(this.view,this.elevationInfo)).next(...r).next((t=>(o&&(this._processCursor(t.mapEnd),\"end\"===t.action&&this.commitStagedVertex()),t))).next((t=>(\"end\"===t.action&&(\"mouse\"!==this._stagedPointerType&&this._snappingOperation.abort(),\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()),t)))}))}_createManipulatorDragPipelineFreehand(t){return T(t,((t,e)=>{this.isCompleted||e.next(this._screenToMapDragEventStep()).next((t=>(\"start\"===t.action&&(this._snappingOperation.abort(),null==this.committableVertex&&this._processCursor(t.mapStart),\"segment\"===this.geometryType&&this.commitStagedVertex()),t))).next((t=>{switch(t.action){case\"start\":case\"update\":this._processCursor(t.mapEnd),\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":this.complete()}return t}))}))}_createManipulatorDragPipelineHybrid(t){return T(t,((t,e)=>{this.isCompleted||e.next(this._screenToMapDragEventStep()).next((t=>(\"start\"===t.action&&(this._snappingOperation.abort(),this.addHandles(this._editGeometryOperations.createUndoGroup(),z),this._processCursor(t.mapStart),this.commitStagedVertex()),t))).next((t=>{switch(t.action){case\"start\":case\"update\":this._processCursor(t.mapEnd),\"polygon\"!==this.geometryType&&\"polyline\"!==this.geometryType||this.commitStagedVertex();break;case\"end\":\"mouse\"!==this._stagedPointerType&&this._snappingOperation.abort(),this.removeHandles(z),\"segment\"!==this.geometryType&&\"point\"!==this.geometryType||this.complete()}return t}))}))}get _drawAtFixedElevation(){const{constraintsEnabled:t,constraintZ:e,geometryType:i,numCommittedVertices:n}=this;return t?null!=e||\"segment\"===i&&n>0:(\"segment\"===i||\"polygon\"===i)&&n>0}_updateAndGetEffectiveDrawSurface(){const{constraintsEnabled:t,coordinateHelper:e,drawSurface:i,elevationDrawSurface:n,snapToSceneEnabled:o}=this;if(null==n)return i;if(!this.hasZ)return n.defaultZ=null,n;const r=this.elevationInfo?.mode;let s=this.defaultZ,a=t||\"absolute-height\"===r;if(null!=o&&(a=o),\"on-the-ground\"===r&&(a=!1),this._drawAtFixedElevation){s=(t?this.constraintZ:null)??e.getZ(this._activeComponent.vertices[0].pos),a=!1}return a?i:(n.defaultZ=s,n)}_mapToScreen(t){return this._updateAndGetEffectiveDrawSurface()?.mapToScreen(t)}_onHold(t){this._snappingOperation.abort(),\"click\"===this.drawingMode&&\"touch\"===t.pointerType&&this._snappingEnabled&&this._processCursor(t.mapPoint),t.stopPropagation()}_onImmediateClick(t){if(!(\"mouse\"===t.pointerType&&2===t.button||this._manipulator.dragging))try{const{drawingMode:e,geometryType:i}=this;this._stagedPointerType=t.pointerType,this._stagedScreenPoint=t.screenPoint;const n=this._screenToMap(t.screenPoint);if(null==n)return;if(null==n||\"freehand\"===e&&\"point\"!==i&&\"multipoint\"!==i)return;if(this._snappingEnabled&&null!=this.cursorVertex||this._processCursor(n),null==this.committableVertex)return void this.complete();this.commitStagedVertex(),\"mouse\"!==t.pointerType&&this._processCursor(null),(\"freehand\"===e&&\"multipoint\"!==this.geometryType||\"point\"===i||\"segment\"===i&&2===this.numCommittedVertices||\"segment\"===i&&\"hybrid\"===e&&1===this.numCommittedVertices)&&this.complete()}finally{t.stopPropagation()}}_onImmediateDoubleClick(t){this._manipulator.dragging||\"point\"===this.geometryType||(this.complete(),t.stopPropagation())}_onPointerMove(t){const e=d(t.x,t.y);this._stagedScreenPoint=e,this._stagedPointerType=t.pointerType,this._stagedPointerId=t.pointerId,this._isDragging?this._snappingOperation.abort():(t.stopPropagation(),this._processCursorMovementRelativeToSurface(e,t.pointerType))}_onKeyboardBasedChange(){\"mouse\"===this._stagedPointerType&&this._stagedScreenPoint&&null!=this._stagedPointerId&&!this._isDragging?this._processCursorMovementRelativeToSurface(this._stagedScreenPoint,this._stagedPointerType):this._snappingOperation.abort()}_processCursorMovementRelativeToSurface(t,e){const i=this._snappingOperation,n=this._screenToMap(t),o=this._requiresScenePoint?this.drawSurface?.screenToMap(t):null;if(null==n)return this._hideDefaultCursor=!0,this._processCursor(null),void i.abort();this._hideDefaultCursor=!1;const r=this.snappingManager;if(null==r)return this._processCursor(n),void i.abort();const s=this._getSnappingContext(e);this._updatingHandles.addPromise(a(i.snap({point:n,scenePoint:o},r,s)))}_applyConstraints(t){const{_constraint:e,constraints:i}=this;if(!t||!i||!e)return t;const{context:n}=i,o=M(t,n),r=o?e.closestTo(o):void 0;if(!r)return t;const s=D(r,t,n),a=\"2d\"===this.view.type||\"absolute-height\"!==n.elevationInfo.mode;return null!=s&&a&&null!=this.constraintZ&&this.hasZ&&(s.z=this.constraintZ),s}_screenToMap(t){return t?this._updateAndGetEffectiveDrawSurface()?.screenToMap(t):null}_screenToMapDragEventStep(){let t=null;return e=>{if(\"start\"===e.action&&(t=this._screenToMap(e.screenStart)),null==t)return null;const i=this._screenToMap(e.screenEnd);return null!=i?{...e,mapStart:t,mapEnd:i}:null}}_vertexWithinPointerDistance(t,e){const i=25,n=this._mapToScreen(this.coordinateHelper.vectorToDehydratedPoint(t));return null!=n&&R(n,e,i)}_getSnappingContext(t){const e=this._drawAtFixedElevation?this.elevationDrawSurface?.defaultZ:null;return new j({editGeometryOperations:this._editGeometryOperations,elevationInfo:this.elevationInfo,pointer:t,feature:this.graphic,visualizer:this.snappingVisualizer,selfSnappingZ:null!=e?{value:e,elevationInfo:this.elevationInfo}:null,drawConstraints:this.constraints})}};function R(t,e,i){const n=t.x-e.x,o=t.y-e.y;return n*n+o*o<=i}t([h()],F.prototype,\"_hideDefaultCursor\",void 0),t([h()],F.prototype,\"_stagedPointerId\",void 0),t([h()],F.prototype,\"_isDragging\",null),t([h()],F.prototype,\"_snappingOperation\",void 0),t([h()],F.prototype,\"_snappingEnabled\",null),t([h({constructOnly:!0})],F.prototype,\"graphic\",void 0),t([h()],F.prototype,\"constraintsEnabled\",void 0),t([h()],F.prototype,\"constraints\",void 0),t([h()],F.prototype,\"_constraint\",null),t([h()],F.prototype,\"constraintZ\",void 0),t([h()],F.prototype,\"defaultZ\",void 0),t([h()],F.prototype,\"isDraped\",void 0),t([h({value:x})],F.prototype,\"drawingMode\",null),t([h({constructOnly:!0})],F.prototype,\"elevationDrawSurface\",void 0),t([h({constructOnly:!0})],F.prototype,\"elevationInfo\",void 0),t([h({constructOnly:!0,type:H})],F.prototype,\"labelOptions\",void 0),t([h({constructOnly:!0})],F.prototype,\"geometryType\",void 0),t([h({constructOnly:!0})],F.prototype,\"hasM\",void 0),t([h({constructOnly:!0})],F.prototype,\"hasZ\",void 0),t([h()],F.prototype,\"cursor\",void 0),t([h()],F.prototype,\"effectiveCursor\",null),t([h()],F.prototype,\"loading\",void 0),t([h({constructOnly:!0})],F.prototype,\"manipulators\",void 0),t([h({constructOnly:!0})],F.prototype,\"drawSurface\",void 0),t([h({constructOnly:!0})],F.prototype,\"segmentLabels\",void 0),t([h({constructOnly:!0})],F.prototype,\"snappingManager\",void 0),t([h({constructOnly:!0})],F.prototype,\"snappingVisualizer\",void 0),t([h()],F.prototype,\"snapToSceneEnabled\",void 0),t([h({readOnly:!0})],F.prototype,\"cursorVertex\",null),t([h({readOnly:!0})],F.prototype,\"visualizationCursorVertex\",null),t([h()],F.prototype,\"committableVertex\",null),t([h()],F.prototype,\"firstVertex\",void 0),t([h()],F.prototype,\"lastVertex\",void 0),t([h()],F.prototype,\"secondToLastVertex\",void 0),t([h()],F.prototype,\"updating\",null),t([h({constructOnly:!0})],F.prototype,\"view\",void 0),F=t([u(\"esri.views.draw.DrawOperation\")],F);export{F as DrawOperation,A as defaultCursor,L as defaultLoadingCursor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{valueInUnit as e,createLength as n,createAngle as t}from\"../../../core/quantityUtils.js\";import{verticalLengthUnitFromSpatialReference as r,lengthUnitFromSpatialReference as o}from\"../../../core/unitUtils.js\";import{d as i,c as l,g as u}from\"../../../chunks/vec32.js\";import s from\"../../../geometry/SpatialReference.js\";import{projectVectorToVector as c}from\"../../../geometry/projection/projectVectorToVector.js\";import{geodesicCompatibleSpatialReference as a}from\"../../../geometry/support/geodesicUtils.js\";import{makeDehydratedPoint as f}from\"../../../layers/graphics/dehydratedPoint.js\";import{getConvertedElevationFromXYZ as m}from\"../../../support/elevationInfoUtils.js\";import{CoordinateConstraint as d,constraintOrSet as p,VerticalCylinderConstraint as v,HorizontalPlaneConstraint as g,GeodesicConstraint as R,PointConstraint as w,VerticalHalfPlaneConstraint as j}from\"./constraints.js\";import{fromPoint as y,createWritable as h,toElevationAlignedDehydratedPoint as x}from\"./normalizedPoint.js\";import{getDegreesGeographic as S,DirectionMode as I,directionBetweenPoints as U,pointFromDistanceAlongAzimuth as M}from\"../../support/angularMeasurementUtils.js\";function Z(e,n,t,r,o,i){let l=\"geodesic\",u=a(t);const s=h();return y(e,n,r,s),s[2]=0,u&&c(s,t,s,u)||(l=\"euclidean\",u=t),{mode:l,view:n,elevationInfo:r,hasZ:o,directionMode:i,spatialReference:e.spatialReference,measurementSR:u,origin:s}}function b(n,t,r){if(null==t||null==n)return;const i=o(r.measurementSR);if(null==i)return;const l=G(n,r);if(null==l)return;const u=e(t,i);return new v(l,u)}function A(e,n,r,o){if(null==r||null==e)return;const i=G(e,o);if(null==i)return;const l=S(r),u=10,s=e=>{if(null==e)return;const n=h(),r=t(e,\"degrees\",\"geographic\");return M(n,i,o.measurementSR,u,r,o.mode)?new j(i,n):void 0},c=()=>{if(null!=n&&null!=e)return S(U(n,e))};switch(o.directionMode){case I.Absolute:return s(l);case I.Relative:{const e=c();if(null==e)return;return s(e+l)}case I.RelativeBilateral:{const e=c();if(null==e)return;return p([s(e+l),s(e-l)])}}}function B(e,n){const t=C(e,n);return null!=t?new g(t):void 0}function P(e,n,t){const{context:r,longitude:o,latitude:i,direction:l,distance:u,elevation:s}=t;if(null!=o||null!=i||null!=u||null!=s||null!=l){if(null!=o||null!=i){const e=S(o),n=S(i),t=C(s,r);return new d(e,n,t)}return T(e,n,t)}}function T(n,t,{context:r,direction:o,distance:i,elevation:l}){if(null==t)return B(l,r);const{view:u,elevationInfo:s,measurementSR:a}=r,f=y(t,u,s);if(!a||!c(f,t.spatialReference,E,a))return;const[m,d]=E,v=null!=i?e(i,\"meters\"):void 0,g=S(o),j=C(l,r),h=e=>{const n=new R([m,d],a,v,j,e);return null==v||null==e||null==j&&r.hasZ?n:new w(n.closestTo(f))};if(null==g)return h(void 0);const x=()=>{if(null!=n&&null!=t)return S(U(n,t))};switch(r.directionMode){case I.Absolute:return h(g);case I.Relative:{const e=x();if(null==e)return;return h(e+g)}case I.RelativeBilateral:{const e=x();if(null==e)return;return p([h(e+g),h(e-g)])}}}function V(e){return\"geodesic\"===e.context.mode?P(null,null,e):q(e)}function k(e,n,t){const{context:r,x:o,y:i,distance:l,direction:u,elevation:s}=t;return\"geodesic\"===r.mode?P(n,e,t):null!=o||null!=i?q(t):z([b(e,l,r),A(e,n,u,r),B(s,r)])}function q({x:e,y:n,elevation:t,context:r}){J.x=e?.value??0,J.y=n?.value??0,J.spatialReference=r.spatialReference;const o=G(J,r,F);return new d(null!=e&&null!=o?o[0]:void 0,null!=n&&null!=o?o[1]:void 0,C(t,r))}function z(e){let n;for(const t of e)t&&(n=n?.intersect(t)??t);return n}function G(e,n,t=h()){const{view:r,elevationInfo:o,measurementSR:l,origin:u,mode:s}=n;if(y(e,r,o,t),c(t,e.spatialReference,t,l))return\"geodesic\"!==s&&i(t,t,u),t}function W(e,n,t,r){const{view:o,measurementSR:i,spatialReference:s,origin:a,mode:f}=t;if(\"geodesic\"===f?l(H,e):u(H,e,a),c(H,i,H,s))return x(H,o,n,t,r)}function C(e,n){return D(e,n)?.value??void 0}function D(t,{view:o,origin:i,elevationInfo:l,hasZ:u,measurementSR:s}){if(null==t||!u)return;const c=r(s);if(null==c)return;const[a,f]=i,d=e(t,c),p=\"3d\"===o?.type?m(o,a,f,d,s,l):d;return null!=p?n(p,c):void 0}const E=h(),F=h(),H=h(),J=f(0,0,0,s.WGS84);export{W as constraintSpaceToPoint,Z as getConstraintContext,P as getGeodesicConstraint,V as getPointConstraint,k as getPolylineOrPolygonConstraint,z as intersectAll,G as pointToConstraintSpace};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{createScreenPointArray as e,createScreenPoint as t}from\"../../core/screenUtils.js\";import s from\"../../geometry/Point.js\";import r from\"../../geometry/SpatialReference.js\";import{makeDehydratedPoint as n}from\"../../layers/graphics/dehydratedPoint.js\";import{clonePoint as i}from\"../../layers/graphics/hydratedFeatures.js\";import{getConvertedElevation as o,getZForElevationMode as a}from\"../../support/elevationInfoUtils.js\";class c{constructor(e,t,s,r=null){this._elevationInfo=e,this.defaultZ=t,this._view=s,this._excludeGraphics=r}screenToMap(t){const{defaultZ:s,_view:r}=this,n=r.sceneIntersectionHelper.intersectElevationFromScreen(e(t.x,t.y),this._elevationInfo,s??0,this._excludeGraphics);return null==s&&null!=n&&(n.z=void 0),n}mapToScreen(e){const t=n(e.x,e.y,o(this._view,e,this._elevationInfo),e.spatialReference);return this._view.toScreen(t)}constrainZ(e){const{defaultZ:t}=this;return null!=t&&e.z!==t&&((e=i(e)).z=t),e}}class l{constructor(e,t,s=[]){this.view=e,this.elevationInfo=t,this.exclude=s}screenToMap(e){const t=this.view.toMap(e,{exclude:this.exclude,excludeLabels:!0});return null!=t&&(t.z=a(t,this.view,this.elevationInfo)),t}mapToScreen(e){let t=e;return null!=this.elevationInfo&&(t=n(e.x,e.y,o(this.view,e,this.elevationInfo),e.spatialReference)),this.view.toScreen(t)}constrainZ(e){return e}}class h{constructor(e,t=!1,s=0){this.view=e,this.hasZ=t,this.defaultZ=s,this.mapToScreen=t=>e.toScreen(t),this.screenToMap=t?t=>{const r=e.toMap(t);return r.z=s,r}:t=>e.toMap(t)}constrainZ(e){const{defaultZ:t}=this;return this.hasZ&&e.z!==t&&((e=i(e)).z=t),e}}class u{screenToMap(e){const{x:t,y:r}=e;return new s({x:t,y:r,spatialReference:u.spatialReference})}mapToScreen(e){return t(e.x,e.y)}constrainZ(e){return e}}u.spatialReference=new r;export{c as ElevationDrawSurface,h as MapDrawSurface,l as SceneDrawSurface,u as ScreenDrawSurface};\n"],"names":["t","constructor","_ref","consumesClicks","grabbableForEvent","s","this","events","e","interactive","selectable","cursor","grabbable","destroy","intersectionDistance","attach","detach","onElevationChange","onViewChange","U","Symbol","z","F","i","EventedMixin","super","_createOperationCompleted","_hideDefaultCursor","_pointerDownStates","p","_stagedScreenPoint","_stagedPointerType","_updatingHandles","g","_stagedPointerId","constraintsEnabled","constraints","_getPointConstraint","E","_getPolylineOrPolygonConstraint","I","constraintZ","defaultZ","isDraped","labelOptions","H","loading","snapToSceneEnabled","firstVertex","lastVertex","secondToLastVertex","elevationInfo","v","hasZ","initialize","geometryType","view","spatialReference","n","state","viewingMode","f","Local","o","coordinateHelper","b","hasM","_editGeometryOperations","w","P","_snappingOperation","k","addHandles","c","stagedPoint","constraint","_constraint","snappingOptions","forceDisabled","O","_onKeyboardBasedChange","_processCursor","_screenToMap","equals","r","viewpoint","m","_activeComponent","V","data","components","push","segmentLabels","context","editGeometryOperations","enabled","visible","l","on","vertices","map","componentIndex","vertexIndex","index","coordinates","vectorToArray","pos","vectorToDehydratedPoint","getFirstVertex","y","getLastVertex","edges","at","leftVertex","cursorVertex","type","emit","added","updated","removed","_manipulator","C","drawingMode","pointerType","_snappingEnabled","size","manipulators","add","_onImmediateClick","_onImmediateDoubleClick","removeHandles","_createManipulatorDragPipeline","effectiveCursor","_ref2","Z","inputManager","latestPointerType","_getSnappingContext","snappingManager","snapAgainNearPreviousMapPoint","addPromise","a","_isDragging","has","grabbing","options","effectiveEnabled","_requiresScenePoint","_updateAndGetEffectiveDrawSurface","drawSurface","canRedo","canUndo","committedVertices","_set","x","isCompleted","numCommittedVertices","length","_get","visualizationCursorVertex","committableVertex","_","updating","geometryIncludingUncommittedVertices","slice","pointToArray","cancel","complete","aborted","commitStagedVertex","abort","appendVertex","pointToVector","doneSnapping","onInputEvent","pointerId","delete","_onPointerMove","_onHold","redo","undo","constrainZ","_snapToClosingVertex","_applyConstraints","set","operation","_mapToScreen","_vertexWithinPointerDistance","_createManipulatorDragPipelineClick","_createManipulatorDragPipelineFreehand","_createManipulatorDragPipelineHybrid","T","snappingStep","cancelSnapping","G","predicate","snappingContext","j","feature","graphic","pointer","visualizer","snappingVisualizer","drawConstraints","updatingHandles","useZ","next","_screenToMapDragEventStep","action","mapStart","S","mapEnd","createUndoGroup","_drawAtFixedElevation","elevationDrawSurface","mode","getZ","mapToScreen","mapPoint","stopPropagation","button","dragging","screenPoint","d","_processCursorMovementRelativeToSurface","screenToMap","snap","point","scenePoint","M","closestTo","D","screenStart","screenEnd","R","selfSnappingZ","value","h","prototype","constructOnly","readOnly","u","directionMode","measurementSR","origin","A","Absolute","Relative","RelativeBilateral","B","longitude","latitude","direction","distance","elevation","q","intersect","J","arguments","undefined","W","_ref3","WGS84","_elevationInfo","_view","_excludeGraphics","sceneIntersectionHelper","intersectElevationFromScreen","toScreen","exclude","toMap","excludeLabels"],"sourceRoot":""}