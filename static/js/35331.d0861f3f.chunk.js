"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[35331],{35331:(e,t,r)=>{r.r(t),r.d(t,{reconcile:()=>v,serverVersionCacheMap:()=>h});var s=r(3825),o=r(50076),n=r(54994),i=r(94487),a=r(35143),c=r(42553),p=r(46053),l=(r(81806),r(76460),r(47249),r(85842));let u=class extends c.A{constructor(e){super(e),this.hasConflicts=!1,this.moment=null,this.didPost=!1,this.success=!1}};(0,a._)([(0,p.MZ)({type:Boolean,json:{write:!0}})],u.prototype,"hasConflicts",void 0),(0,a._)([(0,p.MZ)({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.moment=e?e.getTime():null}}}})],u.prototype,"moment",void 0),(0,a._)([(0,p.MZ)({type:Boolean,json:{write:!0}})],u.prototype,"didPost",void 0),(0,a._)([(0,p.MZ)({type:Boolean,json:{write:!0}})],u.prototype,"success",void 0),u=(0,a._)([(0,l.$)("esri.rest.versionManagement.gdbVersion.support.ReconcileResult")],u);const d=u,h=new Map;async function v(e,t,r,a){h.has(e)||await(0,i.t)(h,e);const c=h.get(e);if((c?.serverVersion??0)<=11.1)throw new o.default("reconcile:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");if(!t)throw new o.default("reconcile:missing-guid","guid for version is missing");const p=(0,n.Dl)(e),l=r.toJSON(),u=(0,n.jV)(p.query,{query:(0,n.lF)({...l,f:"json"}),...a,method:"post"});t.startsWith("{")&&(t=t.slice(1,-1));const v=`${p.path}/versions/${t}/reconcile`,{data:f}=await(0,s.default)(v,u);return d.fromJSON(f)}},94487:(e,t,r)=>{r.d(t,{t:()=>o});var s=r(3825);async function o(e,t){let r=null;const o="string"==typeof t?t:t.path;if(!e.has(o)){const n=await(0,s.default)(o.replace(/\/VersionManagementServer/i,"/FeatureServer"),{query:{f:"json"}});r={serverVersion:Number(n.data.currentVersion),featureServerUrl:o.replace(/\/VersionManagementServer/i,"/FeatureServer")},e.set(t,r)}}}}]);
//# sourceMappingURL=35331.d0861f3f.chunk.js.map