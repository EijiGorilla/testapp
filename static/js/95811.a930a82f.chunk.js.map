{"version":3,"file":"static/js/95811.a930a82f.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/versionManagement/utils.js","../node_modules/@arcgis/core/versionManagement/VersioningState.js","../node_modules/@arcgis/core/rest/featureService/utils.js","../node_modules/@arcgis/core/widgets/VersionManagement/VersionManagementViewModel.js","../node_modules/@arcgis/core/portal/support/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../core/Collection.js\";import{makeHandle as r}from\"../core/handleUtils.js\";import t from\"../core/Logger.js\";import{getOrCreateMapValue as o}from\"../core/MapUtils.js\";import n from\"../rest/featureService/FeatureService.js\";import s from\"./VersioningState.js\";import i from\"./VersionManagementService.js\";import{createVersionAdapters as a}from\"./versionAdapters/utils.js\";async function c(r,t){let o;if(\"layers\"in r){const e=a(r.allTables.concat(r.allLayers).filter((e=>\"group\"!==e.type)).toArray());r.utilityNetworks&&r.utilityNetworks.forEach((r=>{const t=a([r]);e.push(...t)})),o=e}else o=new e(r);const c=new Map;for(const n of o){const r=c.get(n.featureServiceUrl);r?r.push(n):c.set(n.featureServiceUrl,new e([n]))}const l=new e;for(const[e,a]of c){const r=new n({url:e});if(await r.load(),!r.versionManagementServiceUrl)continue;const o=new i({url:r.versionManagementServiceUrl});l.push(new s({versionManagementService:o,versionableItems:a,usePersistentReadSessions:t}))}return l}const l=new Map;async function f(e,n=!1){const s=await c(e.map,n);return o(l,e,(()=>(e.addHandles(r((()=>{l.delete(e),s.forEach((e=>e.destroy()))}))),s.forEach((e=>e.load().catch((e=>{t.getLogger(\"esri.versionManagement.VersioningState\").error(\"Failed to load Versioning State\",e)})))),s)))}export{c as createVersioningStates,f as getVersioningStates};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../core/Collection.js\";import r from\"../core/Error.js\";import s from\"../core/JSONSupport.js\";import i from\"../core/Loadable.js\";import n from\"../core/Logger.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as a}from\"../core/accessorSupport/decorators/subclass.js\";let c=class extends(s.JSONSupportMixin(i)){constructor(e){super(e),this.versionManagementService=null,this.featureServiceUrl=null,this.url=null,this.currentVersion=null,this.currentVersionInfo=null,this.versionInfos=[],this.versionableItems=new t,this.usePersistentReadSessions=!1,this.state=\"lock-none\"}initialize(){this.url=this.versionManagementService.url,this.featureServiceUrl=this.url.replace(/\\/VersionManagementServer/i,\"/FeatureServer\"),this.addHandles([this.versionableItems.on(\"before-add\",(e=>{if(e.item.featureServiceUrl.toLowerCase()!==this.featureServiceUrl.toLowerCase())return e.preventDefault(),void n.getLogger(this).error(\"#add()\",\"Cannot add versionAdapter, feature service urls do not match.\")})),this.versionableItems.on(\"before-remove\",(e=>{if(0===this.versionableItems.items.length&&this.currentVersion&&\"name\"in this.currentVersion&&\"none\"!==this.versionManagementService.getLockType(this.currentVersion))return e.preventDefault(),void n.getLogger(this).error(\"#remove()\",\"Cannot remove last versionAdapter.\")}))])}load(e){return this.addResolvingPromise(this._setUpState(e)),Promise.resolve(this)}get defaultVersionIdentifier(){return this.versionManagementService.defaultVersionIdentifier}get isDefault(){return!this.currentVersion||!!this.currentVersion&&\"name\"in this.currentVersion&&this.currentVersion.name===this.defaultVersionIdentifier.name}async getVersionInfos(e=!1){return e&&(this.versionInfos=await this.versionManagementService.getVersionInfos()),this.versionInfos}async alterVersion(e,t){if(this.currentVersion&&\"guid\"in this.currentVersion&&e.guid===this.currentVersion.guid)return!1;const r=await this.versionManagementService.alterVersion(e,t);return r&&await this.getVersionInfos(!0),r}async deleteVersion(e){if(this.currentVersion&&\"guid\"in this.currentVersion&&e.guid===this.currentVersion.guid)return!1;const t=await this.versionManagementService.deleteVersion(e);return t&&await this.getVersionInfos(!0),t}async getVersionInfoExtended(){return this.currentVersion&&\"name\"in this.currentVersion?this.versionManagementService.getVersionInfoExtended(this.currentVersion):this.versionManagementService.getVersionInfoExtended(this.defaultVersionIdentifier)}async startEditing(){if(this._isDefaultOrHistoricVersion())return{success:!1};if(!this.usePersistentReadSessions){const e=await this.versionManagementService.startReadingWithResult(this.currentVersion);if(!e.success)return e;this.state=\"lock-read\"}const e=await this.versionManagementService.startEditingWithResult(this.currentVersion);return e.success&&(this.state=\"lock-write\"),e}async stopEditing(e){if(this._isDefaultOrHistoricVersion())return{success:!1};const t=await this.versionManagementService.stopEditingWithResult(this.currentVersion,e);if(!t.success)return t;if(this.state=\"lock-read\",!this.usePersistentReadSessions){const e=await this.versionManagementService.stopReadingWithResult(this.currentVersion);return e.success&&(this.state=\"lock-none\"),e}return t}async changeVersion(e){let t=null;if(this.usePersistentReadSessions){if(this._isDefaultOrHistoricVersion(e))e&&\"name\"in e?(t=await this.versionManagementService.getVersionInfoExtended(e),this.state=\"public\"===t?.access?\"lock-none\":\"lock-read\"):this.state=\"lock-read\";else if(!await this.versionManagementService.startReading(e))throw new r(\"Failed to acquire read lock for version: \"+e);this._isDefaultOrHistoricVersion(this.currentVersion)||await this.versionManagementService.stopReading(this.currentVersion)}const s=await this.versionManagementService.changeVersionWithResult(this.versionableItems,this.currentVersion,e);let i=!1;return s.forEach(((e,t)=>{i=i||e.success})),i&&(this.currentVersion=e,this.currentVersionInfo=t||await this.getVersionInfoExtended(),this._isDefaultOrHistoricVersion()?this.currentVersion&&\"name\"in this.currentVersion?this.state=\"public\"===this.currentVersionInfo?.access?\"lock-none\":\"lock-read\":this.state=\"lock-read\":this.state=\"read\"!==this.versionManagementService.getLockType(this.currentVersion)?\"lock-none\":\"lock-read\"),s}async undo(){return this._isDefaultOrHistoricVersion()?{success:!1}:(this.versionManagementService.undo(this.currentVersion),{success:!0})}async redo(){return this._isDefaultOrHistoricVersion()?{success:!1}:(this.versionManagementService.redo(this.currentVersion),{success:!0})}async _setUpState(e){await this.versionManagementService.load(e),this.state=\"lock-none\",this.currentVersionInfo=await this.getVersionInfoExtended(),this.versionableItems.forEach((e=>{this.currentVersion?\"name\"in this.currentVersion?(e.gdbVersion=this.currentVersion.name,e.historicMoment=null):(e.historicMoment=this.currentVersion,e.gdbVersion=null):(e.gdbVersion=null,e.historicMoment=null)})),this.usePersistentReadSessions&&(this._isDefaultOrHistoricVersion()?this.currentVersion&&\"name\"in this.currentVersion?this.state=\"public\"===this.currentVersionInfo?.access?\"lock-none\":\"lock-read\":this.state=\"lock-read\":await this.versionManagementService.startReading(this.currentVersion)&&(this.state=\"lock-read\"))}_isDefaultOrHistoricVersion(e=this.currentVersion){return!(e&&\"name\"in e)||e.name===this.versionManagementService.defaultVersionIdentifier.name}};e([o()],c.prototype,\"versionManagementService\",void 0),e([o()],c.prototype,\"featureServiceUrl\",void 0),e([o()],c.prototype,\"url\",void 0),e([o()],c.prototype,\"currentVersion\",void 0),e([o()],c.prototype,\"currentVersionInfo\",void 0),e([o()],c.prototype,\"versionInfos\",void 0),e([o()],c.prototype,\"versionableItems\",void 0),e([o()],c.prototype,\"usePersistentReadSessions\",void 0),e([o()],c.prototype,\"state\",void 0),e([o({readOnly:!0})],c.prototype,\"defaultVersionIdentifier\",null),e([o({readOnly:!0})],c.prototype,\"isDefault\",null),c=e([a(\"esri.versionManagement.VersioningState\")],c);const u=c;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{parse as e}from\"../../layers/support/arcgisLayerUrl.js\";import r from\"./FeatureService.js\";const t=(p,o)=>{for(const s of p)if(\"feature\"===s.type||\"subtype-group\"===s.type){if(!s.url)continue;const t=e(s.url).url.path,p=o.get(t);if(p)p.layers.push(s);else{const e=new r({url:t}),p=[s];o.set(t,{featureService:e,layers:p})}}else\"group\"===s.type&&t(s.layers.filter((e=>\"feature\"===e.type||\"subtype-group\"===e.type||\"group\"===e.type)),o)};function p(e){const r=new Map;return t(e,r),r}export{p as createFeatureServices};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Accessor.js\";import o from\"../../core/Collection.js\";import t from\"../../core/Error.js\";import i from\"../../core/Logger.js\";import{watch as n,on as s}from\"../../core/reactiveUtils.js\";import{removeTrailingSlash as a}from\"../../core/urlUtils.js\";import{property as d}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as u}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as v}from\"../../core/support/UpdatingHandles.js\";import{getOwningPortalUrl as p}from\"../../layers/support/layerUtils.js\";import l from\"../../portal/Portal.js\";import{hasUserTypeExtension as h,hasPrivilege as m}from\"../../portal/support/utils.js\";import c from\"../../rest/featureService/FeatureService.js\";import{createFeatureServices as g}from\"../../rest/featureService/utils.js\";import{getVersioningStates as w}from\"../../versionManagement/utils.js\";import f from\"../../versionManagement/VersioningState.js\";import E from\"../../versionManagement/VersionManagementService.js\";import{createVersionAdapters as L}from\"../../versionManagement/versionAdapters/utils.js\";let _=class extends r{constructor(e){super(e),this._portalLookup=new Map,this._updatingHandlesLoad=new v,this._updatingHandlesExecute=new v,this.advancedEditingUserTypeExtensionLookup=new Map,this.executionError=void 0,this.featureServiceLookup=new Map,this.loadError=void 0,this.serverVersionLookup=new Map,this.serviceNameLookup=new Map,this.userLookup=new Map,this.versionIdentifierLookup=new Map,this.versionInfoLookup=new Map,this.versionAdministratorLookup=new Map,this.versionManagementServiceLookup=new Map,this.versioningStateLookup=new Map,this.view=null,this.versioningStates=null}initialize(){this._viewChangeHandle(),this.addHandles([n((()=>this.view),(()=>{this._resetAllLookupProperties(),this._viewChangeHandle()})),n((()=>this.versioningStates),(()=>{this._resetVersioningLookupProperties(),this._setVersioningStatesLookups()}))])}destroy(){this._updatingHandlesLoad.destroy(),this._updatingHandlesExecute.destroy()}get state(){return this._updatingHandlesLoad.updating?\"loading\":this.loadError?\"disabled\":this._updatingHandlesExecute.updating?\"executing\":this.executionError?\"failed\":\"ready\"}async alterVersion(e){return this._updatingHandlesExecute.addPromise(this._alterVersionInternal(e))}async changeVersion(e,r,o){return this._updatingHandlesExecute.addPromise(this._changeVersionInternal(e,r,o))}async createVersion(e){return this._updatingHandlesExecute.addPromise(this._createVersionInternal(e))}async deleteVersion(e,r,o){return this._updatingHandlesExecute.addPromise(this._deleteVersionInternal(e,r,o))}async getVersionInfos(e){return this._updatingHandlesExecute.addPromise(this._getVersionInfosInternal(e))}async _alterVersionInternal(e){if(\"disabled\"===this.state)throw this._logError(\"version-management-view-model:load-error\",this.loadError),new t(\"version-management-view-model:load-error\",this.loadError);this._setExecutionError();const r=this.versioningStateLookup.get(e.featureServerUrl);if(!r)throw this._logError(\"version-management-view-model:execution-error\",\"no-versioning-state-found\"),new t(\"version-management-view-model:execution-error\",this.executionError);if(!this.serverVersionLookup.has(e.featureServerUrl)||this.serverVersionLookup.get(e.featureServerUrl)<=11.1)throw this._logError(\"version-management-view-model:execution-error\",\"no-valid-enterprise-version\"),new t(\"version-management-view-model:execution-error\",this.executionError);if(!this.advancedEditingUserTypeExtensionLookup.get(e.featureServerUrl))throw this._logError(\"version-management-view-model:execution-error\",\"no-advanced-editing-user-type-extension\"),new t(\"version-management-view-model:execution-error\",this.executionError);const{featureServerUrl:o,versionIdentifier:i,...n}=e,s=await r.alterVersion(i,n).catch((e=>{throw this._logExecutionError(e),e}));return await this.getVersionInfos(o),s}async _changeVersionInternal(e,r,o){if(\"disabled\"===this.state)throw this._logError(\"version-management-view-model:load-error\",this.loadError),new t(\"version-management-view-model:load-error\",this.loadError);this._setExecutionError();const i=this.versioningStateLookup.get(e);if(!i)throw this._logError(\"version-management-view-model:execution-error\",\"no-versioning-state-found\"),new t(\"version-management-view-model:execution-error\",this.executionError);const n={name:r,guid:o};return await i.changeVersion(n).catch((e=>{throw this._logExecutionError(e),e}))}_updateVersionableItems(e){this._updatingHandlesLoad.addPromise((async()=>{L(e.added).forEach((e=>{const r=e.featureServiceUrl,o=this.versioningStateLookup.get(r);o&&(o.versionableItems.find((r=>r.versionableItem===e.versionableItem))||o.versionableItems.add(e))}));L(e.removed).forEach((e=>{const{allLayers:r,allTables:o}=this.view.map,t=e.featureServiceUrl,i=this.versioningStateLookup.get(t);if(!i)return void this._logError(\"version-management-view-model:execution-error\",\"no-version-management-service-found\");const n=e=>(\"feature\"===e.type||\"subtype-group\"===e.type)&&(e.url?.includes(t)??!1);[...r.filter(n),...o.filter(n)].length||(this.featureServiceLookup.delete(t),this.serviceNameLookup.delete(t),this.versioningStateLookup.delete(t),this.versioningStates.remove(i));const s=i.versionableItems.find((r=>r.versionableItem===e.versionableItem));s&&i.versionableItems.remove(s)}))})())}async _createVersionInternal(e){if(\"disabled\"===this.state)throw this._logError(\"version-management-view-model:load-error\",this.loadError),new t(\"version-management-view-model:load-error\",this.loadError);this._setExecutionError();const r=e.featureServerUrl,o=this.versioningStateLookup.get(r);if(!o)throw this._logError(\"version-management-view-model:execution-error\",\"no-versioning-state-found\"),new t(\"version-management-view-model:execution-error\",this.executionError);const i=this.advancedEditingUserTypeExtensionLookup.get(e.featureServerUrl),n=this.userLookup.get(r).toUpperCase(),s=this._isEmptyString(e.ownerName)?n:e.ownerName?.trim().toUpperCase();if(s!==n){if(this.serverVersionLookup.get(r)<=11.1)throw this._logError(\"version-management-view-model:execution-error\",\"versioning-api-error\"),new t(\"version-management-view-model:execution-error\",this.executionError);if(!i)throw this._logError(\"version-management-view-model:execution-error\",\"no-advanced-editing-user-type-extension\"),new t(\"version-management-view-model:execution-error\",this.executionError)}let a=await(this.versioningStateLookup.get(r)?.getVersionInfos());if(\"SDE\"===s?.toUpperCase()&&\"DEFAULT\"===e.versionName.toUpperCase()||a?.find((r=>r.versionIdentifier.name.toUpperCase()===(s+\".\"+e.versionName).toUpperCase()||r.versionIdentifier.name.toUpperCase()===(n+\".\"+e.versionName).toUpperCase())))throw this._logError(\"version-management-view-model:execution-error\",\"no-valid-version-name\"),new t(\"version-management-view-model:execution-error\",this.executionError);const d=await o.versionManagementService.createVersion({versionName:e.versionName,access:s!==n?\"public\":e.access,description:e.description}).catch((e=>{throw this._logExecutionError(e),e}));if(s!==n){const{guid:o,name:t}=d.versionIdentifier,i={featureServerUrl:r,versionIdentifier:{guid:o,name:t},access:e.access,ownerName:s};await this.alterVersion(i)||this.deleteVersion(r,n+\".\"+e.versionName,d.versionIdentifier.guid)}return await this.getVersionInfos(r),a=await(this.versioningStateLookup.get(r)?.getVersionInfos()),a?.find((e=>e.versionIdentifier.guid===d.versionIdentifier.guid))}async _deleteVersionInternal(e,r,o){if(\"disabled\"===this.state)throw this._logError(\"version-management-view-model:load-error\",this.loadError),new t(\"version-management-view-model:load-error\",this.loadError);this._setExecutionError();const i=this.versioningStateLookup.get(e);if(!i)throw this._logError(\"version-management-view-model:execution-error\",\"no-versioning-state-found\"),new t(\"version-management-view-model:execution-error\",this.executionError);if(this.serverVersionLookup.get(e)<=11.1)throw this._logError(\"version-management-view-model:execution-error\",\"versioning-api-error\"),new t(\"version-management-view-model:execution-error\",this.executionError);if(!this.advancedEditingUserTypeExtensionLookup.get(e))throw this._logError(\"version-management-view-model:execution-error\",\"no-advanced-editing-user-type-extension\"),new t(\"version-management-view-model:execution-error\",this.executionError);const n={name:r,guid:o};return await i.deleteVersion(n).catch((e=>{throw this._logExecutionError(e),new t(\"version-management-view-model:execution-error\",this.executionError)}))}async _getVersionInfosInternal(e){if(\"disabled\"===this.state)throw this._logError(\"version-management-view-model:load-error\",this.loadError),new t(\"version-management-view-model:load-error\",this.loadError);this._setExecutionError();const r=this.featureServiceLookup.get(e)?.featureService;if(!r)throw this._logError(\"version-management-view-model:execution-error\",\"no-feature-service-found\"),new t(\"version-management-view-model:execution-error\",this.executionError);r.loaded||await r.load().catch((e=>{throw this._logExecutionError(e),e}));const o=r.url;this.serverVersionLookup.set(o,r.sourceJSON?.currentVersion??0),this.serverVersionLookup.get(o)<=11.1&&this.advancedEditingUserTypeExtensionLookup.set(o,!1);const i=this.userLookup.get(e);this._portalLookup.get(e)&&i?(this.advancedEditingUserTypeExtensionLookup.set(o,await h(this._portalLookup.get(e),i,\"advediting\")),this.versionAdministratorLookup.set(o,await m(this._portalLookup.get(e),i,\"features:user:manageVersions\"))):(this.advancedEditingUserTypeExtensionLookup.set(o,!1),this.versionAdministratorLookup.set(o,!1));const n=this.versioningStateLookup.get(e);if(!n)throw this._logError(\"version-management-view-model:execution-error\",\"no-versioning-state-found\"),new t(\"version-management-view-model:execution-error\",this.executionError);n.loaded||await n.load().catch((e=>{throw this._logExecutionError(e),e}));return await n.getVersionInfos(!0).catch((e=>{throw this._logExecutionError(e),e}))}_isEmptyString(e){return!e||0===e.trim().length}_logError(e,r){switch(i.getLogger(this).error(new t(e,r)),e){case\"version-management-view-model:load-error\":this._setLoadError(r);break;case\"version-management-view-model:execution-error\":this._setExecutionError(r)}}_logExecutionError(e){this._logError(\"version-management-view-model:execution-error\",e.message)}async _viewChangeHandle(){this._updatingHandlesLoad.addPromise((async()=>{if(this._setLoadError(),!this.view)return void this._setLoadError(\"no-view-property\");if(this.view&&\"2d\"!==this.view.type)return void this._logError(\"version-management-view-model:load-error\",\"sceneView-not-supported\");this.removeHandles(\"map-change-handle\"),this.addHandles([n((()=>this.view?.map),(()=>{this._resetAllLookupProperties(),this._mapChangeHandle(this.versioningStates)}))],\"map-change-handle\");const e=await this._getVersioningStates();await this._mapChangeHandle(e)})())}async _mapChangeHandle(e){this._updatingHandlesLoad.addPromise((async()=>{this._setLoadError(),this.removeHandles(\"map-layers-tables-change-handle\"),this.addHandles([s((()=>this.view?.map.allLayers),\"change\",(e=>{(e.added.some((({type:e})=>\"feature\"===e))||e.removed.some((({type:e})=>\"feature\"===e))||e.added.some((({type:e})=>\"subtype-group\"===e))||e.removed.some((({type:e})=>\"subtype-group\"===e)))&&(this._resetServiceRelatedLookupProperties(),this._propertiesChangeInternal(this.versioningStates),this._updateVersionableItems(e))})),s((()=>this.view?.map.allTables),\"change\",(e=>{(e.added.some((({type:e})=>\"feature\"===e))||e.removed.some((({type:e})=>\"feature\"===e))||e.added.some((({type:e})=>\"subtype-group\"===e))||e.removed.some((({type:e})=>\"subtype-group\"===e)))&&(this._resetServiceRelatedLookupProperties(),this._propertiesChangeInternal(this.versioningStates),this._updateVersionableItems(e))}))],\"map-layers-tables-change-handle\"),await this._propertiesChangeInternal(e)})())}async _propertiesChangeInternal(e){this._updatingHandlesLoad.addPromise((async()=>{const r=e=>\"feature\"===e.type||\"subtype-group\"===e.type,{allLayers:o,allTables:t}=this.view.map;if(this._setLoadError(),this.featureServiceLookup=g([...o.filter(r),...t.filter(r)]),this.featureServiceLookup.size){this._updateFeatureServiceLookup(e),this.serviceNameLookup=new Map;for(const e of this.featureServiceLookup.values()){const{featureService:r,featureService:{url:o}}=e;if(!this.serviceNameLookup.has(o)){if(r.loaded||await r.load().catch((e=>{i.getLogger(this).error(e)})),!r.versionManagementServiceUrl){this.featureServiceLookup.delete(o);continue}const e=await p(o),t=new l({authMode:\"immediate\",url:e});await t.load().catch((e=>{i.getLogger(this).error(e)}));const n=t.user?.username;if(!r.loaded||!t.loaded||!n)continue;this.serviceNameLookup.set(a(o),o.split(\"/\").at(-2)),this.userLookup.set(o,n),this._portalLookup.set(o,t)}}this.removeHandles(\"versioning-states-change-handle\"),e.forEach((e=>this._handleVersioningStateLookupUpdate(e))),await this._updateVersioningStates(e),this.versioningStates=e}else this._logError(\"version-management-view-model:load-error\",\"no-feature-services\")})())}_updateFeatureServiceLookup(e){for(const r of e){const e=r.featureServiceUrl;if(!this.featureServiceLookup.has(e)){const o=new c({url:e}),t=r.versionableItems.toArray().flatMap((e=>\"network\"===e.type?null:e.versionableItem)).filter((e=>!!e));this.featureServiceLookup.set(e,{featureService:o,layers:t})}}}async _updateVersioningStates(e){for(const r of this.featureServiceLookup.values()){const t=r.featureService;if(!t.versionManagementServiceUrl)continue;if(!e.find((e=>e.featureServiceUrl===t.url))&&t.versionManagementServiceUrl){const i=new o(L(r.layers)),n=new f({versionManagementService:new E({url:t.versionManagementServiceUrl}),versionableItems:i});e.add(n),this._handleVersioningStateLookupUpdate(n)}await this.getVersionInfos(t.url)}}async _getVersioningStates(){return this.versioningStates&&this.versioningStates.length?this.versioningStates:this.view?await w(this.view,!1):(this._logError(\"version-management-view-model:load-error\",\"no-view-property\"),new o)}_handleVersioningStateLookupUpdate(e){this.versioningStateLookup.set(e.featureServiceUrl,e),this._addHandlesToVersioningState(e),this.versionIdentifierLookup.set(e.featureServiceUrl,e.currentVersionInfo?.versionIdentifier),this.versionManagementServiceLookup.set(e.featureServiceUrl,e.versionManagementService)}async _setVersioningStatesLookups(){this._updatingHandlesLoad.addPromise((async()=>{this.versioningStates&&(this.removeHandles(\"versioning-states-change-handle\"),this._updateFeatureServiceLookup(this.versioningStates),this.versioningStates.forEach((e=>this._handleVersioningStateLookupUpdate(e))),await this._updateVersioningStates(this.versioningStates))})())}_addHandlesToVersioningState(e){this.addHandles([n((()=>e.versionInfos),(()=>{this.versionInfoLookup.set(e.featureServiceUrl,e.versionInfos)})),n((()=>e.currentVersionInfo?.versionIdentifier),(()=>{this.versionIdentifierLookup.set(e.featureServiceUrl,e.currentVersionInfo?.versionIdentifier)}))],\"versioning-states-change-handle\")}_resetVersioningLookupProperties(){this.versionIdentifierLookup=new Map,this.versionInfoLookup=new Map,this.versionManagementServiceLookup=new Map,this.versioningStateLookup=new Map}_resetAllLookupProperties(){this._portalLookup=new Map,this.advancedEditingUserTypeExtensionLookup=new Map,this.serverVersionLookup=new Map,this.userLookup=new Map,this.versioningStates=new o,this._resetVersioningLookupProperties(),this._resetServiceRelatedLookupProperties()}_resetServiceRelatedLookupProperties(){this.featureServiceLookup=new Map,this.serviceNameLookup=new Map}_setExecutionError(e){this._set(\"executionError\",e)}_setLoadError(e){this._set(\"loadError\",e)}};e([d()],_.prototype,\"_portalLookup\",void 0),e([d()],_.prototype,\"advancedEditingUserTypeExtensionLookup\",void 0),e([d({readOnly:!0})],_.prototype,\"executionError\",void 0),e([d()],_.prototype,\"featureServiceLookup\",void 0),e([d({readOnly:!0})],_.prototype,\"loadError\",void 0),e([d()],_.prototype,\"serverVersionLookup\",void 0),e([d()],_.prototype,\"serviceNameLookup\",void 0),e([d({readOnly:!0})],_.prototype,\"state\",null),e([d()],_.prototype,\"userLookup\",void 0),e([d()],_.prototype,\"versionIdentifierLookup\",void 0),e([d()],_.prototype,\"versionInfoLookup\",void 0),e([d()],_.prototype,\"versionAdministratorLookup\",void 0),e([d()],_.prototype,\"versionManagementServiceLookup\",void 0),e([d()],_.prototype,\"versioningStateLookup\",void 0),e([d()],_.prototype,\"view\",void 0),e([d()],_.prototype,\"versioningStates\",void 0),_=e([u(\"esri.widgets.VersionManagement.VersionManagementViewModel\")],_);const S=_;export{S as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{id as e}from\"../../kernel.js\";import n from\"../../request.js\";async function r(r,t,s){const u=e?.findCredential(r.restUrl);if(!u)return null;if(\"loaded\"===r.loadStatus&&\"\"===t&&r.user?.sourceJSON&&!1===s)return r.user.sourceJSON;const o={responseType:\"json\",query:{f:\"json\"}};if(s&&(o.query.returnUserLicenseTypeExtensions=!0),\"\"===t){const e=await n(r.restUrl+\"/community/self\",o);if(e.data){const n=e.data;if(n?.username)return n}return null}const i=await n(r.restUrl+\"/community/users/\"+t,o);if(i.data){const e=i.data;return e.error?null:e}return null}async function t(e,n,t){const s=await r(e,n,!0);return s?.privileges?.includes(t)??!1}async function s(e,n,t){const s=await r(e,n,!0);return s?.userLicenseTypeExtensions?.includes(t)??!1}export{t as hasPrivilege,s as hasUserTypeExtension,r as lookupUser};\n"],"names":["async","c","r","t","o","e","a","allTables","concat","allLayers","filter","type","toArray","utilityNetworks","forEach","push","Map","n","get","featureServiceUrl","set","l","url","load","versionManagementServiceUrl","i","s","versionManagementService","versionableItems","usePersistentReadSessions","f","arguments","length","undefined","map","addHandles","delete","destroy","catch","getLogger","error","JSONSupportMixin","constructor","super","this","currentVersion","currentVersionInfo","versionInfos","state","initialize","replace","on","item","toLowerCase","preventDefault","items","getLockType","addResolvingPromise","_setUpState","Promise","resolve","defaultVersionIdentifier","isDefault","name","getVersionInfos","alterVersion","guid","deleteVersion","getVersionInfoExtended","startEditing","_isDefaultOrHistoricVersion","success","startReadingWithResult","startEditingWithResult","stopEditing","stopEditingWithResult","stopReadingWithResult","changeVersion","access","startReading","stopReading","changeVersionWithResult","undo","redo","gdbVersion","historicMoment","prototype","readOnly","u","p","path","layers","featureService","_","_portalLookup","_updatingHandlesLoad","v","_updatingHandlesExecute","advancedEditingUserTypeExtensionLookup","executionError","featureServiceLookup","loadError","serverVersionLookup","serviceNameLookup","userLookup","versionIdentifierLookup","versionInfoLookup","versionAdministratorLookup","versionManagementServiceLookup","versioningStateLookup","view","versioningStates","_viewChangeHandle","_resetAllLookupProperties","_resetVersioningLookupProperties","_setVersioningStatesLookups","updating","addPromise","_alterVersionInternal","_changeVersionInternal","createVersion","_createVersionInternal","_deleteVersionInternal","_getVersionInfosInternal","_logError","_setExecutionError","featureServerUrl","has","versionIdentifier","_logExecutionError","_updateVersionableItems","L","added","find","versionableItem","add","removed","includes","remove","toUpperCase","_isEmptyString","ownerName","trim","versionName","d","description","loaded","sourceJSON","h","m","_setLoadError","message","removeHandles","_mapChangeHandle","_getVersioningStates","some","_ref","_ref2","_ref3","_ref4","_resetServiceRelatedLookupProperties","_propertiesChangeInternal","_ref5","_ref6","_ref7","_ref8","g","size","_updateFeatureServiceLookup","values","authMode","user","username","split","at","_handleVersioningStateLookupUpdate","_updateVersioningStates","flatMap","E","w","_addHandlesToVersioningState","_set","S","findCredential","restUrl","loadStatus","responseType","query","returnUserLicenseTypeExtensions","data","privileges","userLicenseTypeExtensions"],"sourceRoot":""}