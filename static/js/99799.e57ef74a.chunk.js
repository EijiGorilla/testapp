"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[6515,28896,77200,99799],{6515:(t,e,s)=>{s.r(e),s.d(e,{default:()=>h});var i=s(35143),n=s(91967),o=s(50076),l=s(76460),a=s(46053),r=(s(81806),s(47249),s(85842));let u=class extends n.default{constructor(t){super(t),this.precision=4,this.thumbsConstrained=!0}set effectiveMax(t){this.setEffectiveMax(t)}set effectiveMin(t){this.setEffectiveMin(t)}set labelFormatFunction(t){this._set("labelFormatFunction",t)}set inputFormatFunction(t){this._set("inputFormatFunction",t)}set inputParseFunction(t){this._set("inputParseFunction",t)}get labels(){const{max:t,min:e,values:s}=this,i=s?.length?s.map(((t,e)=>this.getLabelForValue(t,"value",e))):[];return{max:this.getLabelForValue(t,"max"),min:this.getLabelForValue(e,"min"),values:i}}set max(t){this.setMax(t)}set min(t){this.setMin(t)}get state(){const{max:t,min:e}=this;return null!=t&&null!=e&&t>e?"ready":"disabled"}set values(t){const{max:e,min:s}=this,i=this.values;i&&t&&i.length===t.length&&i.every(((e,s)=>e===t[s]))||(this._set("values",null),t?.length&&(null!=s&&t.some((t=>t<s))&&(this.min=Math.min(...t)),null!=e&&t.some((t=>t>e))&&(this.max=Math.max(...t))),this._set("values",t))}toPrecision(t){return parseFloat(t.toFixed(this.precision))}defaultLabelFormatFunction(t){const{max:e,min:s,precision:i}=this,n=null!=e&&null!=s&&e-s>10?2:i;return parseFloat(t.toFixed(n)).toString()}defaultInputFormatFunction(t){return t.toString()}defaultInputParseFunction(t){return parseFloat(t)}getBounds(){const{effectiveMax:t,effectiveMin:e,max:s,min:i}=this;return{min:null!=e&&null!=i?Math.max(i,e):i,max:null!=t&&null!=s?Math.min(s,t):s}}getBoundsForValueAtIndex(t){const{thumbsConstrained:e,values:s}=this,{min:i,max:n}=this.getBounds();if(e&&s){const e=t-1,o=t+1;return{min:null!=s[e]?s[e]:i,max:null!=s[o]?s[o]:n}}return{min:i,max:n}}getLabelForValue(t,e,s){return null==t?null:this.labelFormatFunction?this.labelFormatFunction(t,e,s):this.defaultLabelFormatFunction(t)}setMax(t){const{max:e,values:s}=this;if(null==t)return void this._set("max",null);if(isNaN(t))return void this._logError("slider:invalid-value","Supplied value for property 'max' is NaN.");const i=this.toPrecision(t);if(e!==i&&(this._set("max",i),s?.length))for(let n=0;n<s.length;n++)i<s[n]&&this.setValue(n,i)}setMin(t){const{min:e,values:s}=this;if(null==t)return void this._set("min",null);if(isNaN(t))return void this._logError("slider:invalid-value","Supplied value for property 'min' is NaN.");const i=this.toPrecision(t);if(e!==i&&(this._set("min",i),s?.length))for(let n=0;n<s.length;n++)i>s[n]&&this.setValue(n,i)}setEffectiveMax(t){if(null==t)return void this._set("effectiveMax",null);if(isNaN(t))return void this._logError("slider:invalid-value","Supplied value for property 'effectiveMax' is NaN.");const e=this.toPrecision(t);this.effectiveMax!==e&&this._set("effectiveMax",this._applyBoundsToValue(e))}setEffectiveMin(t){if(null==t)return void this._set("effectiveMin",null);if(isNaN(t))return void this._logError("slider:invalid-value","Supplied value for property 'effectiveMin' is NaN.");const e=this.toPrecision(t);this.effectiveMin!==e&&this._set("effectiveMin",this._applyBoundsToValue(e))}setValue(t,e){if(isNaN(e))return void this._logError("slider:invalid-value","Supplied value for member of property 'values' is NaN.");const{values:s}=this;if(null==s)return void this._logError("slider:invalid-value","Supplied value for member of property 'values' is null.");const i=s[t],n=this.toPrecision(e);if(i===n)return;const o=[...s];o[t]=n,this._set("values",o),this.notifyChange("labels")}_applyBoundsToValue(t){const{max:e,min:s}=this;return null!=s&&t<s?s:null!=e&&t>e?e:t}_logError(t,e,s){l.A.getLogger(this).error(new o.default(t,e,s))}};(0,i._)([(0,a.MZ)()],u.prototype,"effectiveMax",null),(0,i._)([(0,a.MZ)()],u.prototype,"effectiveMin",null),(0,i._)([(0,a.MZ)()],u.prototype,"labelFormatFunction",null),(0,i._)([(0,a.MZ)()],u.prototype,"inputFormatFunction",null),(0,i._)([(0,a.MZ)()],u.prototype,"inputParseFunction",null),(0,i._)([(0,a.MZ)({readOnly:!0})],u.prototype,"labels",null),(0,i._)([(0,a.MZ)()],u.prototype,"max",null),(0,i._)([(0,a.MZ)()],u.prototype,"min",null),(0,i._)([(0,a.MZ)()],u.prototype,"precision",void 0),(0,i._)([(0,a.MZ)({readOnly:!0})],u.prototype,"state",null),(0,i._)([(0,a.MZ)()],u.prototype,"thumbsConstrained",void 0),(0,i._)([(0,a.MZ)()],u.prototype,"values",null),u=(0,i._)([(0,r.$)("esri.widgets.Slider.SliderViewModel")],u);const h=u},77200:(t,e,s)=>{s.r(e),s.d(e,{default:()=>u});var i=s(35143),n=s(46053),o=(s(81806),s(76460),s(47249),s(85842)),l=s(6515),a=s(7095);let r=class extends l.default{constructor(t){super(t),this._initialStopValues=[],this._max=null,this._min=null,this.hasTimeData=!1,this.inputFormatFunction=(t,e)=>"max"===e?this.getUnzoomedMax().toString():"min"===e?this.getUnzoomedMin().toString():t.toString(),this.inputParseFunction=null,this.labelFormatFunction=t=>{if(this.hasTimeData)return(0,a.formatDateLabel)(t);const{max:e,min:s,precision:i}=this,n=e-s>10?2:i;return(0,a.formatNumberLabel)(parseFloat(t.toFixed(n)))},this.thumbsConstrained=!1,this.zoomingEnabled=!0}set breaks(t){this._set("breaks",t),this.notifyChange("max"),this.notifyChange("min")}set stops(t){if(t?.length){const{max:e,min:s}=this,i=this.getValuesFromStops(t),n={};null!=s&&i.some((t=>t<s))&&(n.min=Math.min(...i)),null!=e&&i.some((t=>t>e))&&(n.max=Math.max(...i)),this.set({...n}),this._initialStopValues=i}else this._initialStopValues=null;this._set("stops",t||null),this.notifyChange("values")}get labels(){const{values:t}=this,e=t&&t.length?t.map(((t,e)=>this.getLabelForValue(t,"value",e))):[],s=this.getUnzoomedMax(),i=this.getUnzoomedMin();return{max:this.getLabelForValue(s,"max"),min:this.getLabelForValue(i,"min"),values:e}}get max(){const{breaks:t}=this;return t?.length?t[t.length-1].max:this.max}set max(t){const{zoomOptions:e}=this;if(null!=e?.max){const s=this.values;let i=e.max;if(t<i&&(i=t,e.max=t),s&&s.length)for(let e=0;e<s.length;e++)t<s[e]&&this.setValue(e,t);this._storeZoomMax(i,t)}else this.updateBreakMax(t),this.setMax(t);this.notifyChange("labels")}get min(){const{breaks:t}=this;return t?.length?t[0].min:this.min}set min(t){const{zoomOptions:e}=this;if(null!=e?.min){const s=this.values;let i=e.min;if(t>i&&(i=t,e.min=t),s&&s.length)for(let e=0;e<s.length;e++)t>s[e]&&this.setValue(e,t);this._storeZoomMin(i,t)}else this.updateBreakMin(t),this.setMin(t);this.notifyChange("labels")}get state(){const{max:t,min:e,values:s}=this;return null!=t&&null!=e&&s.length>0?"ready":"disabled"}get values(){const{breaks:t,stops:e}=this;if(!t&&!e)return[];if(t?.length){const e=t.map((t=>t.max));return e.pop(),e}if(e?.length<2)return[];const s=this.getValuesFromStops();return[s[0],s[s.length-1]]}set zoomOptions(t){const{zoomingEnabled:e,zoomOptions:s}=this;if(e){if(s){const e=null!=this._max?this._max:this.max,s=null!=this._min?this._min:this.min;if(t){const{max:i,min:n}=t,o=null!=i,l=null!=n,a=l?t.min:s,r=l?s:null,u=o?t.max:e,h=o?e:null;this._storeZoomMin(a,r),this._storeZoomMax(u,h)}else this.setMax(e),this.setMin(s),this._min=null,this._max=null}else if(t){const{max:e,min:s}=t;null!=s&&this._storeZoomMin(t.min,this.min),null!=e&&this._storeZoomMax(t.max,this.max)}this._set("zoomOptions",t),this.notifyChange("max"),this.notifyChange("min")}}getStopIndexFromValueIndex(t){const{stops:e}=this,s=this.values[t];return 0===t?s<=this.values[1]?0:e.length-1:1===t?this.values[0]>=s?0:e.length-1:null}getStopChanges(t,e){const s=this.stops,i=this.getStopIndexFromValueIndex(t),n=this.getValuesFromStops();n[i]=e;const[o,l]=[n[0],n[n.length-1]].sort(((t,e)=>t>e?1:-1)),a=l-o,r=s.length-1;return n.map(((t,e)=>({index:e,value:this.toPrecision(o+e*a/r)})))}setValue(t,e){const{max:s,min:i,values:n}=this,o=n[t];if(isNaN(e)||o===e||e>s||e<i)return;n[t]=this.toPrecision(e),this._set("values",[...n]);const l=n.slice().sort(((t,e)=>t>e?1:-1)),r=l[0],u=l[l.length-1],h=(0,a.getStopChanges)(r,u,this._initialStopValues??[]);this.updateStops(h),this.updateBreaks(),this.notifyChange("labels")}getValuesFromStops(t){const e=t||this.stops;return e?.map((t=>t.hasOwnProperty("ratio")?t.ratio:t.value))}updateBreaks(){const{breaks:t,values:e}=this;t?.length&&e.slice().sort(((t,e)=>t>e?1:-1)).forEach(((e,s)=>{t[s].max=e,null!=t[s+1]&&(t[s+1].min=e)}))}updateBreakMax(t){const{breaks:e,max:s,min:i}=this;!isNaN(t)&&s!==t&&null!=i&&t>i&&e?.length&&(e[e.length-1].max=t)}updateBreakMin(t){const{breaks:e,max:s,min:i}=this;!isNaN(t)&&i!==t&&null!=s&&t<s&&e?.length&&(e[0].min=t)}updateStops(t){const{stops:e}=this,s=this.getValuesFromStops();if(s?.length){for(const e of t)s[e.index]=e.value;e.forEach(((t,e)=>{t.hasOwnProperty("ratio")?t.ratio=s[e]:t.value=s[e]}))}}getUnzoomedMax(){return this.zoomOptions&&null!=this._max?this._max:this.max}getUnzoomedMin(){return this.zoomOptions&&null!=this._min?this._min:this.min}_storeZoomMax(t,e){this._max=e,this.setMax(t)}_storeZoomMin(t,e){this._min=e,this.setMin(t)}};(0,i._)([(0,n.MZ)()],r.prototype,"breaks",null),(0,i._)([(0,n.MZ)()],r.prototype,"stops",null),(0,i._)([(0,n.MZ)()],r.prototype,"hasTimeData",void 0),(0,i._)([(0,n.MZ)()],r.prototype,"inputFormatFunction",void 0),(0,i._)([(0,n.MZ)()],r.prototype,"inputParseFunction",void 0),(0,i._)([(0,n.MZ)()],r.prototype,"labelFormatFunction",void 0),(0,i._)([(0,n.MZ)({readOnly:!0})],r.prototype,"labels",null),(0,i._)([(0,n.MZ)()],r.prototype,"max",null),(0,i._)([(0,n.MZ)()],r.prototype,"min",null),(0,i._)([(0,n.MZ)({readOnly:!0})],r.prototype,"state",null),(0,i._)([(0,n.MZ)()],r.prototype,"thumbsConstrained",void 0),(0,i._)([(0,n.MZ)({readOnly:!0})],r.prototype,"values",null),(0,i._)([(0,n.MZ)()],r.prototype,"zoomingEnabled",void 0),(0,i._)([(0,n.MZ)()],r.prototype,"zoomOptions",null),r=(0,i._)([(0,o.$)("esri.widgets.smartMapping.SmartMappingSliderViewModel")],r);const u=r},99799:(t,e,s)=>{s.r(e),s.d(e,{default:()=>h});var i=s(35143),n=(s(11265),s(46053)),o=(s(81806),s(76460),s(47249),s(85842)),l=s(77200),a=s(38042),r=s(63860);let u=class extends l.default{constructor(t){super(t),this.hasTimeData=!1,this.labelFormatFunction=(t,e)=>"min"===e?this.messages.bottomLabel:"max"===e?this.messages.topLabel:t.toString(),this.max=1,this.messages=null,this.min=0,this.zoomingEnabled=!1}initialize(){const t=async()=>this.messages=await(0,r.ud)("esri/widgets/smartMapping/HeatmapSlider/t9n/HeatmapSlider");t(),this.addHandles((0,a.oQ)(t))}get state(){const{messages:t,max:e,min:s}=this;return t&&null!=e&&null!=s?"ready":"disabled"}get values(){const{stops:t}=this;return!t?.length||t.length<2?[]:[t[0].ratio,t[t.length-1].ratio]}getStopInfo(){const{stops:t}=this;return t?.length?t.map((t=>({color:t.color,offset:1-t.ratio}))):[]}};(0,i._)([(0,n.MZ)({readOnly:!0})],u.prototype,"hasTimeData",void 0),(0,i._)([(0,n.MZ)({readOnly:!0})],u.prototype,"labelFormatFunction",void 0),(0,i._)([(0,n.MZ)({readOnly:!0})],u.prototype,"max",void 0),(0,i._)([(0,n.MZ)()],u.prototype,"messages",void 0),(0,i._)([(0,n.MZ)({readOnly:!0})],u.prototype,"min",void 0),(0,i._)([(0,n.MZ)({readOnly:!0})],u.prototype,"state",null),(0,i._)([(0,n.MZ)({readOnly:!0})],u.prototype,"values",null),(0,i._)([(0,n.MZ)({readOnly:!0})],u.prototype,"zoomingEnabled",void 0),u=(0,i._)([(0,o.$)("esri.widgets.smartMapping.HeatmapSlider.HeatmapSliderViewModel")],u);const h=u}}]);
//# sourceMappingURL=99799.e57ef74a.chunk.js.map