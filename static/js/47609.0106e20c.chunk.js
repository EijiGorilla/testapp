"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[47609],{47609:(e,t,n)=>{n.r(t),n.d(t,{default:()=>h});var i=n(35143),o=n(69539),a=n(54901),l=n(56002),r=n(68134),s=n(46053),u=(n(81806),n(76460),n(47249),n(85842)),p=n(18722),v=n(12482),c=n(84174);let d=class extends c.default{constructor(e){super(e),this.type="input",this.color=new o.default("#00c8c8"),this.viewVisualizationEnabled=!1,this.numSamplesForPreview=50,this.numSamplesPerChunk=500,this.chartFillEnabled=!1,this.chartStrokeOffsetY=-1,this._getQueryElevationDependencies=(0,l.B)(((e,t,n,i,o)=>e?{elevationInfo:e,visibleLayers:t,view:n,stationary:i,spatialReference:o}:null))}get queryElevationDependencies(){const e=this._viewModel?.view;return null==e?null:this._getQueryElevationDependencies(this._elevationInfo,this._visibleLayers,e,e.stationary,e.spatialReference)}get available(){return!this._viewModel?.inputIsSketched}get _elevationInfo(){const e=this._viewModel?.input;return e?(0,v.bh)(e):null}get _visibleLayers(){return this._viewModel?.view?.map?.allLayers?.filter((e=>e.visible)).toArray()??[]}async queryElevation(e,t){let{noDataValue:n,signal:i}=t;const o=this.queryElevationDependencies;if(null==o)throw new Error("ElevationProfileLineInput: no dependencies");const{view:a,elevationInfo:l,spatialReference:r}=o;if("on-the-ground"===l.mode&&"3d"===a.type&&r){const t=await p.GeometryDescriptor.fromGeometry(e).project(r,i);if(!t)return{geometry:e,noDataValue:n};const o=a.elevationProvider;return t.coordinates.forEach((e=>{e.z=o.getElevation(e.x,e.y,0,r,"ground")??0})),{geometry:t.export(),noDataValue:n}}return{geometry:e,noDataValue:n}}attach(e){const t=()=>this._onChange();return(0,a.vE)([super.attach(e),(0,r.watch)((()=>this.queryElevationDependencies),t),(0,r.on)((()=>e.elevationProvider),"elevation-change",t,{onListenerAdd:t,onListenerRemove:t})])}};(0,i._)([(0,s.MZ)({type:o.default,nonNullable:!0})],d.prototype,"color",void 0),(0,i._)([(0,s.MZ)()],d.prototype,"viewVisualizationEnabled",void 0),(0,i._)([(0,s.MZ)()],d.prototype,"queryElevationDependencies",null),(0,i._)([(0,s.MZ)()],d.prototype,"available",null),(0,i._)([(0,s.MZ)()],d.prototype,"_elevationInfo",null),(0,i._)([(0,s.MZ)()],d.prototype,"_visibleLayers",null),d=(0,i._)([(0,u.$)("esri.widgets.ElevationProfile.ElevationProfileLineInput")],d);const h=d}}]);
//# sourceMappingURL=47609.0106e20c.chunk.js.map