"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[90017],{90017:(e,t,r)=>{r.r(t),r.d(t,{post:()=>h,serverVersionCacheMap:()=>v});var s=r(3825),n=r(50076),o=r(54994),i=r(94487),a=r(35143),u=r(42553),p=r(46053),c=(r(81806),r(76460),r(47249),r(85842));let l=class extends u.A{constructor(e){super(e),this.moment=null,this.success=!1}};(0,a._)([(0,p.MZ)({type:Date,json:{type:Number,write:{writer:(e,t)=>{t.moment=e?e.getTime():null}}}})],l.prototype,"moment",void 0),(0,a._)([(0,p.MZ)({type:Boolean,json:{write:!0}})],l.prototype,"success",void 0),l=(0,a._)([(0,c.$)("esri.rest.versionManagement.gdbVersion.support.PostResult")],l);const f=l,v=new Map;async function h(e,t,r,a){v.has(e)||await(0,i.t)(v,e);const u=v.get(e);if((u?.serverVersion??0)<=11.1)throw new n.default("post:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");if(!t)throw new n.default("post:missing-guid","guid for version is missing");const p=(0,o.Dl)(e),c=r.toJSON();r.rows&&(c.rows=JSON.stringify(r.rows));const l=(0,o.jV)(p.query,{query:(0,o.lF)({...c,f:"json"}),...a,method:"post"});t.startsWith("{")&&(t=t.slice(1,-1));const h=`${p.path}/versions/${t}/post`,{data:m}=await(0,s.default)(h,l);return f.fromJSON(m)}},94487:(e,t,r)=>{r.d(t,{t:()=>n});var s=r(3825);async function n(e,t){let r=null;const n="string"==typeof t?t:t.path;if(!e.has(n)){const o=await(0,s.default)(n.replace(/\/VersionManagementServer/i,"/FeatureServer"),{query:{f:"json"}});r={serverVersion:Number(o.data.currentVersion),featureServerUrl:n.replace(/\/VersionManagementServer/i,"/FeatureServer")},e.set(t,r)}}}}]);
//# sourceMappingURL=90017.772d4593.chunk.js.map