"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[5508,14926,37073,37095,42951,49323,60010,60053],{5508:(e,t,i)=>{i.r(t),i.d(t,{default:()=>a});var n=i(35143),o=i(42553),r=i(46053),l=(i(81806),i(76460),i(47249),i(85842));let s=class extends o.A{constructor(e){super(e),this.autoWidth=!1,this.description=null,this.direction=null,this.flexGrow=1,this.fieldName=null,this.formatFunction=null,this.frozen=!1,this.frozenToEnd=!1,this.icon=null,this.iconText=null,this.initialSortPriority=null,this.invalid=!1,this.label=null,this.menuConfig=null,this.resizable=!0,this.sortable=!1,this.textAlign="start",this.textWrap=!1,this.timeZone=null,this.type=null,this.visible=!0,this.width=200}};(0,n._)([(0,r.MZ)()],s.prototype,"autoWidth",void 0),(0,n._)([(0,r.MZ)()],s.prototype,"description",void 0),(0,n._)([(0,r.MZ)()],s.prototype,"direction",void 0),(0,n._)([(0,r.MZ)()],s.prototype,"flexGrow",void 0),(0,n._)([(0,r.MZ)({type:String})],s.prototype,"fieldName",void 0),(0,n._)([(0,r.MZ)()],s.prototype,"formatFunction",void 0),(0,n._)([(0,r.MZ)()],s.prototype,"frozen",void 0),(0,n._)([(0,r.MZ)()],s.prototype,"frozenToEnd",void 0),(0,n._)([(0,r.MZ)()],s.prototype,"icon",void 0),(0,n._)([(0,r.MZ)()],s.prototype,"iconText",void 0),(0,n._)([(0,r.MZ)()],s.prototype,"initialSortPriority",void 0),(0,n._)([(0,r.MZ)()],s.prototype,"invalid",void 0),(0,n._)([(0,r.MZ)()],s.prototype,"label",void 0),(0,n._)([(0,r.MZ)()],s.prototype,"menuConfig",void 0),(0,n._)([(0,r.MZ)()],s.prototype,"resizable",void 0),(0,n._)([(0,r.MZ)()],s.prototype,"sortable",void 0),(0,n._)([(0,r.MZ)()],s.prototype,"textAlign",void 0),(0,n._)([(0,r.MZ)()],s.prototype,"textWrap",void 0),(0,n._)([(0,r.MZ)()],s.prototype,"timeZone",void 0),(0,n._)([(0,r.MZ)({type:String,json:{read:!1,write:!0}})],s.prototype,"type",void 0),(0,n._)([(0,r.MZ)()],s.prototype,"visible",void 0),(0,n._)([(0,r.MZ)()],s.prototype,"width",void 0),s=(0,n._)([(0,l.$)("esri.widgets.FeatureTable.support.ColumnTemplateBase")],s);const a=s},14926:(e,t,i)=>{i.r(t),i.d(t,{default:()=>h});var n=i(35143),o=i(76460),r=i(46053),l=i(21403),s=(i(81806),i(47249),i(85842)),a=i(42951),p=i(60053),d=i(5508),u=i(47254),c=i(37073),f=i(49323);let m=class extends d.default{constructor(e){super(e),this.columnTemplates=null,this.type="group"}castColumnTemplates(e){if(!e||!Array.isArray(e))return[];const t=[];return e.forEach((e=>{if(e instanceof c.default||e instanceof p.default||e instanceof a.default||e instanceof f.default)t.push(e);else if((0,u.CE)(e)){const i=e.type;"field"===i?t.push(new c.default(e)):"group"===i?o.A.getLogger(this).warn("A GroupColumnTemplate cannot contain other GroupColumn templates. Template removed from 'GroupColumnTemplate.columnTemplates'."):"column"===i?t.push(new p.default(e)):"attachment"===i?t.push(new a.default(e)):"relationship"===i&&t.push(new f.default(e))}else o.A.getLogger(this).warn("Property 'type' is missing from the provided template. Template removed from 'tableTemplate.columnTemplates'.")})),t}};(0,n._)([(0,r.MZ)({json:{write:!0}})],m.prototype,"columnTemplates",void 0),(0,n._)([(0,l.w)("columnTemplates")],m.prototype,"castColumnTemplates",null),(0,n._)([(0,r.MZ)({type:String,json:{read:!1,write:!0}})],m.prototype,"type",void 0),m=(0,n._)([(0,s.$)("esri.widgets.FeatureTable.support.GroupColumnTemplate")],m);const h=m},37073:(e,t,i)=>{i.r(t),i.d(t,{default:()=>d});var n=i(35143),o=i(46053),r=(i(81806),i(76460),i(47249),i(85842)),l=i(76866),s=i(5508),a=i(90184);let p=class extends((0,a.g)(s.default)){constructor(e){super(e),this.domain=null,this.editableExpression=null,this.format=null,this.formatFunction=null,this.requiredExpression=null,this.sortable=!0,this.type="field",this.valueExpression=null,this.visibilityExpression=null}};(0,n._)([(0,o.MZ)({types:l.gK,json:{read:{reader:l.rS},write:!0}})],p.prototype,"domain",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}}),(0,o.MZ)()],p.prototype,"editableExpression",void 0),(0,n._)([(0,o.MZ)()],p.prototype,"format",void 0),(0,n._)([(0,o.MZ)()],p.prototype,"formatFunction",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],p.prototype,"requiredExpression",void 0),(0,n._)([(0,o.MZ)()],p.prototype,"sortable",void 0),(0,n._)([(0,o.MZ)({type:String,json:{read:!1,write:!0}})],p.prototype,"type",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],p.prototype,"valueExpression",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],p.prototype,"visibilityExpression",void 0),p=(0,n._)([(0,r.$)("esri.widgets.FeatureTable.support.FieldColumnTemplate")],p);const d=p},37095:(e,t,i)=>{i.r(t),i.d(t,{default:()=>v});var n,o=i(35143),r=i(42553),l=i(53084),s=i(76460),a=i(46053),p=i(21403),d=i(85842),u=i(42951),c=i(60053),f=i(47254),m=i(37073),h=i(14926),y=i(49323);let b=n=class extends r.A{constructor(e){super(e),this.columnTemplates=[]}castColumnTemplates(e){if(!e||!Array.isArray(e))return[];const t=[];return e.forEach((e=>{if(e instanceof m.default||e instanceof h.default||e instanceof c.default||e instanceof u.default||e instanceof y.default)t.push(e);else if((0,f.CE)(e)){const i=e.type;"field"===i?t.push(new m.default(e)):"group"===i?t.push(new h.default(e)):"column"===i?t.push(new c.default(e)):"attachment"===i?t.push(new u.default(e)):"relationship"===i&&t.push(new y.default(e))}else s.A.getLogger(this).warn("Property 'type' is missing from the provided template. Template removed from 'tableTemplate.columnTemplates'.")})),t}clone(){return new n({columnTemplates:(0,l.clone)(this.columnTemplates)})}};(0,o._)([(0,a.MZ)()],b.prototype,"columnTemplates",void 0),(0,o._)([(0,p.w)("columnTemplates")],b.prototype,"castColumnTemplates",null),b=n=(0,o._)([(0,d.$)("esri.widgets.FeatureTable.support.TableTemplate")],b);const v=b},42951:(e,t,i)=>{i.r(t),i.d(t,{default:()=>a});var n=i(35143),o=i(46053),r=(i(81806),i(76460),i(47249),i(85842)),l=i(5508);let s=class extends l.default{constructor(e){super(e),this.attachmentsViewEnabled=!0,this.icon="attachment",this.sortable=!1,this.textAlign="center",this.thumbnailAppearance="image",this.thumbnailCount=8,this.thumbnailsEnabled=!0,this.thumbnailIconScale="m",this.type="attachment"}};(0,n._)([(0,o.MZ)()],s.prototype,"attachmentsViewEnabled",void 0),(0,n._)([(0,o.MZ)()],s.prototype,"icon",void 0),(0,n._)([(0,o.MZ)()],s.prototype,"sortable",void 0),(0,n._)([(0,o.MZ)()],s.prototype,"textAlign",void 0),(0,n._)([(0,o.MZ)()],s.prototype,"thumbnailAppearance",void 0),(0,n._)([(0,o.MZ)()],s.prototype,"thumbnailCount",void 0),(0,n._)([(0,o.MZ)()],s.prototype,"thumbnailsEnabled",void 0),(0,n._)([(0,o.MZ)()],s.prototype,"thumbnailIconScale",void 0),(0,n._)([(0,o.MZ)({type:String,json:{read:!1,write:!0}})],s.prototype,"type",void 0),s=(0,n._)([(0,r.$)("esri.widgets.FeatureTable.support.AttachmentsColumnTemplate")],s);const a=s},47254:(e,t,i)=>{function n(e){return null!=e&&"object"==typeof e&&"type"in e&&null!==e.type&&("column"===e.type||"field"===e.type||"group"===e.type||"attachment"===e.type||"relationship"===e.type)}function o(e){return!(!e||!("field"in e))}function r(e){return!(!e||!("columns"in e))}function l(e){return!(!e||!("relationshipId"in e))}function s(e){return!(!e||!("onShowAttachments"in e))}i.d(t,{CE:()=>n,DU:()=>s,Ie:()=>r,JY:()=>o,Lv:()=>l})},49323:(e,t,i)=>{i.r(t),i.d(t,{default:()=>a});var n=i(35143),o=i(46053),r=(i(81806),i(76460),i(47249),i(85842)),l=i(5508);let s=class extends l.default{constructor(e){super(e),this.collapsed=!1,this.icon="link",this.relationshipId=null,this.sortable=!1,this.textAlign="center",this.type="relationship"}};(0,n._)([(0,o.MZ)()],s.prototype,"collapsed",void 0),(0,n._)([(0,o.MZ)()],s.prototype,"icon",void 0),(0,n._)([(0,o.MZ)()],s.prototype,"relationshipId",void 0),(0,n._)([(0,o.MZ)()],s.prototype,"sortable",void 0),(0,n._)([(0,o.MZ)()],s.prototype,"textAlign",void 0),(0,n._)([(0,o.MZ)({type:String,json:{read:!1,write:!0}})],s.prototype,"type",void 0),s=(0,n._)([(0,r.$)("esri.widgets.FeatureTable.support.RelationshipColumnTemplate")],s);const a=s},54362:(e,t,i)=>{i.d(t,{Ko:()=>h,Q2:()=>f});var n=i(18690),o=i(8903),r=i(99458),l=i(49635),s=i(9742),a=i(42951),p=i(47254),d=i(37073),u=i(14926),c=i(49323);function f(e,t){const i=[];return e?.forEach((e=>{const{description:o,label:r,type:l}=e;if("group"===l){const l=e.elements.map((e=>m(e,t))).filter(n.Ru);if(!l?.length)return;i.push(new u.default({description:o,columnTemplates:l,label:r}))}else{const n=m(e,t);if(!n)return;i.push(n)}})),i}function m(e,t){const{description:i,label:n,type:o}=e;if("field"===o){const o=e.fieldName??void 0,r=t.findIndex((e=>e.field&&e.field===o)),l=r>-1?t.at(r)?.order:void 0;return new d.default({description:i,direction:l,fieldName:o,initialSortPriority:r,label:n})}return"attachment"===o?new a.default({description:i,label:n}):"relationship"===o?new c.default({description:i,label:n,relationshipId:e.relationshipId}):void 0}function h(e){const t=[];return e.forEach((e=>{const{description:i,label:o,hidden:r}=e;if((0,p.Ie)(e)){if(r)return;const s=e.columns?.map((e=>y(e))).filter(n.Ru);if(!s?.length)return;t.push(new l.default({description:i,elements:s,label:o}))}else{const i=y(e);if(!i)return;t.push(i)}})),t}function y(e){const{fieldName:t,description:i,hidden:n,label:l}=e;if((0,p.JY)(e)){if(!n)return new r.default({description:i,fieldName:t,label:l})}else if((0,p.Lv)(e)){if(!n)return new s.default({description:i,label:l,relationshipId:e.relationshipId})}else if((0,p.DU)(e)&&!n)return new o.default({description:i,label:l})}},60010:(e,t,i)=>{i.r(t),i.d(t,{createDefaultAttributeTableTemplateFromLayer:()=>h,createDefaultTableTemplateFromLayer:()=>y,createTableTemplateFromAttributeTableTemplate:()=>b,syncAttributeTableTemplate:()=>m});var n=i(30973),o=i(13380),r=i(8903),l=i(99458),s=i(9742),a=i(42951),p=i(37073),d=i(49323),u=i(37095),c=i(78984),f=i(54362);function m(e,t){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const{allColumns:n,columns:o}=e,r=[],l=(0,f.Ko)(o.toArray());return e.activeSortOrders.forEach((e=>{let{fieldName:t,direction:i}=e;t&&i&&r.push({field:t,order:i})})),n.filter((e=>null!=e.direction&&(!e.hidden||i))).forEach((e=>{let{fieldName:t,direction:i}=e;const n=r.find((e=>e.field===t));i&&!n&&r.push({field:t,order:i})})),t.elements=l,t.orderByFields=r,t}async function h(e){const{excludeAttachments:t,excludeRelationships:i,layer:a,excludedFieldTypesOverride:p}=e,d=[];a||Promise.resolve(new o.default),await a.load();const u=(0,n.createFieldInfos)(a,{...p&&{ignoreFieldTypes:p},sortDisabled:!0});for(const{visible:n,fieldName:o,label:r}of u)n&&d.push(new l.default({fieldName:o,label:r}));return(0,c.d0)(a)&&!0!==t&&d.push(new r.default),(0,c.A5)(a)&&!0!==i&&a.relationships?.forEach((e=>{d.push(new s.default({relationshipId:e.id,label:e.name}))})),new o.default({elements:d,orderByFields:[]})}async function y(e){const{excludeAttachments:t,excludeRelationships:i,layer:o,excludedFieldTypesOverride:r}=e,l=[];return await o.load(),(0,n.createFieldInfos)(o,{...r&&{ignoreFieldTypes:r},sortDisabled:!0}).forEach((e=>{let{fieldName:t,format:i,label:n,visible:o}=e;null!=t&&l.push(new p.default({fieldName:t,format:i,label:n,visible:o}))})),(0,c.d0)(o)&&!0!==t&&l.push(new a.default),(0,c.A5)(o)&&!0!==i&&o.relationships?.forEach((e=>{let{id:t}=e;l.push(new d.default({relationshipId:t}))})),new u.default({columnTemplates:l})}async function b(e){const{layer:t,template:i,includeHiddenFields:o,excludedFieldTypesOverride:r}=e,l=i.orderByFields??[],s=(0,f.Q2)(i.elements,l);return o&&(await t.load(),(0,n.createFieldInfos)(t,{...r&&{ignoreFieldTypes:r},sortDisabled:!0}).forEach((e=>{if(!e.fieldName)return;const{fieldName:t,label:i}=e;if(!(0,c.YX)(t,s)){const e=l.findIndex((e=>e.field&&e.field===t)),n=e>-1?l.at(e)?.order:void 0;s.push(new p.default({direction:n,fieldName:t,initialSortPriority:e,label:i,visible:!1}))}})),(0,c.d0)(t)&&!s.some((e=>"attachment"===e.type))&&s.push(new a.default({visible:!1})),(0,c.A5)(t)&&t.relationships?.forEach((e=>{let{id:t}=e;s.some((e=>"relationship"===e.type&&e.relationshipId===t))||s.push(new d.default({relationshipId:t,visible:!1}))}))),new u.default({columnTemplates:s})}},60053:(e,t,i)=>{i.r(t),i.d(t,{default:()=>p});var n=i(35143),o=i(46053),r=(i(81806),i(76460),i(47249),i(85842)),l=i(5508),s=i(90184);let a=class extends((0,s.g)(l.default)){constructor(e){super(e),this.type="column"}};(0,n._)([(0,o.MZ)({type:String,json:{read:!1,write:!0}})],a.prototype,"type",void 0),a=(0,n._)([(0,r.$)("esri.widgets.FeatureTable.support.ColumnTemplate")],a);const p=a},78984:(e,t,i)=>{i.d(t,{$m:()=>y,A5:()=>u,Dv:()=>b,Gx:()=>Z,He:()=>p,Kc:()=>v,TV:()=>m,UI:()=>w,YX:()=>T,aq:()=>g,cS:()=>f,d0:()=>a,hg:()=>s,iH:()=>_,k$:()=>r,pJ:()=>c,sR:()=>h,xf:()=>d,zz:()=>l});var n=i(47254),o=i(94126);const r={action:"EsriFeatureTableActionColumn",attachments:"EsriFeatureTableAttachmentsColumn",relationship:"EsriFeatureTableRelationshipColumn"},l=()=>Promise.all([(0,o.W)({"action-bar":()=>Promise.resolve().then(i.bind(i,143))}),Promise.all([(0,o.W)({input:()=>Promise.resolve().then(i.bind(i,38841)),option:()=>i.e(46422).then(i.bind(i,46422)),select:()=>i.e(2253).then(i.bind(i,2253)),"input-date-picker":()=>i.e(40240).then(i.bind(i,40240)),"input-time-picker":()=>i.e(59971).then(i.bind(i,59971))}),(0,o.W)({action:()=>Promise.resolve().then(i.bind(i,85375)),button:()=>Promise.resolve().then(i.bind(i,43285)),dropdown:()=>Promise.resolve().then(i.bind(i,24482)),"dropdown-item":()=>Promise.resolve().then(i.bind(i,84660)),"dropdown-group":()=>Promise.resolve().then(i.bind(i,5368)),icon:()=>Promise.resolve().then(i.bind(i,16702))})])]);function s(e){return null!=e&&"object"==typeof e&&"createQuery"in e&&"getField"in e&&"queryFeatureCount"in e&&"queryFeatures"in e&&"queryObjectIds"in e&&"capabilities"in e&&"fields"in e&&"fieldsIndex"in e&&"id"in e&&"load"in e&&"objectIdField"in e&&"type"in e&&"when"in e}function a(e){return s(e)&&"queryAttachments"in e}function p(e){return a(e)&&"addAttachment"in e&&"deleteAttachments"in e&&"updateAttachment"in e}function d(e){return s(e)&&"editingEnabled"in e&&"applyEdits"in e}function u(e){return s(e)&&"relationships"in e&&"queryRelatedFeatures"in e&&"queryRelatedFeaturesCount"in e}function c(e){return null!=e&&"object"==typeof e&&"type"in e&&"map-image"===e.type}function f(e,t,i){if(t?.map)return m(e,[...t.map.allLayers,...t.map.allTables],i)}function m(e,t,i){let{relatedTableId:n}=i;const o="scene"===e.type&&e.associatedLayer?e.associatedLayer.url:e.url,r=t=>!(!u(t)||t===e)&&("sublayer"===t.type&&t.layer?.url===e.url?t.id===n:o===t.url&&t.layerId===n);if("sublayer"===e.type&&c(e.parent)){const t=t=>u(t)&&t!==e&&t.id===n,i=e.parent,o=i.sublayers?.find(t)||i.subtables?.find(t);if(u(o))return o}let l=null;for(const s of t)if(c(s)){const e=s.sublayers?.find(r)||s.subtables?.find(r);if(e){l=e;break}}else if(r(s)){l=s;break}if(u(l))return l}function h(e,t){return null!=e&&Number.isInteger(e)&&e>-1&&e<t}function y(e){return null==e||0===e.trim().length}function b(e,t){return(e.relationships??[]).filter((e=>!(e.id===t&&"one-to-one"===e.cardinality))).map((e=>{let{id:t}=e;return{relationshipId:t}}))}function v(e,t){return e.relationships?.find((e=>{let{id:i}=e;return i===t}))}function w(e,t){return null==t?null:e?.fields?.find((e=>t.toLowerCase()===e.name?.toLowerCase()))}function T(e,t){return t.some((t=>!("group"!==t.type||!T(e,t.columnTemplates))||t.fieldName===e))}function g(e,t){return t?.some((t=>!(!(0,n.Ie)(t)||!g(e,t.columns))||t.fieldName===e))??!1}function _(e,t){return`${e.id}-${t}`}function Z(e){return e.isTable?"table":"feature"===e.type?"feature-layer":"layer"}},90184:(e,t,i)=>{i.d(t,{g:()=>s});var n=i(35143),o=i(46053),r=(i(81806),i(76460),i(47249),i(85842)),l=i(90904);const s=e=>{let t=class extends e{constructor(){super(...arguments),this.editable=!0,this.hint=null,this.input=null,this.required=!1}};return(0,n._)([(0,o.MZ)({type:Boolean,json:{write:!0}})],t.prototype,"editable",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],t.prototype,"hint",void 0),(0,n._)([(0,o.MZ)({types:l.types,json:{read:{source:"inputType"},write:{target:"inputType"}}})],t.prototype,"input",void 0),(0,n._)([(0,o.MZ)()],t.prototype,"required",void 0),t=(0,n._)([(0,r.$)("esri.widgets.FeatureTable.support.EditableColumnTemplateMixin")],t),t}}}]);
//# sourceMappingURL=60010.4edc1e2e.chunk.js.map