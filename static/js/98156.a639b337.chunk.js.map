{"version":3,"file":"static/js/98156.a639b337.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/support/timeUtils.js","../node_modules/@arcgis/core/webscene/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../core/arrayUtils.js\";import{clone as e}from\"../core/lang.js\";import{offsetDate as n}from\"../core/timeUtils.js\";import i from\"../time/TimeExtent.js\";import{isWebMap as r}from\"../webmap/utils.js\";import{isWebScene as l}from\"../webscene/utils.js\";function s(t){return void 0!==t.timeInfo}async function u(t,e){return t.widgets?.timeSlider?.fullTimeExtent??a(t.allLayers,e)}function o(t){const e=t.numThumbs??2,n=t.currentTimeExtent;if(n){const{start:t,end:i}=n;return null!=t&&null!=i&&t.getTime()===i.getTime()?\"instant\":2===e?\"time-window\":null==t||0===t.getTime()?\"cumulative-from-start\":\"cumulative-from-end\"}return 2===e?\"time-window\":\"cumulative-from-start\"}function m(t){const{numStops:n,stopInterval:i,stops:r}=t;return r?{dates:e(r)}:i?{interval:i.clone()}:{count:n??5}}async function a(e,n){if(0===e.length)return i.allTime;await Promise.all(e.map((t=>t.load({signal:n}))));const r=e.filter(s),l=e.filter((t=>!s(t)&&null!=t.visibilityTimeExtent));if(0===r.length&&0===l.length)return i.allTime;const u=[],o=[];for(const t of r)\"feature\"!==t?.type&&\"map-image\"!==t?.type||!t.timeInfo?.hasLiveData?o.push(t):u.push(t);const m=t=>null==t||t.isAllTime,a=[...o.map((t=>{const e=t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:n}=t;return e?.intersection(n)??n})),...l.map((t=>t.visibilityTimeExtent))];if(a.some(m))return i.allTime;const f=u.map((async t=>{const e=(await t.fetchRecomputedExtents({signal:n}))?.timeExtent??t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:i}=t;return e?.intersection(i)??i})),c=(await Promise.allSettled(f)).map((t=>\"fulfilled\"===t.status?t.value:null));if(c.some(m))return i.allTime;const d=[...c,...a].filter(t);if(0===d.length)return i.allTime;return d.reduce(((t,e)=>t.union(e)))}function f(t,e){const n=t.currentTimeExtent;if(!n)return null;const{start:r,end:l}=n,s=r??l??null;switch(e){case\"time-window\":return new i({start:r,end:l});case\"cumulative-from-start\":return new i({start:null,end:s});case\"cumulative-from-end\":return new i({start:s,end:null});case\"instant\":return new i({start:s,end:s})}}async function c(t,e){if(!r(t)&&!l(t))return null;await t.load({signal:e});const n=t?.widgets?.timeSlider;if(!n)return null;const i=await u(t,e),s=n.loop,a=o(n);return{fullTimeExtent:i,loop:s,mode:a,playRate:n.stopDelay??2e3,stops:m(n),timeExtent:f(n,a)}}function d(t){if(!t)return t;const{start:e,end:r}=t;return new i({start:null!=e?n(e,-e.getTimezoneOffset(),\"minutes\"):e,end:null!=r?n(r,-r.getTimezoneOffset(),\"minutes\"):r})}function p(t){if(!t)return t;const{start:e,end:r}=t;return new i({start:null!=e?n(e,e.getTimezoneOffset(),\"minutes\"):e,end:null!=r?n(r,r.getTimezoneOffset(),\"minutes\"):r})}export{a as getTimeExtentFromLayers,c as getTimeSliderSettingsFromWebDocument,p as toLocalTimeExtent,d as toUTCTimeExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{WebSceneTag as o}from\"../support/tagSymbols.js\";function t(t){return null!=t&&\"object\"==typeof t&&o in t}export{t as isWebScene};\n"],"names":["s","t","timeInfo","async","u","e","widgets","timeSlider","fullTimeExtent","a","allLayers","m","numStops","n","stopInterval","i","stops","r","dates","interval","clone","count","length","allTime","Promise","all","map","load","signal","filter","l","visibilityTimeExtent","o","type","hasLiveData","push","isAllTime","intersection","some","f","fetchRecomputedExtents","timeExtent","c","allSettled","status","value","d","reduce","union","currentTimeExtent","start","end","loop","numThumbs","getTime","mode","playRate","stopDelay","getTimezoneOffset","p"],"sourceRoot":""}