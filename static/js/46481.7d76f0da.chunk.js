"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[46481],{46481:(i,e,s)=>{s.r(e),s.d(e,{default:()=>f});var a=s(50076),t=s(53430),r=s(28383),n=s(90494),l=s(42633),o=s(11563);const p=[...t.numericTypes,...l.i3,"time-only","string"];async function f(i){const{layerAdapter:e,...s}=await async function(i){if(!i?.layer||!(i.field||i.valueExpression||i.sqlExpression))throw new a.default("summary-statistics:missing-parameters","'layer' and 'field', 'valueExpression' or 'sqlExpression' parameters are required");if(i.valueExpression&&!i.sqlExpression&&!i.view)throw new a.default("summary-statistics:missing-parameters","View is required when 'valueExpression' is specified");i.forBinning&&(0,n.p)(i,"summary-statistics");const{layer:e,...s}=i,f=i.forBinning?o.Mi:o.G3,m=(0,o.Jg)(e,f,i.forBinning);if(!m)throw new a.default("summary-statistics:invalid-parameters","'layer' must be one of these types: "+(0,o.Ho)(f).join(", "));const u={layerAdapter:m,...s};u.normalizationType=(0,l.Wy)(u);const d=null!=u.signal?{signal:u.signal}:null;await m.load(d);const w=u.field,c=u.normalizationType,y=u.valueExpression||u.sqlExpression,v=w?m.getField(w):null,h=await(0,l.EG)({field:u.field,normalizationField:u.normalizationField,valueExpression:u.valueExpression}),g=(0,r.MH)(m,h,"summary-statistics:invalid-parameters");if(g)throw g;if(v){const i=(0,r.a)(m,v,"summary-statistics:invalid-parameters",p);if(i)throw i;if(((0,l.fs)(v)||(0,t.isTimeOnlyField)(v))&&c)throw new a.default("summary-statistics:invalid-parameters","Normalization is not allowed for date fields")}else if(y&&c)throw new a.default("summary-statistics:invalid-parameters","Normalization is not allowed when 'valueExpression' or 'sqlExpression' is specified");u.filter&&!u.filter.spatialRelationship&&(u.filter.spatialRelationship="intersects");const E=(0,r.Wk)(u.filter,"summary-statistics:invalid-parameters");if(E)throw E;return u}(i);return e.summaryStatistics(s)}},90494:(i,e,s)=>{s.d(e,{p:()=>r,z:()=>t});var a=s(50076);const t="aggregateCount";function r(i,e){if(!i.view)throw new a.default(`${e}:missing-parameters`,"'view' parameter is required for binning");if(i.sqlExpression)throw new a.default(`${e}:invalid-parameters`,"'sqlExpression' parameter is not supported for binning");if("3d"===i.view.type)throw new a.default(`${e}:invalid-parameters`,"3d view is not supported for binning")}}}]);
//# sourceMappingURL=46481.7d76f0da.chunk.js.map