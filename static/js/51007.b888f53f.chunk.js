"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[3620,51007,88084],{1052:(e,t,i)=>{i.d(t,{A:()=>c});var r=i(35143),s=i(39356),n=i(91967),a=i(68134),o=i(46053),l=(i(81806),i(76460),i(47249),i(85842)),u=i(9912);let d=class extends n.default{constructor(e){super(e),this._loadingPromise=null,this.created=null,this.creator=null,this.destroyer=null,this.graphic=null,this.addHandles((0,a.watch)((()=>this.creator),(e=>{this._destroyContent(),this._createContent(e)}),a.initial))}destroy(){this._destroyContent()}get state(){return this._loadingPromise?"loading":"ready"}_destroyContent(){const{created:e,graphic:t,destroyer:i}=this;e&&t&&((0,u.graphicCallback)({type:"content",value:i,event:{graphic:t}}),this._set("created",null))}async _createContent(e){const t=this.graphic;if(!t||!e)return;const i=(0,u.graphicCallback)({type:"content",value:e,event:{graphic:t}});this._loadingPromise=i,this.notifyChange("state");const r=await i;i===this._loadingPromise&&(this._loadingPromise=null,this.notifyChange("state"),this._set("created",r))}};(0,r._)([(0,o.MZ)({readOnly:!0})],d.prototype,"created",void 0),(0,r._)([(0,o.MZ)()],d.prototype,"creator",void 0),(0,r._)([(0,o.MZ)()],d.prototype,"destroyer",void 0),(0,r._)([(0,o.MZ)({type:s.default})],d.prototype,"graphic",void 0),(0,r._)([(0,o.MZ)({readOnly:!0})],d.prototype,"state",null),d=(0,r._)([(0,l.$)("esri.widgets.Feature.FeatureContent.FeatureContentViewModel")],d);const c=d},12744:(e,t,i)=>{i.d(t,{Wo:()=>f,lO:()=>m,lw:()=>d,vc:()=>u});var r=i(64379),s=i(76460),n=i(30907),a=i(9912),o=i(98108);const l=()=>s.A.getLogger("esri.widgets.Feature.support.arcadeFeatureUtils");function u(e){return"string"==typeof e?(0,a.applyTextFormattingHTML)((0,a.htmlEntities)(e)):Array.isArray(e)?function(e){return`<ul class="esri-widget__list">${e.map((e=>`<li>${"string"==typeof e?(0,a.applyTextFormattingHTML)((0,a.htmlEntities)(e)):e}</li>`)).join("")}</ul>`}(e):"esri.arcade.Dictionary"===e?.declaredClass?function(e){const t=e.keys().map((t=>{const i=e.field(t);return`<tr><th>${t}</th><td>${"string"==typeof i?(0,a.applyTextFormattingHTML)((0,a.htmlEntities)(i)):i}</td></tr>`})).join("");return`<table class="${o.D.table}">${t}</table>`}(e):e}async function d(){const[e,t]=await Promise.all([i.e(8169).then(i.bind(i,30550)),Promise.all([i.e(98683),i.e(43036),i.e(69175),i.e(30233)]).then(i.bind(i,30233))]);return{executor:e,syntaxUtils:t}}function c(e){return{scale:e?.scale,timeProperties:{currentStart:e?.timeExtent?.start,currentEnd:e?.timeExtent?.end,startIncluded:!0,endIncluded:!0}}}function p(e){return{$voxel:e}}async function h(e,t,i,r,s){let a=null;if(s.has("$aggregatedfeatures")){const s=await async function(e){let{graphic:t,view:i,options:r}=e;const{isAggregate:s,layer:n}=t;if(!s||!n||"2d"!==i?.type)return[];const a=await i.whenLayerView(n);if(!function(e){return"createQuery"in e&&"queryFeatures"in e}(a))return[];const o=a.createQuery(),l=t.getObjectId();o.aggregateIds=null!=l?[l]:[];const{features:u}=await a.queryFeatures(o,r);return u}({graphic:e,view:t,options:i}),o=e.sourceLayer||e.layer;a=function(e){let{layer:t,aggregatedFeatures:i,interceptor:r}=e;const{fields:s,objectIdField:a,geometryType:o,spatialReference:l,displayField:u}=t;return new n.default({fields:s,objectIdField:a,geometryType:o,spatialReference:l,displayField:u,interceptor:r,..."feature"===t.type?{templates:t.templates,typeIdField:t.typeIdField,types:t.types}:null,source:i})}({layer:o,aggregatedFeatures:s,interceptor:r})}return{vars:{$feature:e,$aggregatedFeatures:a,$view:c(t)},[Symbol.dispose]:()=>a?.[Symbol.dispose]()}}function y(e,t,i,s){const n=(e.sourceLayer||e.layer)??void 0;return{$feature:e,$layer:null!=n&&(0,r.eB)(n)?n:"scene"===n?.type&&null!=n.associatedLayer?n.associatedLayer:void 0,$map:t,$datastore:n?.url,$userInput:i,$graph:"knowledge-graph-sublayer"===n?.type?n?.parentCompositeLayer?.knowledgeGraph:void 0,$view:c(s)}}async function f(e){let{expressionInfo:t,arcade:{executor:i,syntaxUtils:r},graphic:s}=e;const n=t?.expression;if(!n)return null;const a=function(e){const t="esri.views.3d.layers.VoxelGraphic"===e.declaredClass;return e.isAggregate?"popup-feature-reduction":t?"popup-voxel":"popup"}(s),o=i.createArcadeProfile(a);let u;try{u=await i.createArcadeExecutor(n,o)}catch(c){return l().error("arcade-executor-error",{error:c,expressionInfo:t}),null}const d=new Set;return u.variablesUsed.includes("$view")&&(r.scriptUsesViewProperties(u.syntaxTree,["scale"])&&d.add("view-scale"),r.scriptUsesViewProperties(u.syntaxTree,["timeProperties"])&&d.add("view-time-extent")),{dependencies:d,async evaluate(e){let{graphic:i,interceptor:r,location:s,map:n,options:o,spatialReference:d,view:f}=e;const m=await async function(e,t){let{graphic:i,map:r,location:s,view:n,options:a,interceptor:o,arcadeExecutor:l}=t;switch(e){case"popup":return{vars:y(i,r,s,n),[Symbol.dispose](){}};case"popup-feature-reduction":{const e=new Set(l.variablesUsed);return await h(i,n,a,o,e)}case"popup-voxel":return{vars:p(i),[Symbol.dispose](){}};default:throw new Error(`Unexpected profile name ${e}`)}}(a,{graphic:i,map:n,location:s,view:f,options:o,interceptor:r,arcadeExecutor:u}),g={abortSignal:o?.signal??void 0,interceptor:r??void 0,rawOutput:!0,spatialReference:d??void 0,timeZone:f?.timeZone,console(){l().info(...arguments)}};try{return await u.executeAsync(m.vars,g)}catch(c){return void l().error("arcade-execution-error",{error:c,graphic:i,expressionInfo:t})}finally{m[Symbol.dispose]()}}}}async function m(e,t){if(!e?.length)return{dependencies:new Set,expressions:new Map};const i=await d(),r=new Set,s=new Map;for(const n of e){const e=await f({expressionInfo:n,arcade:i,graphic:t});s.set(`expression/${n.name}`,e),e?.dependencies.forEach((e=>r.add(e)))}return{dependencies:r,expressions:s}}},14009:(e,t,i)=>{i.d(t,{e:()=>l,s:()=>o});var r=i(54994),s=i(36643),n=i(77725),a=i(68295);async function o(e,t,i){const r=await l(e,t,i);return n.default.fromJSON(r)}async function l(e,t,i){const n=(0,r.Dl)(e),o={...i},l=a.default.from(t),{data:u}=await(0,s.eW)(n,l,l.sourceSpatialReference,o);return u}},14902:(e,t,i)=>{i.d(t,{k:()=>l});var r=i(80324),s=i(38042),n=i(24241);function a(e){if(!e)return"";const t=/(a|A|hh?|HH?|mm?|ss?|SSS|S|.)/g;let i="";for(const r of e.match(t)||[])switch(r){case"SSS":case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":i+=r;break;case"A":case"a":i+="a";break;default:i+=`'${r}'`}return i}const o="esri.core.sql.timeonly";class l{constructor(e,t,i,r){this._hour=e,this._minute=t,this._second=i,this._millisecond=r,this.declaredRootClass=o}static isTimeOnly(e){return"object"==typeof e&&null!=e&&"declaredRootClass"in e&&e.declaredRootClass===o}get hour(){return this._hour}get minute(){return this._minute}get second(){return this._second}get millisecond(){return this._millisecond}equals(e){return l.isTimeOnly(e)&&e.hour===this.hour&&e.minute===this.minute&&e.second===this.second&&e.millisecond===this.millisecond}clone(){return new l(this.hour,this.minute,this.second,this.millisecond)}isValid(){return(0,r.Fq)(this.hour)&&(0,r.Fq)(this.minute)&&(0,r.Fq)(this.second)&&(0,r.Fq)(this.millisecond)&&this.hour>=0&&this.hour<24&&this.minute>=0&&this.minute<60&&this.second>=0&&this.second<60&&this.millisecond>=0&&this.millisecond<1e3}toString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`+(this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):"")}toSQLValue(){return this.toString()}toSQLWithKeyword(){return`time '${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}${this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):""}'`}toStorageString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`}toFormat(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e||""===e?this.toString():(e=a(e))?n.c9.local(1970,1,1,this._hour,this._minute,this._second,this._millisecond).toFormat(e,{locale:(0,s.JK)(),numberingSystem:"latn"}):""}toNumber(){return this.millisecond+1e3*this.second+1e3*this.minute*60+60*this.hour*60*1e3}static fromParts(e,t,i,r){const s=new l(e,t,i,r);return s.isValid()?s:null}static fromReader(e){if(!e)return null;const t=e.split(":");return 3!==t.length?null:new l(parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10),0)}static fromMilliseconds(e){if(e>864e5||e<0)return null;const t=Math.floor(e/1e3%60),i=Math.floor(e/6e4%60),r=Math.floor(e/36e5%24),s=Math.floor(e%1e3);return new l(r,i,t,s)}static fromDateJS(e){return new l(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}static fromDateTime(e){return new l(e.hour,e.minute,e.second,e.millisecond)}static fromSqlTimeStampOffset(e){return this.fromDateTime(e.toDateTime())}static fromString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(""===e)return null;if(null===e)return null;const i=[];t?(t=a(t))&&i.push(t):null!==t&&""!==t||(i.push("HH:mm:ss"),i.push("HH:mm:ss.SSS"),i.push("hh:mm:ss a"),i.push("hh:mm:ss.SSS a"),i.push("HH:mm"),i.push("hh:mm a"),i.push("H:mm"),i.push("h:mm a"),i.push("H:mm:ss"),i.push("h:mm:ss a"),i.push("H:mm:ss.SSS"),i.push("h:mm:ss.SSS a"));for(const r of i){const t=n.c9.fromFormat(e,r);if(t.isValid)return new l(t.hour,t.minute,t.second,t.millisecond)}return null}plus(e,t){switch(e){case"days":case"years":case"months":return this.clone();case"hours":case"minutes":case"seconds":case"milliseconds":return l.fromDateTime(this.toUTCDateTime().plus({[e]:t}))}return null}toUTCDateTime(){return n.c9.utc(1970,1,1,this.hour,this.minute,this.second,this.millisecond)}difference(e,t){switch(t.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(e.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return"M"===t?this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(e.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(e.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(e.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(e.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(e.toUTCDateTime(),"years").years}}}},16503:(e,t,i)=>{i.d(t,{n:()=>l});var r=i(46405),s=i(38042),n=i(24241);function a(e){e=e.replaceAll(/LTS|LT|L{1,4}|l{1,4}/g,"[$&]");let t="";const i=/(\[[^[]*\])|(\\)?([Hh]mm(ss)?|Mo|M{1,4}|Do|DDDo|D{1,4}|d{2,4}|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const r of e.match(i)||[])switch(r){case"D":t+="d";break;case"DD":t+="dd";break;case"DDD":t+="o";break;case"d":t+="c";break;case"ddd":t+="ccc";break;case"dddd":t+="cccc";break;case"M":t+="L";break;case"MM":t+="LL";break;case"MMM":t+="LLL";break;case"MMMM":t+="LLLL";break;case"YY":t+="yy";break;case"Y":case"YYYY":t+="yyyy";break;case"Q":t+="q";break;case"X":case"x":t+=r;break;default:r.length>=2&&"["===r.slice(0,1)&&"]"===r.slice(-1)?t+=`'${r.slice(1,-1)}'`:t+=`'${r}'`}return t}const o="esri.core.sql.dateonly";class l{constructor(e,t,i){this._year=e,this._month=t,this._day=i,this.declaredRootClass=o}static isDateOnly(e){return"object"==typeof e&&null!=e&&"declaredRootClass"in e&&e.declaredRootClass===o}get month(){return this._month}get monthJS(){return this._month-1}get year(){return this._year}get day(){return this._day}get isValid(){return this.toDateTime("unknown").isValid}equals(e){return l.isDateOnly(e)&&e.day===this.day&&e.month===this.month&&e.year===this.year}clone(){return new l(this._year,this._month,this._day)}toDateTime(e){return n.c9.fromObject({day:this.day,month:this.month,year:this.year},{zone:(0,r.mT)(e)})}toDateTimeLuxon(e){return n.c9.fromObject({day:this.day,month:this.month,year:this.year},{zone:(0,r.mT)(e)})}toString(){return`${this.year.toString().padStart(4,"0")}-${this.month.toString().padStart(2,"0")}-${this.day.toString().padStart(2,"0")}`}toFormat(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(null===e||""===e)return this.toString();if(t&&(e=a(e)),!e)return"";const i=this.toDateTime("unknown");return r.lY.dateTimeToArcadeDate(i).toFormat(e,{locale:(0,s.JK)(),numberingSystem:"latn"})}toArcadeDate(){const e=this.toDateTime("unknown");return r.lY.dateTimeToArcadeDate(e)}toNumber(){return this.toDateTime("unknown").toMillis()}toJSDate(){return this.toDateTime("unknown").toJSDate()}toStorageFormat(){return this.toFormat("yyyy-LL-dd",!1)}toSQLValue(){return this.toFormat("yyyy-LL-dd",!1)}toSQLWithKeyword(){return"date '"+this.toFormat("yyyy-LL-dd",!1)+"'"}plus(e,t){return l.fromDateTime(this.toUTCDateTime().plus({[e]:t}))}toUTCDateTime(){return n.c9.utc(this.year,this.month,this.day,0,0,0,0)}difference(e,t){switch(t.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(e.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return"M"===t?this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(e.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(e.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(e.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(e.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(e.toUTCDateTime(),"years").years}}static fromMilliseconds(e){const t=n.c9.fromMillis(e,{zone:n.mQ.utcInstance});return t.isValid?l.fromParts(t.year,t.month,t.day):null}static fromSeconds(e){const t=n.c9.fromSeconds(e,{zone:n.mQ.utcInstance});return t.isValid?l.fromParts(t.year,t.month,t.day):null}static fromReader(e){if(!e)return null;const t=e.split("-");return 3!==t.length?null:new l(parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10))}static fromParts(e,t,i){const r=new l(e,t,i);return!1===r.isValid?null:r}static fromDateJS(e){return l.fromParts(e.getFullYear(),e.getMonth()+1,e.getDay())}static fromDateTime(e){return l.fromParts(e.year,e.month,e.day)}static fromSqlTimeStampOffset(e){return this.fromDateTime(e.toDateTime())}static fromString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(""===e)return null;if(null===e)return null;const i=[];if(t)(t=a(t))&&i.push(t);else if(null===t||""===t){const t=n.c9.fromISO(e,{setZone:!0});return t.isValid?l.fromParts(t.year,t.month,t.day):null}for(const r of i){const i=n.c9.fromFormat(e,t??r);if(i.isValid)return new l(i.year,i.month,i.day)}return null}static fromNow(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"system";const t=n.c9.fromJSDate(new Date).setZone((0,r.mT)(e));return new l(t.year,t.month,t.day)}}},18258:(e,t,i)=>{i.d(t,{A:()=>l});var r=i(35143),s=i(46053),n=(i(81806),i(76460),i(47249),i(85842)),a=i(78583);let o=class extends a.default{constructor(e){super(e),this.description=null,this.title=null}};(0,r._)([(0,s.MZ)()],o.prototype,"description",void 0),(0,r._)([(0,s.MZ)()],o.prototype,"title",void 0),o=(0,r._)([(0,n.$)("esri.widgets.Feature.FeatureAttachments.FeatureAttachmentsViewModel")],o);const l=o},36643:(e,t,i)=>{i.d(t,{GB:()=>b,IJ:()=>y,Jf:()=>_,Pk:()=>m,eW:()=>h,gW:()=>g,kS:()=>f});var r=i(3825),s=i(90534),n=i(19902),a=i(73953),o=i(80963),l=i(78238),u=i(89122),d=i(57831);const c="Layer does not support extent calculation.";function p(e,t){const i=e.geometry,r=e.toJSON();delete r.compactGeometryEnabled,delete r.defaultSpatialReferenceEnabled;const s=r;let a,l,u;if(null!=i&&(l=i.spatialReference,u=(0,o.YX)(l),s.geometryType=(0,n.getJsonType)(i),s.geometry=function(e,t){if(t&&"extent"===e.type)return`${e.xmin},${e.ymin},${e.xmax},${e.ymax}`;if(t&&"point"===e.type)return`${e.x},${e.y}`;const i=e.toJSON();return delete i.spatialReference,JSON.stringify(i)}(i,e.compactGeometryEnabled),s.inSR=u),r.groupByFieldsForStatistics&&(s.groupByFieldsForStatistics=r.groupByFieldsForStatistics.join(",")),r.objectIds&&(s.objectIds=r.objectIds.join(",")),r.orderByFields&&(s.orderByFields=r.orderByFields.join(",")),!r.outFields||!r.returnDistinctValues&&(t?.returnCountOnly||t?.returnExtentOnly||t?.returnIdsOnly)?delete s.outFields:r.outFields.includes("*")?s.outFields="*":s.outFields=r.outFields.join(","),r.outSR?(s.outSR=(0,o.YX)(r.outSR),a=e.outSpatialReference):i&&(r.returnGeometry||r.returnCentroid)&&(s.outSR=s.inSR,a=l),r.returnGeometry&&delete r.returnGeometry,r.outStatistics&&(s.outStatistics=JSON.stringify(r.outStatistics)),r.fullText&&(s.fullText=JSON.stringify(r.fullText)),r.pixelSize&&(s.pixelSize=JSON.stringify(r.pixelSize)),r.quantizationParameters&&(e.defaultSpatialReferenceEnabled&&null!=l&&null!=e.quantizationParameters?.extent&&l.equals(e.quantizationParameters.extent.spatialReference)&&delete r.quantizationParameters.extent.spatialReference,s.quantizationParameters=JSON.stringify(r.quantizationParameters)),r.parameterValues&&(s.parameterValues=JSON.stringify(r.parameterValues)),r.rangeValues&&(s.rangeValues=JSON.stringify(r.rangeValues)),r.dynamicDataSource&&(s.layer=JSON.stringify({source:r.dynamicDataSource}),delete r.dynamicDataSource),r.timeExtent){const e=r.timeExtent,{start:t,end:i}=e;null==t&&null==i||(s.time=t===i?t:`${t??"null"},${i??"null"}`),delete r.timeExtent}return e.defaultSpatialReferenceEnabled&&null!=l&&null!=a&&l.equals(a)&&(s.defaultSR=s.inSR,delete s.inSR,delete s.outSR),s}async function h(e,t,i,r){const s=null!=t.timeExtent&&t.timeExtent.isEmpty?{data:{features:[]}}:await b(e,t,"json",r);return(0,d.q)(t,i,s.data),s}async function y(e,t,i,r){if(null!=t.timeExtent&&t.timeExtent.isEmpty)return{data:i.createFeatureResult()};const s=await f(e,t,r),n=s;return n.data=(0,u.m)(s.data,i),n}function f(e,t,i){return b(e,t,"pbf",i)}function m(e,t,i){return null!=t.timeExtent&&t.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):b(e,t,"json",i,{returnIdsOnly:!0})}function g(e,t,i){return null!=t.timeExtent&&t.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):b(e,t,"json",i,{returnIdsOnly:!0,returnCountOnly:!0})}async function _(e,t,i){if(null!=t.timeExtent&&t.timeExtent.isEmpty)return{data:{count:0,extent:null}};const r=await b(e,t,"json",i,{returnExtentOnly:!0,returnCountOnly:!0}),s=r.data;if(s.hasOwnProperty("extent"))return r;if(s.features)throw new Error(c);if(s.hasOwnProperty("count"))throw new Error(c);return r}async function b(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const u="string"==typeof e?(0,s.urlToObject)(e):e,d=t.geometry?[t.geometry]:[],c=await(0,a.normalizeCentralMeridian)(d,null,{signal:n.signal}),h=c?.[0];null!=h&&((t=t.clone()).geometry=h);const y=(0,l.z)({...u.query,f:i,...o,...p(t,o)});return(0,r.default)((0,s.join)(u.path,(f=o,null==t.formatOf3DObjects||f.returnCountOnly||f.returnExtentOnly||f.returnIdsOnly?"query":"query3d")),{...n,responseType:"pbf"===i?"array-buffer":"json",query:{...y,...n.query}});var f}},38932:(e,t,i)=>{i.d(t,{A:()=>c});var r=i(35143),s=i(91967),n=i(46053),a=(i(81806),i(76460),i(47249),i(85842)),o=i(81779),l=i(40585),u=i(9912);let d=class extends s.default{constructor(e){super(e),this.attributes=null,this.expressionInfos=null,this.description=null,this.fieldInfos=null,this.title=null}get formattedFieldInfos(){const{expressionInfos:e,fieldInfos:t}=this,i=[];return t?.forEach((t=>{if(t.hasOwnProperty("visible")&&!t.visible)return;const r=t.clone();r.label=(0,u.getFieldInfoLabel)(r,e),i.push(r)})),i}};(0,r._)([(0,n.MZ)()],d.prototype,"attributes",void 0),(0,r._)([(0,n.MZ)({type:[o.default]})],d.prototype,"expressionInfos",void 0),(0,r._)([(0,n.MZ)()],d.prototype,"description",void 0),(0,r._)([(0,n.MZ)({type:[l.default]})],d.prototype,"fieldInfos",void 0),(0,r._)([(0,n.MZ)({readOnly:!0})],d.prototype,"formattedFieldInfos",null),(0,r._)([(0,n.MZ)()],d.prototype,"title",void 0),d=(0,r._)([(0,a.$)("esri.widgets.Feature.FeatureFields.FeatureFieldsViewModel")],d);const c=d},39492:(e,t,i)=>{i.d(t,{A:()=>F});var r=i(35143),s=i(39356),n=i(91967),a=i(98773),o=i(30726),l=i(50346),u=i(68134),d=i(79468),c=i(46053),p=(i(81806),i(76460),i(47249),i(85842)),h=i(19247),y=(i(75900),i(56362),i(87015),i(81940),i(6929)),f=i(7198),m=(i(93616),i(53539)),g=(i(91904),i(66267)),_=i(1052),b=i(38932),v=i(42450),w=i(12744);let I=class extends n.default{constructor(e){super(e),this._compileTask=null,this._evaluateTask=null,this.expressionInfo=null,this.graphic=null,this.contentElementViewModel=null,this.interceptor=null,this.location=null,this.view=null,this._createVM=()=>{const e=this.contentElement?.type;this.contentElementViewModel?.destroy();const t="fields"===e?new b.A:"media"===e?new v.A:"text"===e?new _.A:null;this._set("contentElementViewModel",t)},this._compileThrottled=(0,d.n)(this._startCompile,(()=>this.notifyChange("state")),1,this),this._evaluateThrottled=(0,d.n)(this._startEvaluate,(()=>this.notifyChange("state")),1,this),this.addHandles([(0,u.watch)((()=>[this.expressionInfo,this.graphic]),(()=>this._compileThrottled()),u.initial),(0,u.watch)((()=>[this.contentElement]),(()=>this._createVM()),u.initial),(0,u.when)((()=>{if(!this._compileTask?.finished)return null;const e=this._compileTask.value,t=e?.dependencies;return[e,this.spatialReference,this.map,this.view,t?.has("view-scale")?this.view?.scale:null,t?.has("view-time-extent")?this.view?.timeExtent?.start:null,t?.has("view-time-extent")?this.view?.timeExtent?.end:null]}),(e=>{let[t]=e;return this._evaluateThrottled(t)}))])}initialize(){this.addHandles([this._compileThrottled,this._evaluateThrottled])}destroy(){this._compileTask=(0,o.DC)(this._compileTask),this._evaluateTask=(0,o.DC)(this._evaluateTask),this.contentElementViewModel?.destroy(),this._set("contentElementViewModel",null)}get contentElement(){return this._evaluateTask?.value}get spatialReference(){return this.view?.spatialReference??null}set spatialReference(e){this._override("spatialReference",e)}get state(){const{contentElement:e,contentElementViewModel:t}=this;return this._compileThrottled.hasPendingUpdates()||this._evaluateThrottled.hasPendingUpdates()||!this._compileTask?.finished||!this._evaluateTask?.finished?"loading":e||t?"ready":"disabled"}get map(){return this.view?.map??null}set map(e){this._override("map",e)}_startCompile(){this._evaluateTask=(0,o.DC)(this._evaluateTask),this._compileTask=(0,o.DC)(this._compileTask),this._compileTask=(0,a.UT)((async e=>{const{expressionInfo:t,graphic:i}=this;if(!t||!i)return null;const r=await(0,w.lw)();(0,l.throwIfAborted)(e);const s=await(0,w.Wo)({expressionInfo:t,arcade:r,graphic:i});return(0,l.throwIfAborted)(e),s}))}_startEvaluate(e){this._evaluateTask=(0,o.DC)(this._evaluateTask),this._evaluateTask=(0,a.UT)((async t=>{const{graphic:i}=this;if(!e||!i)return null;const{interceptor:r,spatialReference:s,map:n,location:a,view:o}=this,u=await e.evaluate({graphic:i,interceptor:r,location:a,map:n,options:{signal:t},spatialReference:s,view:o});(0,l.throwIfAborted)(t);const d=u;if(!d||"esri.arcade.Dictionary"!==d.declaredClass)return null;const c=await d.castAsJsonAsync(t);(0,l.throwIfAborted)(t);const p=c?.type,h="media"===p?f.default.fromJSON(c):"text"===p?m.default.fromJSON(c):"fields"===p?y.default.fromJSON(c):null;return"media"===h.type&&!h.mediaInfos||"fields"===h.type&&!h.fieldInfos||"text"===h.type&&!h.text?null:h}))}};(0,r._)([(0,c.MZ)()],I.prototype,"_compileTask",void 0),(0,r._)([(0,c.MZ)()],I.prototype,"_evaluateTask",void 0),(0,r._)([(0,c.MZ)({type:g.default})],I.prototype,"expressionInfo",void 0),(0,r._)([(0,c.MZ)({type:s.default})],I.prototype,"graphic",void 0),(0,r._)([(0,c.MZ)({readOnly:!0})],I.prototype,"contentElement",null),(0,r._)([(0,c.MZ)({readOnly:!0})],I.prototype,"contentElementViewModel",void 0),(0,r._)([(0,c.MZ)()],I.prototype,"interceptor",void 0),(0,r._)([(0,c.MZ)({type:h.default})],I.prototype,"location",void 0),(0,r._)([(0,c.MZ)()],I.prototype,"spatialReference",null),(0,r._)([(0,c.MZ)({readOnly:!0})],I.prototype,"state",null),(0,r._)([(0,c.MZ)()],I.prototype,"map",null),(0,r._)([(0,c.MZ)()],I.prototype,"view",void 0),I=(0,r._)([(0,p.$)("esri.widgets.Feature.FeatureExpression.FeatureExpressionViewModel")],I);const F=I},42450:(e,t,i)=>{i.d(t,{A:()=>f});var r=i(35143),s=i(91967),n=i(18690),a=i(46053),o=i(21403),l=(i(81806),i(85842)),u=i(40585),d=i(22431),c=i(9912),p=i(58287);const h={chartAnimation:!0};let y=class extends s.default{constructor(e){super(e),this.abilities={...h},this.activeMediaInfoIndex=0,this.attributes=null,this.description=null,this.fieldInfoMap=null,this.formattedAttributes=null,this.expressionAttributes=null,this.isAggregate=!1,this.layer=null,this.mediaInfos=null,this.popupTemplate=null,this.relatedInfos=null,this.title=null}castAbilities(e){return{...h,...e}}get activeMediaInfo(){return this.formattedMediaInfos[this.activeMediaInfoIndex]||null}get formattedMediaInfos(){return this._formatMediaInfos()||[]}get formattedMediaInfoCount(){return this.formattedMediaInfos.length}setActiveMedia(e){this._setContentElementMedia(e)}next(){this._pageContentElementMedia(1)}previous(){this._pageContentElementMedia(-1)}_setContentElementMedia(e){const{formattedMediaInfoCount:t}=this,i=(e+t)%t;this.activeMediaInfoIndex=i}_pageContentElementMedia(e){const{activeMediaInfoIndex:t}=this,i=t+e;this._setContentElementMedia(i)}_formatMediaInfos(){const{mediaInfos:e,layer:t}=this,i=this.attributes??{},r=this.formattedAttributes??{},s=this.expressionAttributes??{},a=this.fieldInfoMap??new Map;return e?.map((e=>{const n=e?.clone();if(!n)return null;if(n.title=(0,c.substituteFieldsInLinksAndAttributes)({attributes:i,fieldInfoMap:a,globalAttributes:r,expressionAttributes:s,layer:t,text:n.title}),n.caption=(0,c.substituteFieldsInLinksAndAttributes)({attributes:i,fieldInfoMap:a,globalAttributes:r,expressionAttributes:s,layer:t,text:n.caption}),n.altText=(0,c.substituteFieldsInLinksAndAttributes)({attributes:i,fieldInfoMap:a,globalAttributes:r,expressionAttributes:s,layer:t,text:n.altText}),"image"===n.type){if(!n.value)return;return this._setImageValue({value:n.value,formattedAttributes:r,layer:t}),n.value.sourceURL?n:void 0}if("pie-chart"===n.type||"line-chart"===n.type||"column-chart"===n.type||"bar-chart"===n.type){if(!n.value)return;return this._setChartValue({value:n.value,chartType:n.type,attributes:i,formattedAttributes:r,layer:t,expressionAttributes:s}),n}return null})).filter(n.Ru)??[]}_setImageValue(e){const t=this.fieldInfoMap??new Map,{value:i,formattedAttributes:r,layer:s}=e,{linkURL:n,sourceURL:a}=i;if(a){const e=(0,c.fixTokens)(a,s);i.sourceURL=(0,c.substituteAttributes)({formattedAttributes:r,template:e,fieldInfoMap:t})}if(n){const e=(0,c.fixTokens)(n,s);i.linkURL=(0,c.substituteAttributes)({formattedAttributes:r,template:e,fieldInfoMap:t})}}_setChartValue(e){const{value:t,attributes:i,formattedAttributes:r,chartType:s,layer:n,expressionAttributes:a}=e,{popupTemplate:o,relatedInfos:l}=this,{fields:u,normalizeField:d}=t,p=n;if(t.fields=(0,c.getFixedFieldNames)(u,p),d&&(t.normalizeField=(0,c.getFixedFieldName)(d,p)),!u.some((e=>!!(null!=r[e]||(0,c.isRelatedField)(e)&&l?.size))))return;const h=o?.fieldInfos??[];u.forEach(((e,n)=>{const o=t.colors?.[n];if((0,c.isRelatedField)(e))return void(t.series=[...t.series,...this._getRelatedChartInfos({fieldInfos:h,fieldName:e,formattedAttributes:r,chartType:s,value:t,color:o})]);const l=this._getChartOption({value:t,attributes:i,chartType:s,formattedAttributes:r,expressionAttributes:a,fieldName:e,fieldInfos:h,color:o});t.series.push(l)}))}_getRelatedChartInfos(e){const{fieldInfos:t,fieldName:i,formattedAttributes:r,chartType:s,value:n,color:a}=e,o=[],l=(0,p.kC)(i),u=l&&this.relatedInfos?.get(l.layerId.toString());if(!u)return o;const{relatedFeatures:d,relation:c}=u;if(!c||!d)return o;const{cardinality:h}=c;return d.forEach((e=>{const{attributes:u}=e;u&&Object.keys(u).forEach((e=>{e===l.fieldName&&o.push(this._getChartOption({value:n,attributes:u,formattedAttributes:r,fieldName:i,chartType:s,relatedFieldName:e,hasMultipleRelatedFeatures:d?.length>1,fieldInfos:t,color:a}))}))})),"one-to-many"===h||"many-to-many"===h?o:[o[0]]}_getTooltip(e){let{label:t,value:i,chartType:r}=e;return"pie-chart"===r?`${t}`:`${t}: ${i}`}_getChartOption(e){const{value:t,attributes:i,formattedAttributes:r,expressionAttributes:s,fieldName:n,relatedFieldName:a,fieldInfos:o,chartType:l,hasMultipleRelatedFeatures:h,color:y}=e,f=this.layer,m=this.fieldInfoMap??new Map,{normalizeField:g,tooltipField:_}=t,b=g?(0,c.isRelatedField)(g)?i[(0,p.kC)(g).fieldName]:i[g]:null,v=(0,c.isExpressionField)(n)&&s&&void 0!==s[n]?s[n]:a&&void 0!==i[a]?i[a]:void 0!==i[n]?i[n]:r[n],w=new d.default({fieldName:n,color:y,value:void 0===v?null:v&&b?v/b:v});if((0,c.isRelatedField)(n)){const e=m.get(n.toLowerCase()),t=_&&m.get(_.toLowerCase()),s=e?.fieldName??n,o=h&&_?(0,p.kC)(_).fieldName:t?.fieldName??_,u=h&&o?i[o]:r[o]??e?.label??e?.fieldName??a,d=h&&a?i[a]:r[s];return w.tooltip=this._getTooltip({label:u,value:d,chartType:l}),w}const I=(0,c.getFieldInfo)(o,n),F=(0,c.getFixedFieldName)(n,f),A=_&&void 0!==r[_]?r[_]:(0,c.getFieldInfoLabel)(I||new u.default({fieldName:F}),this.popupTemplate?.expressionInfos),M=r[F];return w.tooltip=this._getTooltip({label:A,value:M,chartType:l}),w}};(0,r._)([(0,a.MZ)()],y.prototype,"abilities",void 0),(0,r._)([(0,o.w)("abilities")],y.prototype,"castAbilities",null),(0,r._)([(0,a.MZ)()],y.prototype,"activeMediaInfoIndex",void 0),(0,r._)([(0,a.MZ)({readOnly:!0})],y.prototype,"activeMediaInfo",null),(0,r._)([(0,a.MZ)()],y.prototype,"attributes",void 0),(0,r._)([(0,a.MZ)()],y.prototype,"description",void 0),(0,r._)([(0,a.MZ)()],y.prototype,"fieldInfoMap",void 0),(0,r._)([(0,a.MZ)()],y.prototype,"formattedAttributes",void 0),(0,r._)([(0,a.MZ)()],y.prototype,"expressionAttributes",void 0),(0,r._)([(0,a.MZ)({readOnly:!0})],y.prototype,"formattedMediaInfos",null),(0,r._)([(0,a.MZ)()],y.prototype,"isAggregate",void 0),(0,r._)([(0,a.MZ)()],y.prototype,"layer",void 0),(0,r._)([(0,a.MZ)({readOnly:!0})],y.prototype,"formattedMediaInfoCount",null),(0,r._)([(0,a.MZ)()],y.prototype,"mediaInfos",void 0),(0,r._)([(0,a.MZ)()],y.prototype,"popupTemplate",void 0),(0,r._)([(0,a.MZ)()],y.prototype,"relatedInfos",void 0),(0,r._)([(0,a.MZ)()],y.prototype,"title",void 0),y=(0,r._)([(0,l.$)("esri.widgets.Feature.FeatureMedia.FeatureMediaViewModel")],y);const f=y},51007:(e,t,i)=>{i.r(t),i.d(t,{default:()=>q});var r=i(35143),s=i(39356);var n,a=i(91967),o=i(18690),l=i(98773),u=i(19276),d=i(5632),c=i(76460),p=i(30726),h=i(50346),y=i(68134),f=i(79468),m=i(46053),g=i(21403),_=(i(81806),i(85842)),b=i(19247),v=i(13312),w=i(53539),I=i(30973),F=i(36693),A=i(18258),M=i(1052),T=i(39492),C=i(38932),x=i(42450),S=i(65023),E=i(12744),O=i(9912),Z=i(58287),L=i(91039);const k="content-view-models",D="relationship-view-models",P={attachmentsContent:!0,chartAnimation:!0,customContent:!0,expressionContent:!0,fieldsContent:!0,mediaContent:!0,textContent:!0,relationshipContent:!0,utilityNetworkAssociationsContent:!0};let R=n=class extends(d.A.IdentifiableMixin(a.default)){constructor(e){super(e),this._error=null,this._graphicChangedTask=null,this._evaluateExpressionAttributesTask=null,this._associationVMAbortController=null,this._expressionAttributes=null,this._graphicExpressionAttributes=null,this.abilities={...P},this.content=null,this.contentViewModels=[],this.description=null,this.defaultPopupTemplateEnabled=!1,this.formattedAttributes=null,this.lastEditInfo=null,this.location=null,this.relatedInfos=new Map,this.title="",this.view=null,this._graphicChangedThrottled=(0,f.n)(this._graphicChanged,(()=>this.notifyChange("waitingForContent")),1,this),this._isAllowedContentType=e=>{const{abilities:t}=this;return"attachments"===e.type&&!!t.attachmentsContent||"custom"===e.type&&!!t.customContent||"fields"===e.type&&!!t.fieldsContent||"media"===e.type&&!!t.mediaContent||"text"===e.type&&!!t.textContent||"expression"===e.type&&!!t.expressionContent||"relationship"===e.type&&!!t.relationshipContent||"utility-network-associations"===e.type&&!!t.utilityNetworkAssociationsContent},this._evaluateExpressionAttributesThrottled=(0,f.n)(this._evaluateExpressionAttributes,(()=>this.notifyChange("waitingForContent")),1,this),this.addHandles([(0,y.watch)((()=>[this.graphic,this._effectivePopupTemplate,this.abilities,this.timeZone]),(()=>this._graphicChangedThrottled()),y.initial),(0,y.when)((()=>{if(!this._graphicChangedTask?.finished||null==this._graphicChangedTask.value)return null;const e=this._graphicChangedTask.value,t=e?.expressionInfos?.dependencies;return[e,t?.has("view-scale")?this.view?.scale:null,t?.has("view-time-extent")?this.view?.timeExtent?.start:null,t?.has("view-time-extent")?this.view?.timeExtent?.end:null]}),(e=>{let[t]=e;return this._evaluateExpressionAttributesThrottled(t)}))])}initialize(){this.addHandles([this._graphicChangedThrottled,this._evaluateExpressionAttributesThrottled])}destroy(){this._clear(),this._graphicChangedTask=(0,p.DC)(this._graphicChangedTask),this._evaluateExpressionAttributesTask=(0,p.DC)(this._evaluateExpressionAttributesTask),this._error=null,this.graphic=null,this._destroyContentViewModels(),this.relatedInfos.clear()}get _effectivePopupTemplate(){return null!=this.graphic?this.graphic.getEffectivePopupTemplate(this.defaultPopupTemplateEnabled):null}get _fieldInfoMap(){return(0,O.createFieldInfoMap)((0,O.getAllFieldInfos)(this._effectivePopupTemplate),this._sourceLayer)}get _sourceLayer(){return(0,O.getSourceLayer)(this.graphic)}castAbilities(e){return{...P,...e}}get isTable(){return this._sourceLayer?.isTable||!1}get state(){return this.graphic?this._error?"error":this.waitingForContent?"loading":"ready":"disabled"}set graphic(e){this._set("graphic",e?.clone()??null)}get spatialReference(){return this.view?.spatialReference??null}set spatialReference(e){this._override("spatialReference",e)}get timeZone(){return this.view?.timeZone??F.qU}set timeZone(e){this._overrideIfSome("timeZone",e)}get map(){return this.view?.map||null}set map(e){this._override("map",e)}get waitingForContent(){const{_graphicChangedThrottled:e,_evaluateExpressionAttributesThrottled:t,_graphicChangedTask:i,_evaluateExpressionAttributesTask:r,_associationVMAbortController:s}=this;return e.hasPendingUpdates()||t.hasPendingUpdates()||null!=i&&!i.finished||null!=r&&!r.finished||!!s}setActiveMedia(e,t){const i=this.contentViewModels[e];i instanceof x.A&&i.setActiveMedia(t)}nextMedia(e){const t=this.contentViewModels[e];t instanceof x.A&&t.next()}previousMedia(e){const t=this.contentViewModels[e];t instanceof x.A&&t.previous()}async updateGeometry(){const{graphic:e,spatialReference:t,_sourceLayer:i}=this;await(i?.load());const r=i?.objectIdField;if(!r||!e||!i)return;const s=e?.attributes?.[r];if(null==s)return;const n=[s];if(!e.geometry){const r=await(0,O.querySourceLayer)({layer:i,graphic:e,outFields:[],objectIds:n,returnGeometry:!0,spatialReference:t}),s=r?.geometry;s&&(e.geometry=s)}}_clear(){this._set("title",""),this._set("content",null),this._set("formattedAttributes",null)}_graphicChanged(){this._evaluateExpressionAttributesTask=(0,p.DC)(this._evaluateExpressionAttributesTask),this._graphicChangedTask=(0,p.DC)(this._graphicChangedTask),this._graphicChangedTask=(0,l.UT)((async e=>{this._error=null,this._clear();const{graphic:t}=this;try{if(!t)return null;const{_sourceLayer:i,_effectivePopupTemplate:r}=this,s=this.spatialReference;await(0,O.queryUpdatedFeature)({graphic:t,popupTemplate:r,layer:i,spatialReference:s},{signal:e});const[{value:n},{value:a}]=await(0,h.eachAlways)([this._getContent(),this._getTitle()]),[,{value:o}]=await(0,h.eachAlways)([this._checkForRelatedFeatures({signal:e}),(0,E.lO)(r?.expressionInfos,t)]);return{expressionInfos:o,content:n,title:a}}catch(i){throw(0,h.isAbortError)(i)||(this._error=i,c.A.getLogger(this).error("error","The popupTemplate could not be displayed for this feature.",{error:i,graphic:t,popupTemplate:this._effectivePopupTemplate})),i}}))}_compileContentElement(e,t){return"attachments"===e.type?this._compileAttachments(e,t):"custom"===e.type?this._compileCustom(e,t):"fields"===e.type?this._compileFields(e,t):"media"===e.type?this._compileMedia(e,t):"text"===e.type?this._compileText(e,t):"expression"===e.type?this._compileExpression(e,t):"relationship"===e.type?this._compileRelationship(e,t):"utility-network-associations"===e.type?this._compileUtilityNetworkAssociation(e,t):void 0}_compileContent(e){if(this._destroyContentViewModels(),this.graphic)return Array.isArray(e)?e.filter(this._isAllowedContentType).map(((e,t)=>this._compileContentElement(e,t))).filter(o.Ru):"string"==typeof e?this._compileText(new w.default({text:e}),0).text:e}_destroyContentViewModels(){this.removeHandles(D),this.removeHandles(k),this.contentViewModels.forEach((e=>e&&!e.destroyed&&e.destroy())),this._set("contentViewModels",[])}_matchesFeature(e,t){const i=e?.graphic?.getObjectId(),r=t?.getObjectId();return null!=i&&null!=r&&i===r}_setRelatedFeaturesViewModels(e){let{relatedFeatureViewModels:t,relatedFeatures:i,map:r}=e;const{view:s,spatialReference:a,timeZone:o}=this;i?.filter(Boolean).forEach((e=>{t.some((t=>this._matchesFeature(t,e)))||t.add(new n({abilities:{relationshipContent:!1},map:r,view:s,spatialReference:a,timeZone:o,graphic:e}))})),t.forEach((e=>{const r=i?.find((t=>this._matchesFeature(e,t)));r||t.remove(e)}))}_setExpressionContentVM(e,t){const i=this.formattedAttributes,{contentElement:r,contentElementViewModel:s}=e,n=r?.type;s&&n&&("fields"===n&&(this._createFieldsFormattedAttributes({contentElement:r,contentElementIndex:t,formattedAttributes:i}),s.set(this._createFieldsVMParams(r,t))),"media"===n&&(this._createMediaFormattedAttributes({contentElement:r,contentElementIndex:t,formattedAttributes:i}),s.set(this._createMediaVMParams(r,t))),"text"===n&&s.set(this._createTextVMParams(r)))}_compileRelationship(e,t){const{displayCount:i,orderByFields:r,relationshipId:s,title:n,description:a}=e,{_sourceLayer:o,graphic:l,map:u}=this;if(!(0,O.isRelatableFeatureSupportedLayer)(o))return;const d=new S.A({displayCount:i,graphic:l,orderByFields:r,relationshipId:s,layer:o,map:u,...this._compileTitleAndDesc({title:n,description:a})});return this.contentViewModels[t]=d,this.addHandles((0,y.on)((()=>d.relatedFeatures),"change",(()=>this._setRelatedFeaturesViewModels(d))),D),e}_matchesGlobalFeature(e,t){const i=e?.association.globalId,r=t?.association.globalId;return null!=i&&null!=r&&i===r}async _setUpUtilityNetworkAssociationsViewModels(e,t,i){const{view:r,spatialReference:s,timeZone:a}=this;e.forEach(((i,r)=>{const s=t.get(r);s?i.forEach((t=>{s.find((e=>this._matchesGlobalFeature(t,e)))||(i.remove(t),0===i.length&&e.delete(r))})):(i.removeAll(),e.delete(r))})),t.forEach(((t,o)=>{const l=e.get(o)||new u.default;t?.filter(Boolean).forEach((e=>{l.some((t=>this._matchesGlobalFeature(t,e)))||l.add({association:e.association,featureViewModel:new n({abilities:{utilityNetworkAssociationsContent:!1},map:i,view:r,spatialReference:s,timeZone:a,graphic:e.feature}),terminalName:e.terminalName})})),e.set(o,l)}));const o=new AbortController;this._associationVMAbortController=o,await this._sortListObjectsByTitle(e,{signal:o.signal}),this._associationVMAbortController===o&&(this._associationVMAbortController=null)}async _sortListObjectsByTitle(e,t){for(const i of e.values()){const e=i.map((e=>(0,y.whenOnce)((()=>"ready"===e.featureViewModel.state),t?.signal)));await Promise.all(e),i.sort(this._compareByFeatureTitle)}}_compareByFeatureTitle(e,t){const i=(0,I.getFeaturePopupTitle)(e.featureViewModel),r=(0,I.getFeaturePopupTitle)(t.featureViewModel);return i.localeCompare(r,void 0,{numeric:!0})}_compileUtilityNetworkAssociation(e,t){const{displayCount:i,title:r,description:s,associationTypes:n}=e,{_sourceLayer:a,graphic:o,map:l}=this;if(!(0,O.isAssociatedFeatureSupportedLayer)(a))return;const u=new L.A({graphic:o,displayCount:i,associationTypes:n,layer:a,map:l,...this._compileTitleAndDesc({title:r,description:s})});return this.contentViewModels[t]=u,this.addHandles([(0,y.watch)((()=>u.associationFeatures.values()),(()=>this._setUpUtilityNetworkAssociationsViewModels(u.associationViewModels,u.associationFeatures,u.map)))],"association-view-models"),e}_compileExpression(e,t){const{expressionInfo:i}=e,{graphic:r,map:s,spatialReference:a,view:o,location:l}=this,u=new T.A({expressionInfo:i,graphic:r,interceptor:n.interceptor,map:s,spatialReference:a,view:o,location:l});return this.contentViewModels[t]=u,this.addHandles((0,y.watch)((()=>u.contentElementViewModel),(()=>this._setExpressionContentVM(u,t)),y.initial),k),e}_compileAttachments(e,t){const{graphic:i}=this,{description:r,title:s,orderByFields:n}=e;return this.contentViewModels[t]=new A.A({graphic:i,orderByFields:n,...this._compileTitleAndDesc({title:s,description:r})}),e}_compileCustom(e,t){const{graphic:i}=this,{creator:r,destroyer:s}=e;return this.contentViewModels[t]=new M.A({graphic:i,creator:r,destroyer:s}),e}_compileTitleAndDesc(e){let{title:t,description:i}=e;const{_fieldInfoMap:r,_sourceLayer:s,graphic:n,formattedAttributes:a}=this,o=n?.attributes,l=this._expressionAttributes,u=a.global;return{title:(0,O.substituteFieldsInLinksAndAttributes)({attributes:o,fieldInfoMap:r,globalAttributes:u,expressionAttributes:l,layer:s,text:t}),description:(0,O.substituteFieldsInLinksAndAttributes)({attributes:o,fieldInfoMap:r,globalAttributes:u,expressionAttributes:l,layer:s,text:i})}}_createFieldsVMParams(e,t){const i=this._effectivePopupTemplate,r=this.formattedAttributes,s={...r?.global,...r?.content[t]},n=e?.fieldInfos||i?.fieldInfos,a=n?.filter((e=>{let{fieldName:t}=e;return!!t&&((0,O.isExpressionField)(t)||(0,O.isRelatedField)(t)||s.hasOwnProperty(t))})),o=i?.expressionInfos,{description:l,title:u}=e;return{attributes:s,expressionInfos:o,fieldInfos:a,...this._compileTitleAndDesc({title:u,description:l})}}_compileFields(e,t){const i=e.clone(),r=new C.A(this._createFieldsVMParams(e,t));return this.contentViewModels[t]=r,i.fieldInfos=r.formattedFieldInfos.slice(),i}_createMediaVMParams(e,t){const{abilities:i,graphic:r,_fieldInfoMap:s,_effectivePopupTemplate:n,relatedInfos:a,_sourceLayer:o,_expressionAttributes:l}=this,u=this.formattedAttributes,d=r?.attributes??{},{description:c,mediaInfos:p,title:h}=e;return{abilities:{chartAnimation:i.chartAnimation},activeMediaInfoIndex:e.activeMediaInfoIndex||0,attributes:d,isAggregate:r?.isAggregate,layer:o,fieldInfoMap:s,formattedAttributes:{...u?.global,...u?.content[t]},expressionAttributes:l,mediaInfos:p,popupTemplate:n,relatedInfos:a,...this._compileTitleAndDesc({title:h,description:c})}}_compileMedia(e,t){const i=e.clone(),r=new x.A(this._createMediaVMParams(e,t));return i.mediaInfos=r.formattedMediaInfos.slice(),this.contentViewModels[t]=r,i}_createTextVMParams(e){const{graphic:t,_fieldInfoMap:i,_sourceLayer:r,_expressionAttributes:s}=this;if(e&&e.text){const n=t?.attributes??{},a=this.formattedAttributes?.global??{};e.text=(0,O.substituteFieldsInLinksAndAttributes)({attributes:n,fieldInfoMap:i,globalAttributes:a,expressionAttributes:s,layer:r,text:e.text})}return{graphic:t,creator:e.text}}_compileText(e,t){const i=e.clone();return this.contentViewModels[t]=new M.A(this._createTextVMParams(i)),i}_compileLastEditInfo(){const{_effectivePopupTemplate:e,_sourceLayer:t,graphic:i,timeZone:r}=this;if(!e)return;const{lastEditInfoEnabled:s}=e,n=t?.editFieldsInfo;return s&&n?(0,O.formatEditInfo)(n,i?.attributes,r,t):void 0}_compileTitle(e){const{_fieldInfoMap:t,_sourceLayer:i,graphic:r,_expressionAttributes:s}=this,n=r?.attributes??{},a=this.formattedAttributes?.global??{};return(0,O.substituteFieldsInLinksAndAttributes)({attributes:n,fieldInfoMap:t,globalAttributes:a,expressionAttributes:s,layer:i,text:e})}async _getTitle(){const{_effectivePopupTemplate:e,graphic:t}=this;return t?(0,O.graphicCallback)({type:"title",value:e?.title,event:{graphic:t}}):null}async _getContent(){const{_effectivePopupTemplate:e,graphic:t}=this;return t?(0,O.graphicCallback)({type:"content",value:e?.content,event:{graphic:t}}):null}_evaluateExpressionAttributes(e){let{title:t,content:i,expressionInfos:r}=e;this._evaluateExpressionAttributesTask=(0,p.DC)(this._evaluateExpressionAttributesTask),this._evaluateExpressionAttributesTask=(0,l.UT)((async e=>{const{graphic:s,map:a,view:o,spatialReference:l,location:u}=this;try{if(!s)return;let d;if(null!=r){const t=[];for(const[i,d]of r.expressions.entries())null!=d?t.push(d.evaluate({graphic:s,interceptor:n.interceptor,location:u,map:a,options:{signal:e},spatialReference:l,view:o}).then((e=>[i,(0,E.vc)(e)])).catch((()=>[i,void 0]))):t.push(Promise.resolve([i,void 0]));d=Object.fromEntries(await Promise.all(t)),(0,h.throwIfAborted)(e)}this._expressionAttributes=d,this._graphicExpressionAttributes={...s.attributes,...d},this._set("formattedAttributes",this._createFormattedAttributes(i)),this._set("title",this._compileTitle(t)),this._set("lastEditInfo",this._compileLastEditInfo()||null),this._set("content",this._compileContent(i)||null)}catch(d){(0,h.isAbortError)(d)||(this._error=d,c.A.getLogger(this).error("error","The popupTemplate could not be displayed for this feature.",{error:d,graphic:s,popupTemplate:this._effectivePopupTemplate}))}}))}_createMediaFormattedAttributes(e){let{contentElement:t,contentElementIndex:i,formattedAttributes:r}=e;const{_effectivePopupTemplate:s,graphic:n,relatedInfos:a,_sourceLayer:o,_fieldInfoMap:l,_graphicExpressionAttributes:u,timeZone:d}=this;r.content[i]=(0,O.formatAttributes)({fieldInfos:s?.fieldInfos,graphic:n,attributes:{...u,...t.attributes},layer:o,fieldInfoMap:l,relatedInfos:a,timeZone:d})}_createFieldsFormattedAttributes(e){let{contentElement:t,contentElementIndex:i,formattedAttributes:r}=e;if(t.fieldInfos){const{graphic:e,relatedInfos:s,_sourceLayer:n,_fieldInfoMap:a,_graphicExpressionAttributes:o,timeZone:l}=this;r.content[i]=(0,O.formatAttributes)({fieldInfos:t.fieldInfos,graphic:e,attributes:{...o,...t.attributes},layer:n,fieldInfoMap:a,relatedInfos:s,timeZone:l})}}_createFormattedAttributes(e){const{_effectivePopupTemplate:t,graphic:i,relatedInfos:r,_sourceLayer:s,_fieldInfoMap:n,_graphicExpressionAttributes:a,timeZone:o}=this,l=t?.fieldInfos,u={global:(0,O.formatAttributes)({fieldInfos:l,graphic:i,attributes:a,layer:s,fieldInfoMap:n,relatedInfos:r,timeZone:o}),content:[]};return Array.isArray(e)&&e.forEach(((e,t)=>{"fields"===e.type&&this._createFieldsFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:u}),"media"===e.type&&this._createMediaFormattedAttributes({contentElement:e,contentElementIndex:t,formattedAttributes:u})})),u}_checkForRelatedFeatures(e){const{graphic:t,_effectivePopupTemplate:i}=this;return this._queryRelatedInfos(t,(0,O.getAllFieldInfos)(i),e)}async _queryRelatedInfos(e,t,i){const{relatedInfos:r,_sourceLayer:s}=this;r.clear();const n=null!=s?.associatedLayer?await(s?.associatedLayer.load(i)):s;if(!n||!e)return;const a=t.filter((e=>!!e.fieldName&&(0,O.isRelatedField)(e.fieldName)));if(!a?.length)return;t.forEach((e=>this._configureRelatedInfo(e,n)));const o=await(0,Z.Xx)({relatedInfos:r,layer:n},i);Object.keys(o).forEach((e=>{const t=r.get(e.toString()),i=o[e]?.value;t&&i&&(t.layerInfo=i.data)}));const l=await(0,Z.hM)({graphic:e,relatedInfos:r,layer:n},i);Object.keys(l).forEach((e=>{(0,Z.nD)(l[e]?.value,r.get(e.toString()))}))}_configureRelatedInfo(e,t){const{relatedInfos:i}=this,r=(0,Z.kC)(e.fieldName||"");if(!r)return;const{layerId:s,fieldName:n}=r;if(!s)return;const a=i.get(s.toString())||(0,Z.cl)(s,t);a&&((0,Z.LI)({relatedInfo:a,fieldName:n,fieldInfo:e}),this.relatedInfos.set(s,a))}};R.interceptor=new class{constructor(e,t){this.preLayerQueryCallback=e,this.preRequestCallback=t,this.preLayerQueryCallback||(this.preLayerQueryCallback=e=>{}),this.preRequestCallback||(this.preLayerQueryCallback=e=>{})}}(O.preLayerQueryCallback,O.preRequestCallback),(0,r._)([(0,m.MZ)()],R.prototype,"_error",void 0),(0,r._)([(0,m.MZ)()],R.prototype,"_graphicChangedTask",void 0),(0,r._)([(0,m.MZ)()],R.prototype,"_evaluateExpressionAttributesTask",void 0),(0,r._)([(0,m.MZ)()],R.prototype,"_associationVMAbortController",void 0),(0,r._)([(0,m.MZ)({readOnly:!0})],R.prototype,"_effectivePopupTemplate",null),(0,r._)([(0,m.MZ)({readOnly:!0})],R.prototype,"_fieldInfoMap",null),(0,r._)([(0,m.MZ)({readOnly:!0})],R.prototype,"_sourceLayer",null),(0,r._)([(0,m.MZ)()],R.prototype,"abilities",void 0),(0,r._)([(0,g.w)("abilities")],R.prototype,"castAbilities",null),(0,r._)([(0,m.MZ)({readOnly:!0})],R.prototype,"content",void 0),(0,r._)([(0,m.MZ)({readOnly:!0})],R.prototype,"contentViewModels",void 0),(0,r._)([(0,m.MZ)()],R.prototype,"description",void 0),(0,r._)([(0,m.MZ)({type:Boolean})],R.prototype,"defaultPopupTemplateEnabled",void 0),(0,r._)([(0,m.MZ)({readOnly:!0})],R.prototype,"isTable",null),(0,r._)([(0,m.MZ)({readOnly:!0})],R.prototype,"state",null),(0,r._)([(0,m.MZ)({readOnly:!0})],R.prototype,"formattedAttributes",void 0),(0,r._)([(0,m.MZ)({type:s.default,value:null})],R.prototype,"graphic",null),(0,r._)([(0,m.MZ)({readOnly:!0})],R.prototype,"lastEditInfo",void 0),(0,r._)([(0,m.MZ)({type:b.default})],R.prototype,"location",void 0),(0,r._)([(0,m.MZ)({readOnly:!0})],R.prototype,"relatedInfos",void 0),(0,r._)([(0,m.MZ)({type:v.default})],R.prototype,"spatialReference",null),(0,r._)([(0,m.MZ)()],R.prototype,"timeZone",null),(0,r._)([(0,m.MZ)({readOnly:!0})],R.prototype,"title",void 0),(0,r._)([(0,m.MZ)()],R.prototype,"map",null),(0,r._)([(0,m.MZ)({readOnly:!0})],R.prototype,"waitingForContent",null),(0,r._)([(0,m.MZ)()],R.prototype,"view",void 0),R=n=(0,r._)([(0,_.$)("esri.widgets.Feature.FeatureViewModel")],R);const q=R},58287:(e,t,i)=>{i.d(t,{LI:()=>I,Xx:()=>v,cl:()=>g,hM:()=>w,kC:()=>m,nD:()=>_});var r=i(3825),s=i(18690),n=i(50076),a=i(76460),o=i(50346),l=i(53430),u=i(14009),d=i(68295),c=i(58289),p=i(21820),h=i(9912);const y=()=>a.A.getLogger("esri.widgets.Feature.support.relatedFeatureUtils"),f=new Map;function m(e){if(!(0,h.isRelatedField)(e))return null;const[t,i]=e.split("/").slice(1);return{layerId:t,fieldName:i}}function g(e,t){const i=function(e,t){if(!t.relationships)return null;let i=null;const{relationships:r}=t;return r.some((t=>t.id===parseInt(e,10)&&(i=t,!0))),i}(e,t);if(i)return{url:`${t.url}/${i.relatedTableId}`,sourceSpatialReference:t.spatialReference,relation:i,relatedFields:[],outStatistics:[]}}function _(e,t){if(!t)return;if(!e)return;const{features:i,statsFeatures:r}=e,s=i?.value;t.relatedFeatures=s?s.features:[];const n=r?.value;t.relatedStatsFeatures=n?n.features:[]}async function b(e,t,i,r){const n=i.layerId.toString(),{layerInfo:a,relation:p,relatedFields:h,outStatistics:y,url:f,sourceSpatialReference:m}=t,g=function(e){return e?(0,s.Am)(e):void 0}(h),_=function(e){return e?(0,s.Am)(e,((e,t)=>JSON.stringify(e.toJSON())===JSON.stringify(t.toJSON()))):void 0}(y);if(!a||!p)return null;const b=function(e){let{originRelationship:t,relationships:i,layerId:r}=e;return i.find((e=>{let{relatedTableId:i,id:s}=e;return`${i}`===r&&s===t?.id}))??null}({originRelationship:p,relationships:a.relationships,layerId:n});if(b?.relationshipTableId&&b.keyFieldInRelationshipTable){const t=(await function(e,t,i,r){const s=new c.default;return s.outFields=["*"],s.relationshipId="number"==typeof t.id?t.id:parseInt(t.id,10),s.objectIds=[e.attributes[i.objectIdField]],s.gdbVersion=i.gdbVersion??null,s.historicMoment=i.historicMoment??null,i.queryRelatedFeatures?.(s,r)??Promise.resolve({})}(e,b,i,r))[e.attributes[i.objectIdField]];if(!t)return null;const s=t.features.map((e=>e.attributes[a.objectIdField]));if(_?.length&&a.supportsStatistics){const e=new d.default;e.where=function(e,t,i){let r=0;const s=[];for(;r<t.length;)s.push(`${e} IN (${t.slice(r,i+r)})`),r+=i;return s.join(" OR ")}(a.objectIdField,s,1e3),e.outFields=g,e.outStatistics=_,e.sourceSpatialReference=m;const i={features:Promise.resolve(t),statsFeatures:(0,u.s)(f,e)};return(0,o.eachAlways)(i)}}const v=b?.keyField;if(v){const t=(0,l.isNumericField)(function(e,t){if(null!=e){t=t.toLowerCase();for(const i of e)if(i&&i.name.toLowerCase()===t)return i}return null}(a.fields,v)),s=function(e,t){const i=t.toLowerCase();for(const r in e)if(r.toLowerCase()===i)return e[r];return null}(e.attributes,p.keyField),n=t?`${v}=${s}`:`${v}='${s}'`,c=i.historicMoment,h=i.gdbVersion,y=(0,u.s)(f,new d.default({where:n,outFields:g,sourceSpatialReference:m,historicMoment:c,gdbVersion:h}),r),b=_?.length&&a.supportsStatistics?(0,u.s)(f,new d.default({where:n,outFields:g,outStatistics:_,sourceSpatialReference:m}),r):null,w={features:y};return b&&(w.statsFeatures=b),(0,o.eachAlways)(w)}return null}function v(e,t){let{relatedInfos:i,layer:s}=e;const a={};return i.forEach(((e,t)=>{const{relation:i}=e;if(!i){const e=new n.default("relation-required","A relation is required on a layer to retrieve related records.");throw y().error(e),e}const{relatedTableId:o}=i;if("number"!=typeof o){const e=new n.default("A related table ID is required on a layer to retrieve related records.");throw y().error(e),e}const l=`${s.url}/${o}`,u=f.get(l),d=u??function(e,t){return(0,r.default)(e,{query:{f:"json"},signal:t?.signal})}(l);u||f.set(l,d),a[t]=d})),(0,o.whenOrAbort)((0,o.eachAlways)(a),t)}function w(e,t){let{graphic:i,relatedInfos:r,layer:s}=e;const n={};return r.forEach(((e,r)=>{e.layerInfo&&(n[r]=b(i,e,s,t))})),(0,o.eachAlways)(n)}function I(e){let{relatedInfo:t,fieldName:i,fieldInfo:r}=e;if(t.relatedFields?.push(i),r.statisticType){const e=new p.default({statisticType:r.statisticType,onStatisticField:i,outStatisticFieldName:i});t.outStatistics?.push(e)}}},64379:(e,t,i)=>{i.d(t,{$P:()=>h,At:()=>w,J6:()=>s,JB:()=>F,Lk:()=>y,NI:()=>A,Qi:()=>I,eB:()=>M,eg:()=>g,f0:()=>m,gO:()=>_,ik:()=>b,ke:()=>c,nE:()=>p,rX:()=>f,yT:()=>v,zl:()=>r});var r,s,n,a=i(46405),o=i(16503),l=i(14902),u=i(44135),d=i(24241);function c(e){return u.default.fromJSON(e.toJSON())}function p(e){return e.toJSON?e.toJSON():e}function h(e){return e instanceof Date}function y(e){return e instanceof d.c9}function f(e){return e instanceof a.lY}function m(e){return e instanceof o.n}function g(e){return e instanceof l.k}(n=r||(r={}))[n.Standardised=0]="Standardised",n[n.StandardisedNoInterval=1]="StandardisedNoInterval",n[n.SqlServer=2]="SqlServer",n[n.Oracle=3]="Oracle",n[n.Postgres=4]="Postgres",n[n.PGDB=5]="PGDB",n[n.FILEGDB=6]="FILEGDB",n[n.NotEvaluated=7]="NotEvaluated",function(e){e[e.InFeatureSet=0]="InFeatureSet",e[e.NotInFeatureSet=1]="NotInFeatureSet",e[e.Unknown=2]="Unknown"}(s||(s={}));const _=1e3;const b={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",envelope:"extent"},v={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"},w={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger",long:"esriFieldTypeLong",single:"esriFieldTypeSingle",double:"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate","date-only":"esriFieldTypeDateOnly","time-only":"esriFieldTypeTimeOnly","timestamp-offset":"esriFieldTypeTimestampOffset",oid:"esriFieldTypeOID",geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"esriFieldTypeXML","big-integer":"esriFieldTypeBigInteger",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeDateOnly:"esriFieldTypeDateOnly",esriFieldTypeTimeOnly:"esriFieldTypeTimeOnly",esriFieldTypeTimestampOffset:"esriFieldTypeTimestampOffset",esriFieldTypeOID:"esriFieldTypeOID",esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"esriFieldTypeXML",esriFieldTypeBigInteger:"esriFieldTypeBigInteger"};function I(e){return void 0===e?"":e=(e=(e=e.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer")).replace(/\/mapserver\/[0-9]*/i,"/MapServer")).split("?")[0]}function F(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});const i="boolean"==typeof t.cycles&&t.cycles,r=t.cmp&&(s=t.cmp,function(e){return function(t,i){const r={key:t,value:e[t]},n={key:i,value:e[i]};return s(r,n)}});var s;const n=[];return function e(t){if(t?.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0===t)return;if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);let s,a;if(Array.isArray(t)){for(a="[",s=0;s<t.length;s++)s&&(a+=","),a+=e(t[s])||"null";return a+"]"}if(null===t)return"null";if(n.includes(t)){if(i)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}const o=n.push(t)-1,l=Object.keys(t).sort(r?.(t));for(a="",s=0;s<l.length;s++){const i=l[s],r=e(t[i]);r&&(a&&(a+=","),a+=JSON.stringify(i)+":"+r)}return n.splice(o,1),"{"+a+"}"}(e)}function A(e){switch(e.type){case"catalog":case"csv":case"feature":case"geojson":case"knowledge-graph-sublayer":case"oriented-imagery":case"subtype-group":case"wfs":return!0;default:return!1}}function M(e){switch(e.type){case"catalog-footprint":case"subtype-sublayer":return!0;default:return A(e)}}},65023:(e,t,i)=>{i.d(t,{A:()=>b});var r=i(35143),s=i(39356),n=i(91967),a=i(18690),o=i(69098),l=i(19276),u=i(5632),d=i(50346),c=i(68134),p=i(46053),h=(i(81806),i(76460),i(85842)),y=i(58289),f=i(9912),m=i(3320);let g=class extends(o.A.ClonableMixin(u.A.IdentifiableMixin(n.default))){constructor(e){super(e),this._loaded=!1,this._queryAbortController=null,this._queryPageAbortController=null,this._queryFeatureCountAbortController=null,this.featuresPerPage=10,this.activeCategory=null,this.allCategories=null,this.description=null,this.graphic=null,this.layer=null,this.map=null,this.orderByFields=null,this.featureCount=0,this.relationshipId=null,this.showAllEnabled=!1,this.title=null,this._cancelQuery=()=>{const{_queryAbortController:e}=this;e&&e.abort(),this._queryAbortController=null},this._cancelQueryFeatureCount=()=>{const{_queryFeatureCountAbortController:e}=this;e&&e.abort(),this._queryFeatureCountAbortController=null},this._cancelQueryPage=()=>{const{_queryPageAbortController:e}=this;e&&e.abort(),this._queryPageAbortController=null},this._queryController=async()=>{this._cancelQuery();const e=new AbortController;this._queryAbortController=e,await(0,d.ignoreAbortErrors)(this._query()),this._queryAbortController===e&&(this._queryAbortController=null)},this._queryFeatureCountController=async()=>{this._loaded=!1,this._cancelQueryFeatureCount();const e=new AbortController;this._queryFeatureCountAbortController=e,await(0,d.ignoreAbortErrors)(this._queryFeatureCount()),this._queryFeatureCountAbortController===e&&(this._queryFeatureCountAbortController=null),this._loaded=!0},this._queryPageController=async()=>{const e=new AbortController;this._queryPageAbortController=e,await(0,d.ignoreAbortErrors)(this._queryPage()),this._queryPageAbortController===e&&(this._queryPageAbortController=null)},this._queryDebounced=(0,d.debounce)(this._queryController,100),this._queryFeatureCountDebounced=(0,d.debounce)(this._queryFeatureCountController,100),this._queryPageDebounced=(0,d.debounce)(this._queryPageController,100),this._query=async()=>{const{_queryAbortController:e,relatedFeatures:t}=this;this.featureCount&&("subtype-group"!==this.relatedLayer?.type||this.activeCategory)&&(this._destroyRelatedFeatureViewModels(),this.featurePage=1,t.destroyAll(),this.destroyed||t.addMany(this._sliceFeatures(await this._queryRelatedFeatures({signal:e?.signal}))))},this.addHandles([(0,c.watch)((()=>[this.displayCount,this.graphic,this.layer,this.layer?.loaded,this.map,this.orderByFields,this.relationshipId,this.featuresPerPage,this.showAllEnabled,this.canQuery,this.featureCount,this.activeCategory]),(()=>this._queryDebounced()),c.initial),(0,c.watch)((()=>[this.featurePage,this.showAllEnabled]),(()=>this._queryPageDebounced())),(0,c.watch)((()=>[this.layer,this.relationshipId,this.objectId,this.canQuery,this.activeCategory]),(()=>this._queryFeatureCountDebounced()))])}destroy(){this._destroyRelatedFeatureViewModels(),this.relatedFeatures.destroyAll(),this._cancelQuery(),this._cancelQueryFeatureCount(),this._cancelQueryPage()}set featurePage(e){const{featuresPerPage:t,featureCount:i}=this,r=Math.ceil(i/t)||1;this._set("featurePage",Math.min(Math.max(e,1),r))}get featurePage(){return this._get("featurePage")}get orderByFieldsFixedCasing(){const{orderByFields:e,relatedLayer:t}=this;return e&&t?.loaded?e.map((e=>{const i=e.clone();return i.field=(0,f.getFixedFieldName)(e.field,t),i})):e??[]}get supportsCacheHint(){return!!this.layer?.capabilities?.queryRelated?.supportsCacheHint}get canLoad(){return!!this.map&&null!=this.relationshipId&&"number"==typeof this.objectId}get canQuery(){const e=this.layer?.capabilities?.queryRelated;return!!(this.relatedLayer&&this.relationship&&null!=this.relationshipId&&null!=this.objectId&&e?.supportsCount&&e?.supportsPagination)}get allCategoriesCount(){return this.allCategories?.length??0}get categories(){const{allCategories:e}=this;return this.showAllEnabled?e:e?.slice(0,this.displayCount)??null}set displayCount(e){this._set("displayCount",Math.min(Math.max(e??3,0),10))}get displayCount(){return this._get("displayCount")}get itemDescriptionFieldName(){return this.orderByFieldsFixedCasing[0]?.field||null}get objectId(){return(this.objectIdField&&this.graphic?.attributes?.[this.objectIdField])??null}get objectIdField(){return this.layer?.objectIdField||null}get relatedFeatures(){return this._get("relatedFeatures")||new l.default}get relatedLayer(){const{layer:e,map:t,relationship:i}=this;if(!e?.loaded||!t||!i)return null;const r="subtype-sublayer"===e.type&&e.parent&&(0,f.isRelatableFeatureSupportedLayer)(e.parent)?e.parent:e;return(0,f.findRelatedLayer)(t,r,i)??null}get relatedLayerKeyField(){const{relatedLayer:e,relationshipId:t}=this;return e?.loaded&&null!=t?e.relationships?.find((e=>e.id===t))?.keyField:null}get relatedLayerKeyFields(){const{relatedLayer:e}=this;return e?.loaded?e.relationships?.map((e=>e.keyField)).filter(a.Ru)??[]:[]}get relationship(){const{relationshipId:e,layer:t}=this;return null!=e&&t?.loaded?t.relationships?.find((t=>{let{id:i}=t;return i===e}))??null:null}get relationshipKey(){const{relationshipKeyField:e}=this;return(e&&this.graphic?.attributes?.[e])??null}get relationshipKeyField(){return this.relationship?.keyField||null}get relatedFeatureViewModels(){return this._get("relatedFeatureViewModels")||new l.default}get state(){const{_queryAbortController:e,_queryFeatureCountAbortController:t,_queryPageAbortController:i,canQuery:r,_loaded:s,canLoad:n}=this;return t||n&&!s?"loading":e||i?"querying":r?"ready":"disabled"}getRelatedFeatureByObjectId(e){return this.relatedFeatures.find((t=>t.getObjectId()===e))}refresh(){this._queryFeatureCountDebounced()}_destroyRelatedFeatureViewModels(){this.relatedFeatureViewModels?.destroyAll()}async _queryFeatureCount(){const{layer:e,relatedLayer:t}=this;await(e?.load()),await(t?.load());const{_queryFeatureCountAbortController:r,activeCategory:s,canQuery:n,objectId:o,relatedLayerKeyField:l,relationshipId:u,relationshipKey:d,supportsCacheHint:c}=this;if(!n||!e||!t||null==o)return this._set("featureCount",0),void this._set("allCategories",null);if("subtype-group"===t?.type&&!s){if(this._set("featureCount",0),this._destroyRelatedFeatureViewModels(),this.featurePage=1,this.relatedFeatures.destroyAll(),l&&null!=d){const{default:e}=await Promise.all([i.e(89122),i.e(72003),i.e(39729),i.e(90704),i.e(11563),i.e(78941)]).then(i.bind(i,78941)),{uniqueValueInfos:s}=await e({layer:t,sqlWhere:`${l} = '${d}'`,field:t.subtypeField,signal:r?.signal}),n=s.map((e=>{let{count:i,value:r}=e;const s=t.subtypes?.find((e=>e.code===r))?.name;return null!=r&&s?{count:i,value:r,name:s}:void 0})).filter(a.Ru);this._set("allCategories",n)}return}const{historicMoment:p,gdbVersion:h}=e,f=new y.default({cacheHint:c,gdbVersion:h,historicMoment:p,relationshipId:u,returnGeometry:!1,objectIds:[o],where:this._getRelationshipWhereClause(t)}),m=await e.queryRelatedFeaturesCount(f,{signal:r?.signal});this._set("allCategories",null),this._set("featureCount",m[o]||0)}_getRelationshipWhereClause(e){const{activeCategory:t}=this,i=e.createQuery(),r="subtypeField"in e?e.subtypeField:void 0,s=t&&r?`${r} = ${t.value}`:void 0,n=i.where;return n&&s?`(${n}) AND (${s})`:n??s}_sliceFeatures(e){const{showAllEnabled:t,displayCount:i}=this;return t?e:i?e.slice(0,i):[]}async _queryPage(){const{relatedFeatures:e,featurePage:t,showAllEnabled:i,_queryPageAbortController:r,featureCount:s}=this;!i||t<2||!s||"subtype-group"===this.relatedLayer?.type&&!this.activeCategory||e.addMany(await this._queryRelatedFeatures({signal:r?.signal}))}async _queryRelatedFeatures(e){const{displayCount:t,featureCount:i,featurePage:r,featuresPerPage:s,layer:n,orderByFieldsFixedCasing:a,relatedLayer:o,relatedLayerKeyFields:l,relationshipId:u,showAllEnabled:d,supportsCacheHint:c}=this,{canQuery:p,objectId:h}=this;if(!p||!n||!o||null==h)return[];const f=d?((r-1)*s+i)%i:0,g=d?s:t,b=o.objectIdField,v="subtypeField"in o?o.subtypeField:void 0,w=[...a.map((e=>e.field)),...(0,m.n4)(o),...l,b,v].filter(_),I=a.map((e=>`${e.field} ${e.order}`)),{historicMoment:F,gdbVersion:A}=n,M=new y.default({orderByFields:I,start:f,num:g,outFields:w,cacheHint:c,historicMoment:F,gdbVersion:A,relationshipId:u,returnGeometry:!1,objectIds:[h],where:this._getRelationshipWhereClause(o)}),T=await n.queryRelatedFeatures(M,{signal:e?.signal}),C=T[h]?.features||[];return"subtype-group"===o.type&&v?C.forEach((e=>{const t=e.attributes[v],i=o.findSublayerForSubtypeCode?.(t);e.sourceLayer=i,e.layer=i})):C.forEach((e=>{e.sourceLayer=o,e.layer=o})),C}};function _(e){return null!=e&&""!==e}(0,r._)([(0,p.MZ)()],g.prototype,"_loaded",void 0),(0,r._)([(0,p.MZ)()],g.prototype,"_queryAbortController",void 0),(0,r._)([(0,p.MZ)()],g.prototype,"_queryPageAbortController",void 0),(0,r._)([(0,p.MZ)()],g.prototype,"_queryFeatureCountAbortController",void 0),(0,r._)([(0,p.MZ)({value:1})],g.prototype,"featurePage",null),(0,r._)([(0,p.MZ)()],g.prototype,"featuresPerPage",void 0),(0,r._)([(0,p.MZ)({readOnly:!0})],g.prototype,"orderByFieldsFixedCasing",null),(0,r._)([(0,p.MZ)({readOnly:!0})],g.prototype,"supportsCacheHint",null),(0,r._)([(0,p.MZ)({readOnly:!0})],g.prototype,"canLoad",null),(0,r._)([(0,p.MZ)({readOnly:!0})],g.prototype,"canQuery",null),(0,r._)([(0,p.MZ)()],g.prototype,"activeCategory",void 0),(0,r._)([(0,p.MZ)({readOnly:!0})],g.prototype,"allCategories",void 0),(0,r._)([(0,p.MZ)({readOnly:!0})],g.prototype,"allCategoriesCount",null),(0,r._)([(0,p.MZ)({readOnly:!0})],g.prototype,"categories",null),(0,r._)([(0,p.MZ)()],g.prototype,"description",void 0),(0,r._)([(0,p.MZ)({value:3})],g.prototype,"displayCount",null),(0,r._)([(0,p.MZ)({type:s.default})],g.prototype,"graphic",void 0),(0,r._)([(0,p.MZ)({readOnly:!0})],g.prototype,"itemDescriptionFieldName",null),(0,r._)([(0,p.MZ)()],g.prototype,"layer",void 0),(0,r._)([(0,p.MZ)()],g.prototype,"map",void 0),(0,r._)([(0,p.MZ)({readOnly:!0})],g.prototype,"objectId",null),(0,r._)([(0,p.MZ)({readOnly:!0})],g.prototype,"objectIdField",null),(0,r._)([(0,p.MZ)()],g.prototype,"orderByFields",void 0),(0,r._)([(0,p.MZ)({readOnly:!0})],g.prototype,"relatedFeatures",null),(0,r._)([(0,p.MZ)({readOnly:!0})],g.prototype,"relatedLayer",null),(0,r._)([(0,p.MZ)({readOnly:!0})],g.prototype,"relatedLayerKeyField",null),(0,r._)([(0,p.MZ)({readOnly:!0})],g.prototype,"relatedLayerKeyFields",null),(0,r._)([(0,p.MZ)({readOnly:!0})],g.prototype,"relationship",null),(0,r._)([(0,p.MZ)({readOnly:!0})],g.prototype,"relationshipKey",null),(0,r._)([(0,p.MZ)({readOnly:!0})],g.prototype,"relationshipKeyField",null),(0,r._)([(0,p.MZ)({readOnly:!0})],g.prototype,"featureCount",void 0),(0,r._)([(0,p.MZ)({readOnly:!0})],g.prototype,"relatedFeatureViewModels",null),(0,r._)([(0,p.MZ)()],g.prototype,"relationshipId",void 0),(0,r._)([(0,p.MZ)()],g.prototype,"showAllEnabled",void 0),(0,r._)([(0,p.MZ)()],g.prototype,"state",null),(0,r._)([(0,p.MZ)()],g.prototype,"title",void 0),g=(0,r._)([(0,h.$)("esri.widgets.Feature.FeatureRelationship.FeatureRelationshipViewModel")],g);const b=g},78238:(e,t,i)=>{function r(e){const t={};for(const i in e){if("declaredClass"===i)continue;const s=e[i];if(null!=s&&"function"!=typeof s)if(Array.isArray(s)){t[i]=[];for(let e=0;e<s.length;e++)t[i][e]=r(s[e])}else"object"==typeof s?s.toJSON&&(t[i]=JSON.stringify(s)):t[i]=s}return t}i.d(t,{z:()=>r})},78583:(e,t,i)=>{i.r(t),i.d(t,{default:()=>b});var r=i(35143),s=i(39356),n=i(91967),a=i(19276),o=i(50076),l=i(68134),u=i(46053),d=i(21403),c=(i(81806),i(47249),i(85842)),p=i(6362),h=i(88084),y=i(9708),f=i(9912);const m={editing:!1,operations:{add:!0,update:!0,delete:!0}},g=a.default.ofType(h.default);let _=class extends n.default{constructor(e){super(e),this._getAttachmentsPromise=null,this._attachmentLayer=null,this.capabilities={...m},this.activeAttachmentInfo=null,this.activeFileInfo=null,this.attachmentInfos=new g,this.fileInfos=new a.default,this.graphic=null,this.mode="view",this.orderByFields=null,this.filesEnabled=!1,this.addHandles((0,l.watch)((()=>this.graphic),(()=>this._graphicChanged()),l.initial))}destroy(){this._attachmentLayer=null,this.graphic=null}castCapabilities(e){return{...m,...e}}get state(){return this._getAttachmentsPromise?"loading":this.graphic?"ready":"disabled"}get supportsResizeAttachments(){const{graphic:e}=this;if(!e)return!1;const t=e.layer||e.sourceLayer;return t?.loaded&&"capabilities"in t&&t.capabilities&&"attachment"in t.capabilities&&t.capabilities.attachment&&"supportsResize"in t.capabilities.attachment&&t.capabilities.attachment.supportsResize||!1}async getAttachments(){const{_attachmentLayer:e,attachmentInfos:t,orderByFields:i}=this;if(!e||"function"!=typeof e.queryAttachments)throw new o.default("invalid-layer","getAttachments(): A valid layer is required.");const r=this._getObjectId();if("number"!=typeof r)throw new o.default("invalid-object-id","getAttachments(): Numeric object id is required");const s=i?.map((e=>`${e.field} ${"descending"===e.order?"DESC":"ASC"}`)),n=new y.default({objectIds:[r],returnMetadata:!0,orderByFields:s}),a=[],l=e.queryAttachments(n).then((e=>e[r]||a)).catch((()=>a));this._getAttachmentsPromise=l,this.notifyChange("state");const u=await l;return t.destroyAll(),u.length&&t.addMany(u),this._getAttachmentsPromise=null,this.notifyChange("state"),u}async addAttachment(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.graphic;const{_attachmentLayer:i,attachmentInfos:r,capabilities:s}=this;if(!t)throw new o.default("invalid-graphic","addAttachment(): A valid graphic is required.",{graphic:t});if(!e)throw new o.default("invalid-attachment","addAttachment(): An attachment is required.",{attachment:e});if(!s.operations?.add)throw new o.default("invalid-capabilities","addAttachment(): add capabilities are required.");if(!i||"function"!=typeof i.addAttachment)throw new o.default("invalid-layer","addAttachment(): A valid layer is required.");const n=i.addAttachment(t,e).then((e=>this._queryAttachment(e.objectId,t))),a=await n;return r.add(a),a}async deleteAttachment(e){const{_attachmentLayer:t,attachmentInfos:i,graphic:r,capabilities:s}=this;if(!e)throw new o.default("invalid-attachment-info","deleteAttachment(): An attachmentInfo is required.",{attachmentInfo:e});if(!s.operations?.delete)throw new o.default("invalid-capabilities","deleteAttachment(): delete capabilities are required.");if(!t||"function"!=typeof t.deleteAttachments)throw new o.default("invalid-layer","deleteAttachment(): A valid layer is required.");if(!r)throw new o.default("invalid-graphic","deleteAttachment(): A graphic is required.");const n=t.deleteAttachments(r,[e.id]).then((()=>e)),a=await n;return i.remove(a),a.destroy(),a}async updateAttachment(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.activeAttachmentInfo;const{_attachmentLayer:i,attachmentInfos:r,graphic:s,capabilities:n}=this;if(!e)throw new o.default("invalid-attachment","updateAttachment(): An attachment is required.",{attachment:e});if(!t)throw new o.default("invalid-attachment-info","updateAttachment(): An attachmentInfo is required.",{attachmentInfo:t});if(!n.operations?.update)throw new o.default("invalid-capabilities","updateAttachment(): Update capabilities are required.");const a=r.indexOf(t);if(!i||"function"!=typeof i.updateAttachment)throw new o.default("invalid-layer","updateAttachment(): A valid layer is required.");if(!s)throw new o.default("invalid-graphic","updateAttachment(): A graphic is required.");const l=i.updateAttachment(s,t.id,e).then((e=>this._queryAttachment(e.objectId))),u=await l;return r.splice(a,1,u),u}async commitFiles(){return await Promise.all(this.fileInfos.items.map((e=>this.addAttachment(e.form)))),this.fileInfos.removeAll(),this.getAttachments()}addFile(e,t){if(!e||!t)return null;const i={file:e,form:t};return this.fileInfos.add(i),i}updateFile(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.activeFileInfo;if(!e||!t||!i)return null;const r=this.fileInfos.indexOf(i);return r>-1&&this.fileInfos.splice(r,1,{file:e,form:t}),this.fileInfos.items[r]}deleteFile(e){const t=this.fileInfos.find((t=>t.file===e));return t?(this.fileInfos.remove(t),t):null}async _queryAttachment(e,t){const{_attachmentLayer:i}=this;if(!e||!i?.queryAttachments)throw new o.default("invalid-attachment-id","Could not query attachment.");const r=this._getObjectId(t);if("number"!=typeof r)throw new o.default("invalid-object-id","getAttachments(): Numeric object id is required");const s=new y.default({objectIds:[r],attachmentsWhere:`AttachmentId=${e}`,returnMetadata:!0});return i.queryAttachments(s).then((e=>e[r][0]))}_getObjectId(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.graphic;return e?.getObjectId()??null}_graphicChanged(){this.graphic&&(this._setAttachmentLayer(),this.getAttachments().catch((()=>this.attachmentInfos.destroyAll())))}_setAttachmentLayer(){const{graphic:e}=this,t=(0,f.getSourceLayer)(e);this._attachmentLayer=t?"scene"===t.type&&null!=t.associatedLayer?t.associatedLayer:t:null}};(0,r._)([(0,u.MZ)()],_.prototype,"capabilities",void 0),(0,r._)([(0,d.w)("capabilities")],_.prototype,"castCapabilities",null),(0,r._)([(0,u.MZ)()],_.prototype,"activeAttachmentInfo",void 0),(0,r._)([(0,u.MZ)()],_.prototype,"activeFileInfo",void 0),(0,r._)([(0,u.MZ)({readOnly:!0,type:g})],_.prototype,"attachmentInfos",void 0),(0,r._)([(0,u.MZ)()],_.prototype,"fileInfos",void 0),(0,r._)([(0,u.MZ)({type:s.default})],_.prototype,"graphic",void 0),(0,r._)([(0,u.MZ)()],_.prototype,"mode",void 0),(0,r._)([(0,u.MZ)({type:[p.default]})],_.prototype,"orderByFields",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],_.prototype,"state",null),(0,r._)([(0,u.MZ)()],_.prototype,"filesEnabled",void 0),(0,r._)([(0,u.MZ)({readOnly:!0})],_.prototype,"supportsResizeAttachments",null),_=(0,r._)([(0,c.$)("esri.widgets.Attachments.AttachmentsViewModel")],_);const b=_},79468:(e,t,i)=>{function r(e,t,i,r){let s=null,n=1e3;"number"==typeof t?(n=t,r=i):(s=t??null,n=i);let a,o=0;const l=()=>{o=0,e.apply(r,a)},u=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];s&&s.apply(r,t),a=t,n?o||(o=setTimeout(l,n)):l()};return u.remove=()=>{o&&(clearTimeout(o),o=0)},u.forceUpdate=()=>{o&&(clearTimeout(o),l())},u.hasPendingUpdates=()=>!!o,u}i.d(t,{n:()=>r})},80324:(e,t,i)=>{i.d(t,{Fq:()=>a,Yc:()=>s,Yq:()=>n});var r=i(76797);function s(e){if(null==e)return null;switch(e.type){case"polygon":case"multipoint":case"polyline":return e.extent;case"point":return new r.default({xmin:e.x,ymin:e.y,xmax:e.x,ymax:e.y,spatialReference:e.spatialReference});case"extent":return e}return null}function n(e){if(null==e)return null;const t=e.clone();return void 0!==e.cache._geVersion&&(t.cache._geVersion=e.cache._geVersion),t}function a(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}},88084:(e,t,i)=>{i.r(t),i.d(t,{default:()=>p});var r,s=i(35143),n=i(42553),a=i(46053),o=i(40565),l=(i(81806),i(47249),i(85842));function u(e){const{exifInfo:t,exifName:i,tagName:r}=e;if(!t||!i||!r)return null;const s=t.find((e=>e.name===i));return s?function(e){const{tagName:t,tags:i}=e;if(!i||!t)return null;const r=i.find((e=>e.name===t));return r?.value||null}({tagName:r,tags:s.tags}):null}const d={1:{id:1,rotation:0,mirrored:!1},2:{id:2,rotation:0,mirrored:!0},3:{id:3,rotation:180,mirrored:!1},4:{id:4,rotation:180,mirrored:!0},5:{id:5,rotation:-90,mirrored:!0},6:{id:6,rotation:90,mirrored:!1},7:{id:7,rotation:90,mirrored:!0},8:{id:8,rotation:-90,mirrored:!1}};let c=r=class extends n.A{constructor(e){super(e),this.contentType=null,this.exifInfo=null,this.id=null,this.globalId=null,this.keywords=null,this.name=null,this.parentGlobalId=null,this.parentObjectId=null,this.size=null,this.url=null}get orientationInfo(){const{exifInfo:e}=this,t=u({exifName:"Exif IFD0",tagName:"Orientation",exifInfo:e});return d[t]||null}clone(){return new r({contentType:this.contentType,exifInfo:this.exifInfo,id:this.id,globalId:this.globalId,keywords:this.keywords,name:this.name,parentGlobalId:this.parentGlobalId,parentObjectId:this.parentObjectId,size:this.size,url:this.url})}};(0,s._)([(0,a.MZ)({type:String})],c.prototype,"contentType",void 0),(0,s._)([(0,a.MZ)()],c.prototype,"exifInfo",void 0),(0,s._)([(0,a.MZ)({readOnly:!0})],c.prototype,"orientationInfo",null),(0,s._)([(0,a.MZ)({type:o.jz})],c.prototype,"id",void 0),(0,s._)([(0,a.MZ)({type:String})],c.prototype,"globalId",void 0),(0,s._)([(0,a.MZ)({type:String})],c.prototype,"keywords",void 0),(0,s._)([(0,a.MZ)({type:String})],c.prototype,"name",void 0),(0,s._)([(0,a.MZ)({json:{read:!1}})],c.prototype,"parentGlobalId",void 0),(0,s._)([(0,a.MZ)({json:{read:!1}})],c.prototype,"parentObjectId",void 0),(0,s._)([(0,a.MZ)({type:o.jz})],c.prototype,"size",void 0),(0,s._)([(0,a.MZ)({json:{read:!1}})],c.prototype,"url",void 0),c=r=(0,s._)([(0,l.$)("esri.rest.query.support.AttachmentInfo")],c);const p=c}}]);
//# sourceMappingURL=51007.b888f53f.chunk.js.map