{"version":3,"file":"static/js/60831.73ad6d40.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/widgets/ScaleBar/ScaleBarViewModel.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import{createScreenPoint as r}from\"../../core/screenUtils.js\";import{getMetersPerUnit as i,convertUnit as s}from\"../../core/unitUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import a from\"../../geometry/Point.js\";import c from\"../../geometry/Polyline.js\";import m from\"../../geometry/SpatialReference.js\";import{isSupported as l,geodesicLengths as p}from\"../../geometry/support/geodesicUtils.js\";import{straightLineDensify as u}from\"../../geometry/support/normalizeUtils.js\";import{isValid as d,getInfo as f}from\"../../geometry/support/spatialReferenceUtils.js\";import{webMercatorToGeographic as h}from\"../../geometry/support/webMercatorUtils.js\";import{isLinkChartView as w}from\"../../linkChart/utils.js\";function g(e){return e>.5?{min:.5,max:1}:e>.2?{min:.2,max:.5}:{min:.1,max:.2}}function y(e,t){switch(t){case\"metric\":return e>1e3?{distance:s(e,\"meters\",\"kilometers\"),unit:\"kilometer\"}:e>1?{distance:e,unit:\"meter\"}:e>.01?{distance:s(e,\"meters\",\"centimeters\"),unit:\"centimeter\"}:{distance:s(e,\"meters\",\"millimeters\"),unit:\"millimeter\"};case\"imperial\":return e>1609.344?{distance:s(e,\"meters\",\"miles\"),unit:\"mile\"}:e>.3048?{distance:s(e,\"meters\",\"feet\"),unit:\"foot\"}:{distance:s(e,\"meters\",\"inches\"),unit:\"inch\"}}}function j(e){const{isWebMercator:t,wkt:r,wkt2:i}=e;return t||((i||r)?.includes(\"WGS_1984_Web_Mercator\")??!1)}function S({state:{paddedViewState:e},spatialReference:t,width:r}){return t.isWrappable&&e.worldScreenWidth<r}function v(e,t){const{x:r,y:i}=e?h(t,!0):t;return[r,i]}let M=class extends t{constructor(e){super(e),this.scaleComputedFrom=r(),this.view=null}get state(){return this.view?.ready&&\"2d\"===this.view.type?w(this.view)&&!this.view.inGeographicLayout?\"disabled\":\"ready\":\"disabled\"}getScaleBarProperties(e,t){if(\"disabled\"===this.state||isNaN(e)||!t||!this.view)return null;const r=this._getDistanceInMeters();return null==r?null:this._getScaleBarProps(e,r,t)}_getDistanceInMeters(){const{state:e,spatialReference:t}=this.view;if(!d(t))return null;const{isGeographic:r}=t,s=j(t);if(!r&&!s){return e.extent.width*(i(t)??1)}const[o,n]=this._getScaleMeasuringPoints(),a=s||r&&!l(t)?m.WGS84:t,f=new c({paths:[[v(s,o),v(s,n)]],spatialReference:a}),h=u(f,10);let w;try{[w]=p([h],\"meters\")}catch{return null}return w}_getScaleMeasuringPoints(){const e=this.view,{width:t,height:i,position:s,spatialReference:o}=e;if(S(e)){const e=f(o),{valid:t}=e;return[new a(t[0],0,o),new a(t[1],0,o)]}let n=this.scaleComputedFrom.y-s[1];n>i?n=i:n<0&&(n=0);const c=r(0,n),m=r(t,n);return[e.toMap(c),e.toMap(m)]}_getScaleBarProps(e,t,r){const i=this.view,s=e*t/(S(i)?i.state.paddedViewState.worldScreenWidth:i.width);if(s<.001)return null;const o=y(s,r),{distance:n,unit:a}=o;let c=n,m=0;for(;c>=1;)c/=10,m++;const{min:l,max:p}=g(c),u=p/c>=c/l?l:p;return{length:e*(u/c),value:10**m*u,unit:a}}};e([o()],M.prototype,\"scaleComputedFrom\",void 0),e([o({readOnly:!0})],M.prototype,\"state\",null),e([o()],M.prototype,\"view\",void 0),M=e([n(\"esri.widgets.ScaleBar.ScaleBarViewModel\")],M);const _=M;export{_ as default};\n"],"names":["S","_ref","state","paddedViewState","e","spatialReference","t","width","r","isWrappable","worldScreenWidth","v","x","y","i","h","M","constructor","super","this","scaleComputedFrom","view","ready","type","w","inGeographicLayout","getScaleBarProperties","isNaN","_getDistanceInMeters","_getScaleBarProps","d","isGeographic","s","isWebMercator","wkt","wkt2","includes","j","extent","o","n","_getScaleMeasuringPoints","a","l","m","WGS84","f","c","paths","u","p","height","position","valid","toMap","distance","unit","min","max","g","length","value","prototype","readOnly","_"],"sourceRoot":""}