"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[19679],{19679:(t,e,a)=>{a.r(e),a.d(e,{default:()=>p});var i=a(35143),o=a(50076),n=a(54099),s=a(46053),r=(a(81806),a(76460),a(47249),a(85842)),l=a(28546);let h=class extends n.A.EventedAccessor{constructor(t){super(t),this._goToExtentController=null,this._scaleExtent=(t,e)=>{const a=t,i=(t.xmax-t.xmin)/2*(e-1),o=(t.ymax-t.ymin)/2*(e-1);return a.xmin=t.xmin-i,a.ymin=t.ymin-o,a.xmax=t.xmax+i,a.ymax=t.ymax+o,a},this.switchLayout=this.switchLayout.bind(this)}destroy(){this._cancelGoToExtent(),this.view=null}set view(t){this._set("view",t),t&&t.when().then((()=>{if(this.view===t){if(!this.view.map.linkChartProperties)throw new o.default("linkChartLayoutSwitcher:error","Link chart layouts are only supported on WebLinkCharts.");this.layout=(0,l.convertLayoutTypeToWebSupportedFormat)(this.view.map.linkChartProperties.layoutType)}}))}get state(){return this.view?this.view.map.linkChartProperties?"ready":"disabled":"loading"}get layout(){return this._get("layout")||"organic-standard"}set layout(t){this._set("layout",t)}get preventExtentUpdate(){return this._get("preventExtentUpdate")||!1}set preventExtentUpdate(t){this._set("preventExtentUpdate",t)}async switchLayout(t){if(!this.view||!this.view.map)throw new o.default("linkChartLayoutSwitcher:loading-state","Cannot change layout when link chart has not loaded.");if(this.layout=t,await this.view.map.applyLayout(t),!this.preventExtentUpdate&&this.view.map.diagramNodesExtent){const a="geographic-organic-standard"!==t?this._scaleExtent(this.view.map.diagramNodesExtent,1.4):this.view.map.diagramNodesExtent,i=new AbortController;this._goToExtentController=i;try{await this.view.when(),await this.view.goTo(a,{signal:i.signal})}catch(e){}this._goToExtentController=null}this.emit("switchLayout",{layout:t})}_cancelGoToExtent(){const{_goToExtentController:t}=this;t&&t.abort(),this._goToExtentController=null}};(0,i._)([(0,s.MZ)()],h.prototype,"_goToExtentController",void 0),(0,i._)([(0,s.MZ)()],h.prototype,"view",null),(0,i._)([(0,s.MZ)({readOnly:!0})],h.prototype,"state",null),(0,i._)([(0,s.MZ)()],h.prototype,"layout",null),(0,i._)([(0,s.MZ)()],h.prototype,"preventExtentUpdate",null),h=(0,i._)([(0,r.$)("esri.widgets.LinkChartLayoutSwitcher.LinkChartLayoutSwitcherViewModel")],h);const p=h}}]);
//# sourceMappingURL=19679.2bead7fb.chunk.js.map