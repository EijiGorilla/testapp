{"version":3,"file":"static/js/1232.e4608ee7.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/geometry/support/MeshTransform.js","../node_modules/@arcgis/core/geometry/support/meshUtils/georeference.js","../node_modules/@arcgis/core/geometry/support/meshUtils/merge.js","../node_modules/@arcgis/core/geometry/support/meshUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import o from\"../../core/JSONSupport.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{fromRotationTranslationScale as i,invert as e,exactEquals as a}from\"../../core/libs/gl-matrix-2/math/mat4.js\";import{create as l}from\"../../core/libs/gl-matrix-2/factories/mat4f64.js\";import{setAxisAngle as n}from\"../../core/libs/gl-matrix-2/math/quat.js\";import{create as c}from\"../../core/libs/gl-matrix-2/factories/quatf64.js\";import{create as p,fromArray as m,fromValues as u,clone as h}from\"../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{up as x,fromAxisAndAngle as g,axis as f,angle as j,angleRad as b}from\"./axisAngleDegrees.js\";var y;let A=y=class extends o{constructor(t){super(t),this.translation=p(),this.rotationAxis=m(x),this.rotationAngle=0,this.scale=u(1,1,1)}get rotation(){return g(this.rotationAxis,this.rotationAngle)}set rotation(t){this.rotationAxis=h(f(t)),this.rotationAngle=j(t)}get localMatrix(){const t=l();return n(d,f(this.rotation),b(this.rotation)),i(t,d,this.translation,this.scale),t}get localMatrixInverse(){return e(l(),this.localMatrix)}equals(t){return this===t||null!=t&&a(this.localMatrix,t.localMatrix)}clone(){const t={translation:h(this.translation),rotationAxis:h(this.rotationAxis),rotationAngle:this.rotationAngle,scale:h(this.scale)};return new y(t)}};t([r({type:[Number],nonNullable:!0,json:{write:!0}})],A.prototype,\"translation\",void 0),t([r({type:[Number],nonNullable:!0,json:{write:!0}})],A.prototype,\"rotationAxis\",void 0),t([r({type:Number,nonNullable:!0,json:{write:!0}})],A.prototype,\"rotationAngle\",void 0),t([r({type:[Number],nonNullable:!0,json:{write:!0}})],A.prototype,\"scale\",void 0),t([r()],A.prototype,\"rotation\",null),t([r()],A.prototype,\"localMatrix\",null),t([r()],A.prototype,\"localMatrixInverse\",null),A=y=t([s(\"esri.geometry.support.MeshTransform\")],A);const d=c(),N=A;export{N as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{fromValues as e}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import t from\"../MeshGeoreferencedVertexSpace.js\";import r from\"../MeshLocalVertexSpace.js\";import{isGlobal as n}from\"./geographicUtils.js\";import{convertVertexSpace as i}from\"./vertexSpaceConversion.js\";function o(e,t,r){return n(t.spatialReference,r?.geographic)?s(e,t,!1,r):c(e,t,r)}function a(e,t,r){return n(t.spatialReference,r?.geographic)?u(e,t,r):p(e,t,r)}function c(r,n,o){const a=e(n.x,n.y,n.z??0);return i({vertexAttributes:r,vertexSpace:new t({origin:a}),spatialReference:n.spatialReference},t.absolute,{sourceUnit:o?.unit})}function s(n,o,a,c){const s=e(o.x,o.y,o.z??0);return i({vertexAttributes:n,vertexSpace:new r({origin:s}),spatialReference:o.spatialReference},new t({origin:null}),{sourceUnit:c?.unit})}function p(r,n,o){const a=e(n.x,n.y,n.z??0);return i({vertexAttributes:r,vertexSpace:t.absolute,spatialReference:n.spatialReference},new t({origin:a}),{targetUnit:o?.unit})}function u(n,o,a){const c=e(o.x,o.y,o.z??0);return i({vertexAttributes:n,spatialReference:o.spatialReference,vertexSpace:t.absolute},new r({origin:c}),{targetUnit:a?.unit})}export{o as georeference,a as ungeoreference};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import{I as t,g as n,h as r}from\"../../../chunks/vec32.js\";import{create as o}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import i from\"../MeshComponent.js\";import{MeshVertexAttributes as s}from\"../MeshVertexAttributes.js\";import{convertVertexSpace as l}from\"./vertexSpaceConversion.js\";const a=()=>e.getLogger(\"esri.geometry.support.triangleMeshMerge\");function c(e,t){if(0===e.length)return a().error(\"merge()\",\"Must specify one more geometries to merge\"),null;const n=e[0].spatialReference;for(const l of e){if(!l.spatialReference.equals(n))return a().error(\"merge()\",\"Geometries must all be in the same spatial reference\"),null;if(!l.loaded)return a().error(\"merge()\",\"Geometries must all be loaded before merging\"),null}const r=u(e);if(null==r)return null;const o=x(e),i=[],s={position:0,uv:0,normal:0,tangent:0,color:0},c=new Map,f=new Map;for(const u of e){const e=r.rebake?l(u,r.vertexSpace,{allowBufferReuse:!0}):u.vertexAttributes;if(!e)return a().error(\"merge()\",\"Failed to convert vertex space due to projection errors\"),null;if(t&&t.reuseMaterials&&u.components)for(const t of u.components)t.material&&c.set(t.material,t.material);m(u,s,c,f,i),g(\"position\",e,o,s,0),g(\"normal\",e,o,s,0),g(\"tangent\",e,o,s,0),g(\"uv\",u.vertexAttributes,o,s,0),g(\"color\",u.vertexAttributes,o,s,255)}return{vertexAttributes:o,components:i,vertexSpace:r.vertexSpace,transform:r.rebake?null:r.transform,spatialReference:n}}function u(e){let i=null,s=null,l=!0,c=!0,u=null;const f=o();let p=0;for(const r of e){const{vertexSpace:e,transform:o}=r;if(null==s){s=e;const t=s.origin;t&&(u=t)}if(s.type!==e.type)return a().error(\"merge()\",`Inconsistent mesh vertex space for provided geometries. One was ${s.type} while another is ${e.type}. Unable to merge geometries.`),null;null==i||null!=o&&o.equals(i)||(l=!1),null!=o&&null==i&&(i=o);const m=e.origin;m&&(u&&!t(m,u)&&(c=!1),p++,n(f,f,m))}if(null==s)throw new Error;const m=s.clone();if(null==m.origin)return{rebake:!1,vertexSpace:m};if(c&&l)return{rebake:!1,vertexSpace:m,transform:i?.clone()};const g=r(f,f,1/p);return m.origin=g,{rebake:!0,vertexSpace:m}}function f(e,t){return t.normal>0&&!e.vertexAttributes.normal}function p(e,t,n){f(e,t)&&\"source\"===n.shading&&(n.shading=\"flat\")}function m(e,t,n,r,o){if(e.components)for(const i of e.components){const s=i.cloneWithDeduplication(n,r),l=t.position/3;if(s.faces)for(let e=0;e<s.faces.length;e++)s.faces[e]+=l;else{s.faces=new Uint32Array(e.vertexAttributes.position.length/3);for(let e=0;e<s.faces.length;e++)s.faces[e]=e+l}p(e,t,s),o.push(s)}else if(e.vertexAttributes&&e.vertexAttributes.position){const n=e.vertexAttributes.position.length/3,r=new Uint32Array(n),s=t.position/3;for(let e=0;e<n;e++)r[e]=e+s;const l=new i({faces:r});p(e,t,l),o.push(l)}}function g(e,t,n,r,o){if(!t)return;const i=t.position;if(!i)return;const s=t[e],l=n[e];if(null==s){let t=r[e];const n=b[e];if(null!=l){for(let e=0;e<i.length;e+=3)for(let r=0;r<n;r++)l[t++]=o;r[e]=t}}else null!=l&&null!=s&&(v(s,0,l,r[e],s.length),r[e]+=s.length)}function v(e,t,n,r,o){for(let i=0;i<o;i++)n[r++]=e[t++];return n}function h(e){let t=!1,n=!1,r=!1,o=!1;for(const i of e){const e=i.vertexAttributes;if(e?.position&&(e.uv&&(t=!0),e.normal&&(n=!0),e.tangent&&(o=!0),e.color&&(r=!0),n&&t&&r&&o))break}return{normal:n,uv:t,color:r,tangent:o}}function x(e){let t=0,n=0,r=0,o=0,i=0;const l=h(e);for(const s of e){const e=s.vertexAttributes;e?.position&&(t+=e.position.length,l.uv&&(n+=e.position.length/b.position*b.uv),l.normal&&(r+=e.position.length/b.position*b.normal),l.color&&(o+=e.position.length/b.position*b.color),l.tangent&&(i+=e.position.length/b.position*b.tangent))}return new s({position:new Float64Array(t),uv:n?new Float32Array(n):null,normal:r?new Float32Array(r):null,tangent:i?new Float32Array(i):null,color:o?new Uint8Array(o):null})}const b={position:3,normal:3,tangent:4,uv:2,color:4};export{c as merge};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{deprecatedFunction as e}from\"../../core/deprecate.js\";import r from\"../../core/Logger.js\";import{throwIfAborted as t}from\"../../core/promiseUtils.js\";import s from\"../Mesh.js\";import{georeference as o,ungeoreference as n}from\"./meshUtils/georeference.js\";import{merge as c}from\"./meshUtils/merge.js\";const i=()=>r.getLogger(\"esri.geometry.support.meshUtils\");async function a(e,r,s){const o=await import(\"./meshUtils/elevation.js\");return t(s),o.create(e,r,s)}async function m(e,r){await e.load();return(await import(\"./meshUtils/elevationSampler.js\")).create(e,r)}function p(r,t,s){return e(i(),\"`meshUtils.georeference` is deprecated in favor of 'meshUtils.convertVertexSpace'\",{replacement:\"meshUtils.convertVertexSpace\",version:\"4.30\",see:\"https://developers.arcgis.com/javascript/latest/api-reference/esri-geometry-support-meshUtils.html#convertVertexSpace\",warnOnce:!0}),o(r,t,s)}function l(r,t,s){return e(i(),\"`meshUtils.ungeoreference` is deprecated in favor of 'meshUtils.convertVertexSpace'\",{replacement:\"meshUtils.convertVertexSpace\",version:\"4.30\",see:\"https://developers.arcgis.com/javascript/latest/api-reference/esri-geometry-support-meshUtils.html#convertVertexSpace\",warnOnce:!0}),n(r,t,s)}function f(e){const r=c(e);return null!=r?new s(r):null}async function h(e,r,s){const{convertMeshVertexSpace:o}=await import(\"./meshUtils/convertMeshVertexSpace.js\");return t(s),o(e,r,s)}export{h as convertVertexSpace,m as createElevationSampler,a as createFromElevation,p as georeference,f as merge,l as ungeoreference};\n"],"names":["y","A","o","constructor","t","super","this","translation","p","rotationAxis","m","x","rotationAngle","scale","u","rotation","g","h","f","j","localMatrix","l","n","d","b","i","localMatrixInverse","e","equals","a","clone","r","type","Number","nonNullable","json","write","prototype","s","c","N","spatialReference","geographic","z","vertexAttributes","vertexSpace","origin","sourceUnit","unit","absolute","targetUnit","getLogger","length","error","loaded","transform","Error","rebake","position","uv","normal","tangent","color","Float64Array","Float32Array","Uint8Array","Map","allowBufferReuse","reuseMaterials","components","material","set","shading","cloneWithDeduplication","faces","Uint32Array","push","v","async","create","load","replacement","version","see","warnOnce","convertMeshVertexSpace"],"sourceRoot":""}