{"version":3,"file":"static/js/10183.2ce1391d.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/layers/RefreshableLayerView.js","../node_modules/@arcgis/core/views/3d/layers/support/overlayImageUtils.js","../node_modules/@arcgis/core/views/3d/layers/DynamicLayerView3D.js","../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/portal/support/geometryServiceUtils.js","../node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js","../node_modules/@arcgis/core/views/layers/LayerView.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Logger.js\";import{isAbortError as s}from\"../../core/promiseUtils.js\";import{on as o}from\"../../core/reactiveUtils.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import\"../../core/Error.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";const i=i=>{let a=class extends i{initialize(){this.addHandles(o((()=>this.layer),\"refresh\",(r=>{this.doRefresh(r.dataChanged).catch((r=>{s(r)||e.getLogger(this).error(r)}))})),\"RefreshableLayerView\")}};return a=r([t(\"esri.views.layers.RefreshableLayerView\")],a),a};export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{width as t,height as e,intersects as r}from\"../../../../geometry/support/aaBoundingRect.js\";import{newDoubleArray as o}from\"../../../../geometry/support/DoubleArray.js\";import{newFloatArray as n}from\"../../../../geometry/support/FloatArray.js\";import{Attribute as i}from\"../../webgl-engine/lib/Attribute.js\";import{Geometry as m}from\"../../webgl-engine/lib/Geometry.js\";import{createSquareGeometry as h}from\"../../webgl-engine/lib/GeometryUtil.js\";import{VertexAttribute as g}from\"../../webgl-engine/lib/VertexAttribute.js\";function u(r,o,n){const i=t(r)/e(r),m={width:n,height:n};return i>1.0001?m.height=n/i:i<.9999&&(m.width=n*i),m.width=Math.round(m.width/(t(r)/t(o))),m.height=Math.round(m.height/(e(r)/e(o))),m}function l(t,e){return h(t,[[e[0],e[1],-1],[e[2],e[1],-1],[e[2],e[3],-1],[e[0],e[3],-1]])}function s(t,e,h){if(!r(e,h))return l(t,h);const u=[e[1]-h[1],Math.min(e[3],h[3])-Math.max(e[1],h[1]),h[3]-e[3],123456],s=[e[0]-h[0],Math.min(e[2],h[2])-Math.max(e[0],h[0]),h[2]-e[2],123456],f=h[2]-h[0],p=h[3]-h[1],w=s[0]>0&&s[2]>0?3:2,b=u[0]>0&&u[2]>0?3:2,c=(b+1)*(w+1),y=o(3*c),d=n(2*c),j=new Array(6*(b*w-1));let A=0,M=0,x=0,O=0,G=0;for(let r=0;r<4;r++){const t=u[r];if(t<=0)continue;let e=0;for(let o=0;o<4;o++){const t=s[o];t<=0||(y[M++]=h[0]+e,y[M++]=h[1]+A,y[M++]=-1,d[x++]=e/f,d[x++]=A/p,o<3&&r<3&&(1!==o||1!==r)&&(j[G++]=O,j[G++]=O+1,j[G++]=O+w+1,j[G++]=O+1,j[G++]=O+w+2,j[G++]=O+w+1),O++,e+=t)}A+=t}const I=new Array(j.length);return new m(t,[[g.POSITION,new i(y,j,3,!0)],[g.NORMAL,new i(a,I,3,!0)],[g.UV0,new i(d,j,2,!0)]])}const a=[0,0,1];export{u as computeImageExportSize,l as createGeometryForExtent,s as createOuterImageGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{forEach as t,result as r}from\"../../../core/asyncUtils.js\";import{makeHandle as i}from\"../../../core/handleUtils.js\";import s from\"../../../core/Logger.js\";import{abortMaybe as a}from\"../../../core/maybe.js\";import{debounce as o,isAbortError as n,onAbort as l,isAborted as h,createAbortError as m,throwIfAborted as d}from\"../../../core/promiseUtils.js\";import{whenOnce as c}from\"../../../core/reactiveUtils.js\";import{property as g}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as u}from\"../../../core/accessorSupport/decorators/subclass.js\";import p from\"../../../geometry/Extent.js\";import{equals as f,create as y,width as w,height as _,copy as x,intersection as v}from\"../../../geometry/support/aaBoundingRect.js\";import{DrapeSourceType as R}from\"./interfaces.js\";import{LayerView3D as b}from\"./LayerView3D.js\";import{computeImageExportSize as E,createGeometryForExtent as j,createOuterImageGeometry as S}from\"./support/overlayImageUtils.js\";import{toViewIfLocal as I}from\"./support/projectExtentUtils.js\";import{debugFlags as A}from\"../support/debugFlags.js\";import{OverlayIndex as D}from\"../terrain/interfaces.js\";import{DirtyOperation as M}from\"../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as L}from\"../webgl-engine/lib/RenderGeometry.js\";import{Texture as C}from\"../webgl-engine/lib/Texture.js\";import{UpdatePolicy as G}from\"../webgl-engine/lib/UpdatePolicy.js\";import{ImageMaterial as P}from\"../webgl-engine/materials/ImageMaterial.js\";import T from\"../../layers/LayerView.js\";import O from\"../../layers/RefreshableLayerView.js\";import{isInEffectiveScaleRange as U}from\"../../support/layerViewUtils.js\";import{TextureWrapMode as H}from\"../../webgl/enums.js\";let V=class extends(O(b(T))){constructor(){super(...arguments),this.drapeSourceType=R.RasterImage,this.updatePolicy=G.SYNC,this.fullExtentInLocalViewSpatialReference=null,this.maximumDataResolution=null,this._images=new Array,this._extents=new Array,this._overlays=new Array,this.updateWhenStationary=!0,this._drapeSourceRenderer=null,this.refreshDebounced=o((async e=>{this.destroyed||await this._doRefresh(e).catch((e=>{n(e)||s.getLogger(this).error(e)}))}),2e3)}get visibleAtCurrentScale(){const e=this.layer,t=\"effectiveScaleRange\"in e?e.effectiveScaleRange:null;return U(t,this.view.scale)}initialize(){this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerGeometryDrapeSource(this),this.addHandles(i((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)))),this.addResolvingPromise(I(this).then((e=>this._set(\"fullExtentInLocalViewSpatialReference\",e)))),this._updatingHandles.add((()=>this.suspended),(()=>this._suspendedChangeHandler()))}destroy(){this.clear()}setDrapingExtent(e,t){this._spatialReference=t,e.forEach(((e,t)=>{this._overlays[t]=e,this._updateImageExtent(e,t)}))}_updateImageExtent(e,t){const r=this._clippedExtent(e.extent,z);if(null==r)return;const i=E(e.extent,r,e.resolution);let a=e.pixelRatio*this.view.state.pixelRatio;const{layer:o}=this;if(\"imageMaxWidth\"in o&&null!=o.imageMaxWidth||\"imageMaxHeight\"in o&&null!=o.imageMaxHeight){const e=o.imageMaxWidth,t=o.imageMaxHeight;if(i.width>e){const t=e/i.width;i.height=Math.floor(i.height*t),i.width=e,a*=t}if(i.height>t){const e=t/i.height;i.width=Math.floor(i.width*e),i.height=t,a*=e}}const l=this._extents[t];l&&f(l.extent,r)&&this._imageSizeEquals(r,l.imageSize,i)||(this._extents[t]={extent:y(r),imageSize:i,pixelRatio:a},this.suspended||this._fetch(t).catch((e=>{n(e)||s.getLogger(this).error(e)})))}clear(){for(let e=0;e<this._images.length;e++)this._clearImage(e)}async doRefresh(){return this._doRefresh()}async _doRefresh(e){if(this.suspended)return;const t=[];for(let r=0;r<this._extents.length;r++)this._extents[r]&&t.push(this._fetch(r,e));await Promise.allSettled(t)}async processResult(e,t,r){(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement)&&(e.image=t)}findExtentInfoAt(e){for(const t of this._extents){const r=t.extent;if(new p(r[0],r[1],r[2],r[3],this._spatialReference).contains(e))return t}return null}getFetchOptions(){}async redraw(e,r){await t(this._images,(async(t,i)=>{t&&(await e(t,r),await this._createStageObjects(i,t.image,r))}))}_imageSizeEquals(e,t,r){if(!this.maximumDataResolution)return!1;const i=w(e)/this.maximumDataResolution.x,s=_(e)/this.maximumDataResolution.y,a=i/t.width,o=s/t.height,n=i/r.width,l=s/r.height,h=Math.abs(a-n),m=Math.abs(o-l),d=A.TESTS_DISABLE_OPTIMIZATIONS?0:1.5;return h<=d&&m<=d}async _fetch(e,t){if(this.suspended)return;const r=this._extents[e],i=r.extent;this._images[e]||(this._images[e]={texture:null,material:null,renderGeometry:null,loadingPromise:null,loadingAbortController:null,image:null,pixelData:null,renderExtent:y(i)});const o=this._images[e];o.loadingAbortController=a(o.loadingAbortController);const c=new p(i[0],i[1],i[2],i[3],this._spatialReference);if(0===c.width||0===c.height)return void this._clearImage(e);const g=new AbortController;o.loadingAbortController=g,l(t,(()=>g.abort()));const u=g.signal,f=this._waitFetchReady(u).then((async()=>{const t={requestAsImageElement:!0,pixelRatio:this._overlays[e].pixelRatio,...this.getFetchOptions(),signal:u},{height:i,width:s}=r.imageSize;return this.layer.fetchImage(c,s,i,t)})).then((e=>{if(h(u))throw s.getLogger(this).warnOnce(\"A call to fetchImage resolved even though the request was aborted. fetchImage should not resolve if options.signal.aborted is true.\"),m();return this.processResult(o,e)})).then((()=>{x(o.renderExtent,i)}));o.loadingPromise=f,await this._updatingHandles.addPromise(f.then((async()=>{d(u),await this._createStageObjects(e,o.image,u)})).catch((e=>{throw e&&!n(e)&&s.getLogger(this).error(e),e})).finally((()=>{f===o.loadingPromise&&(o.loadingPromise=null,o.loadingAbortController=null)})))}_clearImage(e){const t=this._images[e];if(t){null!=t.renderGeometry&&(this._drapeSourceRenderer.removeGeometries([t.renderGeometry],M.UPDATE),t.renderGeometry=null);const e=this.view._stage,r=t.texture;r?.unload(),e.remove(r),t.texture=null,e.remove(t.material),t.material=null,t.loadingAbortController=a(t.loadingAbortController),t.loadingPromise=null,t.image=null,t.pixelData=null}}async _createStageObjects(e,t,i){const s=this.view._stage,a=this._images[e],o=()=>{a.texture?.unload(),s.remove(a.texture),a.texture=null,a.renderGeometry&&(this._drapeSourceRenderer.removeGeometries([a.renderGeometry],M.UPDATE),a.renderGeometry=null)};if(t){const n=new C(t,{width:t.width,height:t.height,preMultiplyAlpha:!0,wrap:{s:H.CLAMP_TO_EDGE,t:H.CLAMP_TO_EDGE}});let l;if(await r(this._images[e===D.INNER?D.OUTER:D.INNER].loadingPromise),d(i),o(),await s.schedule((()=>n.load(s.renderView.renderingContext)),i),s.add(n),a.texture=n,null==a.material?(a.material=new P({textureId:n.id}),s.add(a.material)):a.material.setParameters({textureId:n.id}),e===D.INNER)l=j(a.material,a.renderExtent);else{const e=this._images[0].renderExtent;if(!e)return void o();l=S(a.material,e,a.renderExtent)}a.renderGeometry=new L(l),a.renderGeometry.localOrigin=this._overlays[e].renderLocalOrigin,this._drapeSourceRenderer.addGeometries([a.renderGeometry],M.UPDATE)}else o(),s.remove(a.material),a.material=null}_clippedExtent(e,t){if(\"local\"!==this.view.viewingMode)return x(t,e);const r=this.view.basemapTerrain;return r.ready?v(e,r.extent,t):x(t,e)}_suspendedChangeHandler(){this.suspended?this.clear():this.refreshDebounced()}async _waitFetchReady(e){await c((()=>this.view.stationary),e),d(e)}};e([g()],V.prototype,\"layer\",void 0),e([g()],V.prototype,\"suspended\",void 0),e([g({readOnly:!0})],V.prototype,\"fullExtentInLocalViewSpatialReference\",void 0),e([g({readOnly:!0})],V.prototype,\"visibleAtCurrentScale\",null),e([g()],V.prototype,\"updating\",void 0),V=e([u(\"esri.views.3d.layers.DynamicLayerView3D\")],V);const N=V,z=y();export{N as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ObjectAndLayerIdColor as o}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{terrainDepthTest as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{ColorConversion as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as a}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as d,If as n}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{VertexAttribute as m}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{outputColorHighlightOID as v}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";import{NoParameters as c}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as p}from\"../views/webgl/ShaderBuilder.js\";class u extends c{}function w(c){const u=new p,{vertex:w,fragment:b}=u,{output:f,perspectiveInterpolation:h}=c;return a(w,c),u.include(i,c),u.include(s,c),u.fragment.include(r,c),u.include(o,c),u.include(v,c),u.attributes.add(m.POSITION,\"vec3\"),u.attributes.add(m.UV0,\"vec2\"),h&&u.attributes.add(m.PERSPECTIVEDIVIDE,\"float\"),w.main.add(d`\n    vpos = position;\n    forwardViewPosDepth((view * vec4(vpos, 1.0)).xyz);\n    vTexCoord = uv0;\n    gl_Position = transformPosition(proj, view, vpos);\n    ${n(h,\"gl_Position *= perspectiveDivide;\")}`),u.varyings.add(\"vpos\",\"vec3\"),u.varyings.add(\"vTexCoord\",\"vec2\"),b.include(t),b.uniforms.add(new l(\"opacity\",(e=>e.opacity)),new g(\"tex\",(e=>e.texture))).main.add(d`\n    discardBySlice(vpos);\n    discardByTerrainDepth();\n    ${n(f===e.ObjectAndLayerIdColor,\"fragColor = vec4(0, 0, 0, 1); return;\")}\n    vec4 finalColor = texture(tex, vTexCoord) * opacity;\n    outputColorHighlightOID(finalColor, vpos);`),u}const b=Object.freeze(Object.defineProperty({__proto__:null,ImageMaterialPassParameters:u,build:w},Symbol.toStringTag,{value:\"Module\"}));export{b as I,u as a,w as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isColorOrColorEmission as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as i}from\"../lib/OITPass.js\";import{oitBlending as l,oitDepthTest as s,depthWrite as n,getDrawBuffers as o,getOITPolygonOffset as a}from\"../lib/OrderIndependentTransparency.js\";import{stencilWriteMaskOn as p,stencilToolMaskBaseParams as c,stencilBaseAllZerosParams as u}from\"../lib/StencilUtils.js\";import{VertexAttribute as m}from\"../lib/VertexAttribute.js\";import{I as d}from\"../../../../chunks/ImageMaterial.glsl.js\";import{makePipelineState as h,blendWithPremultipliedAlpha as f,cullingParams as g,defaultColorWrite as P}from\"../../../webgl/renderState.js\";class b extends r{constructor(e,r){super(e,r,new t(d,(()=>import(\"./ImageMaterial.glsl.js\"))),j)}_getPipelineState(t,r){const{oitPass:m,output:d,hasOccludees:b,enableOffset:j,cullFace:I}=t,S=m===i.NONE,O=m===i.FrontFace;return h({blending:e(d)?S?f:l(m):null,culling:g(I),depthTest:{func:s(m)},depthWrite:n(t),drawBuffers:o(m,d),colorWrite:P,stencilWrite:b?p:null,stencilTest:b?r?c:u:null,polygonOffset:S||O?null:a(j)})}initializePipeline(e){return this._occludeePipeline=this._getPipelineState(e,!0),this._getPipelineState(e,!1)}getPipeline(e){return e?this._occludeePipeline:super.getPipeline()}}const j=new Map([[m.POSITION,0],[m.UV0,2],[m.PERSPECTIVEDIVIDE,3]]);export{b as ImageMaterialTechnique,j as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as t}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as o}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as r}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as i}from\"../lib/basicInterfaces.js\";import{DefaultTechniqueConfiguration as s}from\"../materials/DefaultTechniqueConfiguration.js\";class a extends s{constructor(){super(...arguments),this.cullFace=i.None,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.perspectiveInterpolation=!0,this.textureCoordinateType=t.None,this.emissionSource=o.None,this.discardInvisibleFragments=!0,this.occlusionPass=!1,this.objectAndLayerIdColorInstanced=!1}}e([r({count:i.COUNT})],a.prototype,\"cullFace\",void 0),e([r()],a.prototype,\"enableOffset\",void 0),e([r()],a.prototype,\"writeDepth\",void 0),e([r()],a.prototype,\"hasOccludees\",void 0),e([r()],a.prototype,\"terrainDepthTest\",void 0),e([r()],a.prototype,\"cullAboveTerrain\",void 0),e([r()],a.prototype,\"perspectiveInterpolation\",void 0);export{a as ImageMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{BufferViewFloat as e}from\"../../../../geometry/support/buffer/BufferView.js\";import{isHighlightOrOID as t,isColor as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as i}from\"../lib/basicInterfaces.js\";import{GLTextureMaterial as s}from\"../lib/GLTextureMaterial.js\";import{MaterialParameters as a}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as o}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as n}from\"../lib/RenderSlot.js\";import{assert as u}from\"../lib/Util.js\";import{VertexAttribute as c}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as p}from\"./DefaultBufferWriter.js\";import{PositionUVLayout as l}from\"./DefaultLayouts.js\";import{TriangleMaterial as h}from\"./TriangleMaterial.js\";import{writeBufferFloat as f,writeDefaultAttribute as m}from\"./internal/bufferWriterUtils.js\";import{vertexAttributeLocations as g,ImageMaterialTechnique as T}from\"../shaders/ImageMaterialTechnique.js\";import{ImageMaterialTechniqueConfiguration as d}from\"../shaders/ImageMaterialTechniqueConfiguration.js\";class I extends h{constructor(e){super(e,b),this._configuration=new d,this.vertexAttributeLocations=g,this.supportsEdges=!0,this.produces=new Map([[n.OPAQUE_MATERIAL,e=>t(e)],[n.TRANSPARENT_MATERIAL,e=>r(e)&&this.parameters.writeDepth],[n.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>r(e)&&!this.parameters.writeDepth],[n.DRAPED_MATERIAL,e=>r(e)||t(e)]])}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=t.hasOccludees,this._configuration.oitPass=t.oitPass,this._configuration.enableOffset=t.camera.relativeElevation<o,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}get visible(){return!0}createGLMaterial(e){return new _(e)}createBufferWriter(){const e=l.clone();return this.parameters.perspectiveInterpolation&&e.f32(c.PERSPECTIVEDIVIDE),new E(e)}}class _ extends s{constructor(e){super({...e,...e.material.parameters})}beginSlot(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.getTechnique(T,e)}}class E extends p{write(t,r,i,s,a,o){for(const n of this.vertexBufferLayout.fields.keys()){const s=i.get(n);if(s)if(n===c.PERSPECTIVEDIVIDE){u(1===s.size);const t=a.getField(n,e);t&&f(s,t,o)}else m(n,s,t,r,a,o)}}}class b extends a{constructor(e){super(),this.textureId=e,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=i.None,this.opacity=1,this.perspectiveInterpolation=!1}}export{I as ImageMaterial,b as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport r from\"../../config.js\";import e from\"../../core/Error.js\";import t from\"../Portal.js\";import{project as o}from\"../../rest/geometryService/project.js\";import i from\"../../rest/support/ProjectParameters.js\";async function n(o=null,i){if(r.geometryServiceUrl)return r.geometryServiceUrl;if(!o)throw new e(\"internal:geometry-service-url-not-configured\");let n;n=\"portal\"in o?o.portal||t.getDefault():o,await n.load({signal:i});const a=n.helperServices?.geometry?.url;if(!a)throw new e(\"internal:geometry-service-url-not-configured\");return a}async function a(r,t,a=null,l){const c=await n(a,l),s=new i({geometries:[r],outSpatialReference:t}),m=await o(c,s,{signal:l});if(m&&Array.isArray(m)&&1===m.length)return m[0];throw new e(\"internal:geometry-service-projection-failed\")}export{n as getGeometryServiceURL,a as projectGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{project as e}from\"../../../../geometry/support/webMercatorUtils.js\";import{projectGeometry as t}from\"../../../../portal/support/geometryServiceUtils.js\";async function r(r){const l=r.view.spatialReference,n=r.layer.fullExtent,o=null!=n&&n.spatialReference;if(null==n||!o)return null;if(o.equals(l))return n.clone();const u=e(n,l);if(null!=u)return u;if(r.view.state.isLocal)try{const e=await t(n,l,r.layer.portalItem);return r.destroyed||null==e?null:e}catch{return null}return null}export{r as toViewIfLocal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";import{VertexAttribute as O}from\"../lib/VertexAttribute.js\";const t=e().vec3f(O.POSITION),f=e().vec3f(O.POSITION).vec2f(O.UV0),r=e().vec3f(O.POSITION).vec4u8(O.COLOR),I=e().vec3f(O.POSITION).vec2f(O.UV0).vec4u8(O.OBJECTANDLAYERIDCOLOR);export{r as PositionColorLayout,t as PositionLayout,f as PositionUVLayout,I as PositionUVLayoutObjectAndLayerId};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import i from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import l from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i.IdentifiableMixin(l.EsriPromiseMixin(r.EventedMixin(t)))){get spatialReferenceSupported(){return!0}constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&this.parent&&!this.parent.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o({readOnly:!0})],u.prototype,\"spatialReferenceSupported\",null),e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);const y=u;export{y as default};\n"],"names":["i","a","initialize","this","addHandles","o","layer","r","doRefresh","dataChanged","catch","s","e","getLogger","error","t","l","h","u","Math","min","max","f","p","w","b","c","y","d","n","j","Array","A","M","x","O","G","I","length","m","g","POSITION","NORMAL","UV0","V","T","constructor","super","arguments","drapeSourceType","R","RasterImage","updatePolicy","SYNC","fullExtentInLocalViewSpatialReference","maximumDataResolution","_images","_extents","_overlays","updateWhenStationary","_drapeSourceRenderer","refreshDebounced","async","destroyed","_doRefresh","visibleAtCurrentScale","effectiveScaleRange","U","view","scale","basemapTerrain","overlayManager","registerGeometryDrapeSource","unregisterDrapeSource","addResolvingPromise","then","_set","_updatingHandles","add","suspended","_suspendedChangeHandler","destroy","clear","setDrapingExtent","_spatialReference","forEach","_updateImageExtent","_clippedExtent","extent","z","width","height","round","E","resolution","pixelRatio","state","imageMaxWidth","imageMaxHeight","floor","_imageSizeEquals","imageSize","_fetch","_clearImage","push","Promise","allSettled","processResult","HTMLImageElement","HTMLCanvasElement","image","findExtentInfoAt","contains","getFetchOptions","redraw","_createStageObjects","_","abs","TESTS_DISABLE_OPTIMIZATIONS","texture","material","renderGeometry","loadingPromise","loadingAbortController","pixelData","renderExtent","AbortController","abort","signal","_waitFetchReady","requestAsImageElement","fetchImage","warnOnce","addPromise","finally","removeGeometries","UPDATE","_stage","unload","remove","C","preMultiplyAlpha","wrap","H","CLAMP_TO_EDGE","D","INNER","OUTER","schedule","load","renderView","renderingContext","P","textureId","id","setParameters","S","L","localOrigin","renderLocalOrigin","addGeometries","viewingMode","ready","v","stationary","prototype","readOnly","N","vertex","fragment","output","perspectiveInterpolation","include","attributes","PERSPECTIVEDIVIDE","main","varyings","uniforms","opacity","ObjectAndLayerIdColor","Object","freeze","defineProperty","__proto__","ImageMaterialPassParameters","build","Symbol","toStringTag","value","_getPipelineState","oitPass","hasOccludees","enableOffset","cullFace","NONE","FrontFace","blending","culling","depthTest","func","depthWrite","drawBuffers","colorWrite","stencilWrite","stencilTest","polygonOffset","initializePipeline","_occludeePipeline","getPipeline","Map","None","writeDepth","terrainDepthTest","cullAboveTerrain","textureCoordinateType","emissionSource","discardInvisibleFragments","occlusionPass","objectAndLayerIdColorInstanced","count","COUNT","_configuration","vertexAttributeLocations","supportsEdges","produces","OPAQUE_MATERIAL","TRANSPARENT_MATERIAL","parameters","TRANSPARENT_MATERIAL_WITHOUT_DEPTH","DRAPED_MATERIAL","getConfiguration","hasSlicePlane","camera","relativeElevation","visible","createGLMaterial","createBufferWriter","clone","f32","beginSlot","updateTexture","_material","textureBindParameters","getTechnique","write","vertexBufferLayout","fields","keys","get","size","getField","undefined","geometryServiceUrl","portal","getDefault","helperServices","geometry","url","geometries","outSpatialReference","isArray","spatialReference","fullExtent","equals","isLocal","portalItem","slicePlaneEnabled","supportsHeightUnitConversion","postscript","_validateHeightModelInfo","defaultsFromMap","heightModelInfoReady","heightModelInfo","vec3f","vec2f","vec4u8","COLOR","OBJECTANDLAYERIDCOLOR","IdentifiableMixin","EsriPromiseMixin","EventedMixin","spatialReferenceSupported","parent","when","name","title","fullOpacity","canResume","suspendInfo","getSuspendInfo","legendEnabled","updating","isUpdating","updatingProgress","updateSuspended","_overrideIfSome","visibleAtCurrentTimeExtent","timeExtent","visibilityTimeExtent","intersection","isEmpty","loaded","viewNotReady","layerNotLoaded","outsideScaleRange","outsideVisibilityTimeExtent","layerInvisible","type","Boolean"],"sourceRoot":""}