{"version":3,"file":"static/js/74137.cedd802a.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngineCache.js","../node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngine.js","../node_modules/@arcgis/core/views/3d/layers/support/attributeUtils.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DFeatureProcessor.js","../node_modules/@arcgis/core/layers/support/timeSupport.js","../node_modules/@arcgis/core/arcade/functions/hash.js","../node_modules/@arcgis/core/views/3d/layers/graphics/QueryEngineContext.js","../node_modules/@arcgis/core/views/3d/layers/LayerView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureVisibilityFilter.js","../node_modules/@arcgis/core/views/layers/LayerView.js","../node_modules/@arcgis/core/support/timeUtils.js","../node_modules/@arcgis/core/webscene/utils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport\"../../../../core/has.js\";import{baseArrayMemory as e,baseObjectMemory as t}from\"../../../../core/memoryEstimations.js\";class s{constructor(e){this._cache=e.newCache(\"QueryEngine\",null,-1)}clear(){this._cache.clear()}destroy(){this._cache.destroy()}get(e){return this._cache.get(e)?.items}put(e,t){this._cache.put(e,new c(t))}get test(){}}class c{constructor(e){this.items=e}get cachedMemory(){return this.items.reduce(((e,t)=>e+t.usedMemory),e+t)}}export{s as QueryEngineCache};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../../../geometry/Extent.js\";import{featureGeometryTypeKebabDictionary as o}from\"../../../../geometry/support/typeUtils.js\";import{QueryEngine as a}from\"../../../../layers/graphics/data/QueryEngine.js\";import u from\"../../../../layers/support/FieldsIndex.js\";import i from\"../../../../rest/support/FeatureSet.js\";import y from\"../../../../rest/support/Query.js\";import{QueryEngineCache as c}from\"./QueryEngineCache.js\";const l=a;let p=class extends t{constructor(e){super(e),this._dataQueryEngineInstance=null}destroy(){this.clear()}get layer(){return this.context.layer}get spatialReference(){return this.context.spatialReference}get _queryGeometryType(){switch(this.layer.geometryType){case\"multipoint\":case\"point\":case\"polygon\":case\"polyline\":return this.layer.geometryType;case\"mesh\":return\"polygon\";default:return}}get defaultQueryJSON(){return new y({outSpatialReference:this.spatialReference}).toJSON()}clear(){return!!this._dataQueryEngineInstance&&(this._dataQueryEngineInstance.destroy(),this._dataQueryEngineInstance=null,!0)}async executeQueryForIdSet(e,t,r){return this._dataQueryEngine.executeQueryForIdSet(this._ensureQueryJSON(e,t),r)}async executeQueryForCount(e,t){return this._dataQueryEngine.executeQueryForCount(this._ensureQueryJSON(e),t)}async executeQueryForExtent(e,t){const{count:r,extent:n}=await this._dataQueryEngine.executeQueryForExtent(this._ensureQueryJSON(e),t);return{count:r,extent:s.fromJSON(n)}}async executeQueryForIds(e,t){return this._dataQueryEngine.executeQueryForIds(this._ensureQueryJSON(e),t)}async executeQueryForLatestObservations(e,t){const r=await this._dataQueryEngine.executeQueryForLatestObservations(this._ensureQueryJSON(e),t),n=i.fromJSON(r);return n.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),n}async executeQuery(e,t){const r=await this._dataQueryEngine.executeQuery(this._ensureQueryJSON(e),t),n=i.fromJSON(r);return n.features.forEach((e=>{e.layer=this.layer,e.sourceLayer=this.layer})),n}_ensureQueryJSON(e,t){let r=this.defaultQueryJSON;if(null!=e&&(\"outSpatialReference\"in e&&!e.outSpatialReference&&(e.outSpatialReference=this.spatialReference),r=e.toJSON(),r.cacheHint=!0),null!=t){const e=t.geometries.map((e=>e.toJSON())).reduce(((e,t)=>(e.rings=e.rings.concat(t.rings),e)));r={...r,cacheHint:!0,sceneFilter:{...t,geometry:e}}}return r}get _dataQueryEngine(){if(this._dataQueryEngineInstance)return this._dataQueryEngineInstance;const{priority:e,layer:t}=this,r=\"timeInfo\"in t&&t.timeInfo?.toJSON()||null,n=t.objectIdField,s=o.toJSON(this._queryGeometryType),a=t.fieldsIndex?.toJSON()||new u([]),i=this.spatialReference.toJSON(),{hasZ:y,hasM:p,featureStore:h,scheduler:m,memoryController:d}=this.context,f=new c(d);return this._dataQueryEngineInstance=new l({hasZ:y,hasM:p,geometryType:s,fieldsIndex:a,timeInfo:r,spatialReference:i,objectIdField:n,featureStore:h,scheduler:m,cache:f,priority:e}),this._dataQueryEngineInstance}};e([r({constructOnly:!0})],p.prototype,\"context\",void 0),e([r({constructOnly:!0})],p.prototype,\"priority\",void 0),e([r()],p.prototype,\"layer\",null),e([r()],p.prototype,\"spatialReference\",null),e([r()],p.prototype,\"_queryGeometryType\",null),e([r()],p.prototype,\"defaultQueryJSON\",null),p=e([n(\"esri.views.3d.layers.graphics.QueryEngine\")],p);export{p as QueryEngine};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nfunction n(n,t,e){if(!e||null==t)return null;if(!n)return r(t,e);const o=n.get(e);return o?t[o.name]:null}function r(n,r){const t=r.toLowerCase();for(const e in n)if(e.toLowerCase()===t)return n[e];return null}export{n as attributeLookup};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../Graphic.js\";import{XXH as i}from\"../../../../arcade/functions/hash.js\";import{neverReached as r}from\"../../../../core/compilerUtils.js\";import{makeHandle as s}from\"../../../../core/handleUtils.js\";import{destroyMaybe as n}from\"../../../../core/maybe.js\";import a from\"../../../../core/Promise.js\";import{logOnError as o}from\"../../../../core/promiseUtils.js\";import{watch as l,initial as p,when as d}from\"../../../../core/reactiveUtils.js\";import{property as u}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as h}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{diff as c}from\"../../../../core/accessorSupport/diffUtils.js\";import{UpdatingHandles as g}from\"../../../../core/support/UpdatingHandles.js\";import{canProject as y,project as m}from\"../../../../geometry/support/webMercatorUtils.js\";import{getRenderingInfo as f,getRenderingInfoAsync as b}from\"../../../../renderers/support/renderingInfoUtils.js\";import C from\"../../../../rest/support/Query.js\";import{matchRandomRotationExpression as E}from\"../../../../support/arcadeExpressionUtils.js\";import{DrapeSourceType as x}from\"../interfaces.js\";import{suspendResumeExtentOptimism as w}from\"./constants.js\";import{DisplayFeatureLimit as v}from\"./DisplayFeatureLimit.js\";import{Graphics3DCore as V}from\"./Graphics3DCore.js\";import{Graphics3DElevationAlignment as j}from\"./Graphics3DElevationAlignment.js\";import{Graphics3DFrustumVisibility as R}from\"./Graphics3DFrustumVisibility.js\";import{Graphics3DObjectStates as O}from\"./Graphics3DObjectStates.js\";import{Graphics3DScaleVisibility as S}from\"./Graphics3DScaleVisibility.js\";import{enlargeExtent as _}from\"./graphicUtils.js\";import{attributeLookup as G}from\"../support/attributeUtils.js\";import{FeatureVisibilityFilter as I}from\"../support/FeatureVisibilityFilter.js\";import{emptyHighlightHandle as U,normalizeHighlightTargetExceptQuery as P,isObjectId as A}from\"../support/highlightUtils.js\";import{UpdatePolicy as H}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{defaultHighlightName as F}from\"../../../support/HighlightDefaults.js\";let D=class extends a{constructor(e){super(e),this.type=\"graphics-3d\",this._updatingHandles=new g,this.elevationFeatureExpressionEnabled=!1,this.scaleVisibilityEnabled=!1,this.filterVisibilityEnabled=!1,this.frustumVisibilityEnabled=!1,this.elevationAlignmentEnabled=!1,this.timeExtentEnabled=!1,this.setUidToIdOnAdd=!0,this.dataExtent=null,this.drapeSourceType=x.Features,this.preferredUpdatePolicy=H.ASYNC,this._suspendResumeExtent=null}initialize(){const e=this.owner,t=(this.filterVisibilityEnabled||this.timeExtentEnabled)&&\"multipatch\"!==e.layer.geometryType,i=new V({owner:this,layer:this.layer,preferredUpdatePolicy:this.preferredUpdatePolicy,elevationFeatureExpressionEnabled:this.elevationFeatureExpressionEnabled,graphicSymbolSupported:!1,hasZ:e.hasZ,hasM:e.hasM,setUidToIdOnAdd:this.setUidToIdOnAdd,componentFactories:{deconflictor:t=>e.view.deconflictor.addGraphicsOwner(t),labeler:(t,i)=>e.view.labeler.addGraphicsOwner(t,i),elevationAlignment:this.elevationAlignmentEnabled?(t,i)=>new j({graphicsCoreOwner:this,graphicsCore:t,queryGraphicUIDsInExtent:i,elevationProvider:e.view.elevationProvider}):null,scaleVisibility:this.scaleVisibilityEnabled?(t,i)=>new S({graphicsCoreOwner:this,layer:this.layer,queryGraphicUIDsInExtent:i,graphicsCore:t,basemapTerrain:e.view.basemapTerrain}):null,filterVisibility:t?t=>new I({context:{...t,configuration:e}}):null,objectStates:e=>new O(e)}});this._set(\"graphicsCore\",i),this.frustumVisibilityEnabled&&this._set(\"frustumVisibility\",new R({graphicsCoreOwner:this})),this.elevationAlignment&&this._updatingHandles.add((()=>this.layer.elevationInfo),((e,t)=>{c(e,t)&&this._updatingHandles.addPromise(this.graphicsCore.elevationInfoChange())})),this._updatingHandles.add((()=>this.layer.labelsVisible),(()=>this.graphicsCore.updateVisibilityInfo())),this._updatingHandles.add((()=>this.layer.labelingInfo),((e,t)=>{c(e,t)&&this.graphicsCore.updateLabelingInfo()})),this._updatingHandles.add((()=>this.preferredUpdatePolicy),(e=>this.graphicsCore.preferredUpdatePolicy=e)),this.addResolvingPromise(this._initializeAsync())}async _initializeAsync(){await o(this.graphicsCore.initializePromise);const e=this.owner;this._updatingHandles.add((()=>this.renderer),(e=>this._updatingHandles.addPromise(this.graphicsCore.rendererChange(e)))),this._updatingHandles.add((()=>e.fullOpacity),(()=>this.graphicsCore.opacityChange())),this._setupSuspendResumeExtent(),this.updateClippingExtent&&(this._updatingHandles.add((()=>e.view.clippingArea),(()=>this._updateClippingExtent())),this._updateClippingExtent()),this.graphicsCore.startCreateGraphics(),this.graphicsCore.labelsEnabled&&await o(this.graphicsCore.updateLabelingInfo())}destroy(){this._updatingHandles.destroy(),this._set(\"frustumVisibility\",n(this.frustumVisibility)),this._set(\"graphicsCore\",n(this.graphicsCore)),this._set(\"owner\",null)}get layer(){return this.owner.layer}get dataUpdating(){return this.graphicsCore?.dataUpdating??!1}get renderer(){const{renderer:e,objectIdField:t}=this.layer;if(!e||!t||\"heatmap\"===e.type||!e.visualVariables)return e;const i=e.visualVariables.findIndex((e=>\"rotation\"===e.type&&null!=e.valueExpression&&E(e.valueExpression)===t&&(null==e.axis||\"heading\"===e.axis)&&\"geographic\"===e.rotationType));if(i<0)return e;const r=e.clone();return r.visualVariables?(r.visualVariables.splice(i,1),this._randomRotationRenderers??=new WeakMap,this._randomRotationRenderers.set(r,t),r):e}get scaleVisibility(){return this.graphicsCore?.scaleVisibility}get filterVisibility(){return this.graphicsCore?.filterVisibility}get elevationAlignment(){return this.graphicsCore?.elevationAlignment}get suspendResumeExtentMode(){return this.owner.suspendResumeExtentMode??\"computed\"}get scaleVisibilitySuspended(){return null!=this.scaleVisibility&&this.scaleVisibility.suspended}get suspended(){return this.owner.suspended}get legendEnabled(){return null==this.frustumVisibility||!this.frustumVisibility.suspended}get suspendInfo(){const e={};return this.scaleVisibilitySuspended&&(e.outsideScaleRange=!0),null!=this.frustumVisibility&&this.frustumVisibility.suspended&&(e.outsideOfView=!0),e}get updating(){return!!(this.graphicsCore?.updating||this.frustumVisibility?.updating||this._updatingHandles.updating)}get updatingRemaining(){return this.graphicsCore?.updatingRemaining??0}get featureStore(){return this.graphicsCore?.featureStore}get view(){return this.owner.view}get loadedGraphics(){return this.owner.loadedGraphics}get fullOpacity(){return this.owner?.fullOpacity}get filter(){return\"filter\"in this.owner?this.owner.filter:null}get slicePlaneEnabled(){return this.owner.slicePlaneEnabled}get updatePolicy(){return this.owner.updatePolicy}get featureSpatialReference(){return\"featureSpatialReference\"in this.owner?this.owner.featureSpatialReference:this.owner.view.spatialReference}get graphics3DGraphics(){return this.graphicsCore?.graphics3DGraphics}get graphics3DGraphicsByObjectID(){return this.graphicsCore?.graphics3DGraphicsByObjectID}get symbolUpdateType(){return this.graphicsCore?.symbolUpdateType}get displayFeatureLimit(){const e=this.view.quality,t=this.graphicsCore?.displayFeatureLimit;if(1===e)return t;const i=Math.ceil(t.maximumNumberOfFeatures*e);return new v(t.maximumTotalNumberOfVertices,i,t.averageSymbolComplexity)}get usedMemory(){return this.graphicsCore?.usedMemory??0}get loadedFeatures(){return this.graphicsCore?.numberOfGraphics??0}get usedMemoryPerFeature(){return this.graphicsCore?.usedMemoryPerGraphic??0}get unprocessedMemoryEstimate(){return this.graphicsCore?.unprocessedMemoryEstimate??0}get performanceInfo(){return this.graphicsCore.performanceInfo}maskOccludee(e){const t=this.graphicsCore?.objectStates;if(!t)return s();const{set:i,handle:r}=t.acquireOccludeeSet(null);return t.setUid(i,e.uid),r}highlight(e,i=null,r){const s=this.graphicsCore?.objectStates;if(!s)return U;if(r??=F,e instanceof C){const{set:t,handle:n}=s.acquireHighlightSet(r,i);return this.owner.queryObjectIds(e).then((e=>s.setObjectIds(t,e))),n}let n=P(e);if(0===n.length)return U;if(n[0]instanceof t){const e=n;if(null==G(this.layer.fieldsIndex,e[0].attributes,i)){const t=e.map((e=>e.uid)),{set:i,handle:n}=s.acquireHighlightSet(r,null);return s.setUids(i,t),n}n=e.map((e=>G(this.layer.fieldsIndex,e.attributes,i)))}if(A(n[0])){const e=n,{set:t,handle:a}=s.acquireHighlightSet(r,i);return s.setObjectIds(t,e),a}return U}resetObjectStates(){this.graphicsCore?.objectStates?.reset()}whenGraphicBounds(e,t){return this.graphicsCore?.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.graphicsCore?.computeAttachmentOrigin(e,t)}notifyGraphicGeometryChanged(e){this.graphicsCore.notifyGraphicGeometryChanged(e)}notifyGraphicVisibilityChanged(e){this.graphicsCore.notifyGraphicVisibilityChanged(e)}getRenderingInfo(e,t,r){const s=f(e,{renderer:t,arcade:r});if(s?.color){const e=s.color;e[0]=e[0]/255,e[1]=e[1]/255,e[2]=e[2]/255}if(null!=s&&null!=t&&this._randomRotationRenderers?.has(t)){const r=this._randomRotationRenderers.get(t),n=e.attributes[r],a=new i(0);a.updateFloatArray([n]),a.updateUint8Array([173]),s.heading=8.381e-8*a.digest()}return s}getRenderingInfoAsync(e,t,i,r){return b(e,{renderer:t,arcade:i,...r})}getSymbolLayerSize(e,t){return this.graphicsCore?.getSymbolLayerSize(e,t)}setObjectIdVisibility(e,t){this.graphicsCore?.setObjectIdVisibility(e,t)}refreshFilter(){null!=this.filterVisibility&&this.filterVisibility.reapply()}getGraphics3DGraphicByObjectId(e){return this.graphicsCore?.getGraphics3DGraphicByObjectId(e)}_updateClippingExtent(){const e=this.owner.view.clippingArea;this.graphicsCore.setClippingExtent(e,this.owner.view.spatialReference)&&(this.updateClippingExtent(e)||this.graphicsCore.recreateAllGraphics())}_setupSuspendResumeExtent(){(this.frustumVisibility||this.scaleVisibility)&&this.addHandles(l((()=>this.suspendResumeExtentMode),(()=>{switch(this.removeHandles(M),this.suspendResumeExtentMode){case\"computed\":this.addHandles([l((()=>this.graphicsCore.computedExtent),(e=>this._updateSuspendResumeExtent(e)),p),l((()=>this.graphicsCore.extentPadding),(()=>this._updateSuspendResumeExtent(this.graphicsCore.computedExtent)))],M);break;case\"data\":this.addHandles([d((()=>this.dataExtent),(e=>this._updateSuspendResumeExtent(e)),p),l((()=>this.graphicsCore.extentPadding),(()=>this._updateSuspendResumeExtent(this.dataExtent)))],M);break;default:r(this.suspendResumeExtentMode)}}),p))}_updateSuspendResumeExtent(e){e?this._suspendResumeExtentChanged(this._extentToSuspendResumeRect(e,this._suspendResumeExtent)):this._suspendResumeExtentChanged(null)}_extentToSuspendResumeRect(e,t){const i=this.owner.view.spatialReference;if(!e.spatialReference.equals(i)){if(!y(e,i))return;e=m(e,i)}return _(e,t,w,this.graphicsCore.extentPadding)}_suspendResumeExtentChanged(e){null!=this.frustumVisibility&&this.frustumVisibility.setExtent(e),null!=this.scaleVisibility&&this.scaleVisibility.setExtent(e)}};e([u()],D.prototype,\"type\",void 0),e([u({constructOnly:!0})],D.prototype,\"owner\",void 0),e([u()],D.prototype,\"layer\",null),e([u({readOnly:!0})],D.prototype,\"dataUpdating\",null),e([u()],D.prototype,\"renderer\",null),e([u({constructOnly:!0})],D.prototype,\"updateClippingExtent\",void 0),e([u({constructOnly:!0})],D.prototype,\"elevationFeatureExpressionEnabled\",void 0),e([u({constructOnly:!0})],D.prototype,\"graphicsCore\",void 0),e([u({constructOnly:!0})],D.prototype,\"scaleVisibilityEnabled\",void 0),e([u({constructOnly:!0})],D.prototype,\"filterVisibilityEnabled\",void 0),e([u({constructOnly:!0})],D.prototype,\"frustumVisibilityEnabled\",void 0),e([u({constructOnly:!0})],D.prototype,\"elevationAlignmentEnabled\",void 0),e([u({constructOnly:!0})],D.prototype,\"timeExtentEnabled\",void 0),e([u({constructOnly:!0})],D.prototype,\"setUidToIdOnAdd\",void 0),e([u()],D.prototype,\"scaleVisibility\",null),e([u()],D.prototype,\"filterVisibility\",null),e([u()],D.prototype,\"elevationAlignment\",null),e([u({constructOnly:!0})],D.prototype,\"frustumVisibility\",void 0),e([u()],D.prototype,\"suspendResumeExtentMode\",null),e([u()],D.prototype,\"dataExtent\",void 0),e([u()],D.prototype,\"scaleVisibilitySuspended\",null),e([u()],D.prototype,\"suspended\",null),e([u()],D.prototype,\"legendEnabled\",null),e([u()],D.prototype,\"suspendInfo\",null),e([u()],D.prototype,\"updating\",null),e([u()],D.prototype,\"updatingRemaining\",null),e([u()],D.prototype,\"featureStore\",null),e([u()],D.prototype,\"view\",null),e([u()],D.prototype,\"loadedGraphics\",null),e([u()],D.prototype,\"fullOpacity\",null),e([u()],D.prototype,\"filter\",null),e([u()],D.prototype,\"slicePlaneEnabled\",null),e([u()],D.prototype,\"drapeSourceType\",void 0),e([u()],D.prototype,\"updatePolicy\",null),e([u()],D.prototype,\"preferredUpdatePolicy\",void 0),e([u({readOnly:!0})],D.prototype,\"displayFeatureLimit\",null),D=e([h(\"esri.views.3d.layers.graphics.Graphics3DFeatureProcessor\")],D);const M=\"suspendResumeExtentMode\";export{D as Graphics3DFeatureProcessor};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{toLocalTimeExtent as e,toUTCTimeExtent as t}from\"../../support/timeUtils.js\";function i(i,n,s){if(null==i?.timeInfo)return null;const{datesInUnknownTimezone:l=!1,timeOffset:o,useViewTime:m}=i;let u=i.timeExtent;l&&(u=e(u));let r=m?n&&u?n.intersection(u):n||u:u;return!r||r.isEmpty||r.isAllTime?r:(o&&(r=r.offset(-o.value,o.unit)),l&&(r=t(r)),r.equals(s)?s:r)}export{i as combineTimeExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nconst t=2654435761,s=2246822519,n=3266489917,e=668265263,r=374761393;function h(t){const s=[];for(let n=0,e=t.length;n<e;n++){let e=t.charCodeAt(n);e<128?s.push(e):e<2048?s.push(192|e>>6,128|63&e):e<55296||e>=57344?s.push(224|e>>12,128|e>>6&63,128|63&e):(n++,e=65536+((1023&e)<<10|1023&t.charCodeAt(n)),s.push(240|e>>18,128|e>>12&63,128|e>>6&63,128|63&e))}return new Uint8Array(s)}class i{constructor(t){this._seed=t,this._totallen=0,this._bufs=[],this.init()}init(){return this._bufs=[],this._totallen=0,this}updateFloatArray(t){const s=[];for(const n of t)isNaN(n)?s.push(\"NaN\"):n===1/0?s.push(\"Infinity\"):n===-1/0?s.push(\"-Infinity\"):0===n?s.push(\"0\"):s.push(n.toString(16));this.update(h(s.join(\"\")))}updateIntArray(t){const s=Int32Array.from(t);this.update(new Uint8Array(s.buffer))}updateUint8Array(t){this.update(Uint8Array.from(t))}updateWithString(t){return this.update(h(t))}update(t){return this._bufs.push(t),this._totallen+=t.length,this}digest(){const t=new Uint8Array(this._totallen);let s=0;for(const n of this._bufs)t.set(n,s),s+=n.length;return this.init(),this._xxHash32(t,this._seed)}_xxHash32(h,i=0){const o=h;let u=i+r&4294967295,a=0;if(o.length>=16){const n=[i+t+s&4294967295,i+s&4294967295,i+0&4294967295,i-t&4294967295],e=h,r=e.length-16;let o=0;for(a=0;(4294967280&a)<=r;a+=4){const r=a,h=e[r]+(e[r+1]<<8),i=e[r+2]+(e[r+3]<<8),u=h*s+(i*s<<16);let l=n[o]+u&4294967295;l=l<<13|l>>>19;const f=65535&l,p=l>>>16;n[o]=f*t+(p*t<<16)&4294967295,o=o+1&3}u=(n[0]<<1|n[0]>>>31)+(n[1]<<7|n[1]>>>25)+(n[2]<<12|n[2]>>>20)+(n[3]<<18|n[3]>>>14)&4294967295}u=u+h.length&4294967295;const l=h.length-4;for(;a<=l;a+=4){const t=a,s=o[t]+(o[t+1]<<8),r=o[t+2]+(o[t+3]<<8);u=u+(s*n+(r*n<<16))&4294967295,u=u<<17|u>>>15,u=(65535&u)*e+((u>>>16)*e<<16)&4294967295}for(;a<o.length;++a){u+=o[a]*r,u=u<<11|u>>>21,u=(65535&u)*t+((u>>>16)*t<<16)&4294967295}return u^=u>>>15,u=((65535&u)*s&4294967295)+((u>>>16)*s<<16),u^=u>>>13,u=((65535&u)*n&4294967295)+((u>>>16)*n<<16),u^=u>>>16,u<0?u+4294967296:u}}export{i as XXH};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nclass e{constructor(e,r,t,o,s,l){this.spatialReference=e,this.layer=r,this.resourceController=t,this._getFeatureStore=o,this.hasZ=s,this.hasM=l}get scheduler(){return this.resourceController.scheduler}get memoryController(){return this.resourceController.memoryController}get featureStore(){return this._getFeatureStore()}}export{e as QueryEngineContext};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{makeHandle as s}from\"../../../core/handleUtils.js\";import{throwIfAborted as e}from\"../../../core/promiseUtils.js\";import{whenOnce as t}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as i}from\"../../../core/accessorSupport/decorators/subclass.js\";import{supportsHeightModelInfo as p,rejectLayerError as a}from\"../../../geometry/support/heightModelInfoUtils.js\";const l=l=>{let n=class extends l{constructor(){super(...arguments),this.slicePlaneEnabled=!1,this.supportsHeightUnitConversion=!1}postscript(){super.postscript(),p(this.layer)&&this.addResolvingPromise(this._validateHeightModelInfo())}async _validateHeightModelInfo(){const o=new AbortController,r=o.signal;this.addHandles(s((()=>o.abort()))),await t((()=>this.view.defaultsFromMap?.heightModelInfoReady),r),e(r);const i=a(this.layer,this.view.heightModelInfo,this.supportsHeightUnitConversion);if(i)throw i}};return o([r()],n.prototype,\"view\",void 0),o([r()],n.prototype,\"slicePlaneEnabled\",void 0),n=o([i(\"esri.views.3d.layers.LayerView3D\")],n),n};export{l as LayerView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import r from\"../../../../core/Logger.js\";import{removeMaybe as i,destroyMaybe as s}from\"../../../../core/maybe.js\";import{throwIfNotAbortError as o,throwIfAborted as n,throwIfAbortError as l}from\"../../../../core/promiseUtils.js\";import{initial as a}from\"../../../../core/reactiveUtils.js\";import{sqlAnd as u}from\"../../../../core/sql.js\";import{property as p}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as h}from\"../../../../core/support/UpdatingHandles.js\";import _ from\"../../../../layers/support/FeatureFilter.js\";import{getFloorFilterClause as f}from\"../../../../layers/support/floorFilterUtils.js\";import{QueryEngine as d}from\"../graphics/QueryEngine.js\";import{QueryEngineContext as m}from\"../graphics/QueryEngineContext.js\";import{TaskPriority as g}from\"../../../support/Scheduler.js\";let y=class extends t{constructor(e){super(e),this._frameTask=null,this._queryEngine=null,this._updateRequested=!0,this._updatingHandles=new h,this._abortController=new AbortController}initialize(){const e=g.FILTER_VISIBILITY,{layer:t,view:r}=this._configuration,{featureStore:i}=this.context,{spatialReference:s,resourceController:n}=r,l=this._configuration.hasZ??!1,u=this._configuration.hasM??!1,p=new m(s,t,n,(()=>i),l,u);this._queryEngine=new d({context:p,priority:e}),this._frameTask=r.resourceController.scheduler.registerTask(e),this._updatingHandles.add((()=>[this._compositedFeatureFilter,this._sceneFilter]),(()=>this._updateRequested=!0),a),this._updatingHandles.addWhen((()=>!this._frameTask.updating&&this._updateRequested),(()=>{this._frameTask.schedule((()=>this._updateVisibility()),this._abortController.signal).catch(o),this._updateRequested=!1}),a)}destroy(){this._abortController.abort(),this._updatingHandles.destroy(),this.clear(),this._frameTask=i(this._frameTask),this._queryEngine=s(this._queryEngine),this._set(\"context\",null)}get updating(){return this._updateRequested||this._updatingHandles.updating||this._frameTask.updating}get defaultVisibility(){return null==this._compositedFeatureFilter&&null==this._sceneFilter}get _featureFilter(){return\"filter\"in this._configuration?this._configuration.filter:null}get _effectiveDisplayFilter(){return\"effectiveDisplayFilter\"in this._configuration?this._configuration.effectiveDisplayFilter:null}get _sceneFilter(){return\"layerFilter\"in this._configuration?this._configuration.layerFilter:null}get _floorFilter(){return f(this._configuration)}get _timeExtent(){return\"timeExtent\"in this._configuration?this._configuration.timeExtent:null}get _compositedFeatureFilter(){const{_featureFilter:e,_effectiveDisplayFilter:t,_timeExtent:r,_floorFilter:i}=this;let s=e?.clone();if(null!=t&&(s??=new _,s.where=u(s.where,t.where)),null!=r&&(s??=new _,s.timeExtent=s.timeExtent?.intersection(r)??r),null!=i){s??=new _;const e=null==s.where||\"\"===s.where;s.where=e?i:u(s.where,i)}return s}get _configuration(){return this.context.configuration}reapply(){this._updateRequested=!0}clear(){this._queryEngine.clear(),this.context.clearFeaturesVisibility()}async _updateVisibility(){const{signal:e}=this._abortController,{context:t,_frameTask:i,_sceneFilter:s,_compositedFeatureFilter:o}=this;if(n(e),null==o&&null==s||0===t.getFeatureCount())return await i.schedule((()=>this.clear()),e);try{const r=await this._queryEngine.executeQueryForIdSet(o,s,e);return n(e),await i.schedule((()=>{t.updateFeatureVisibilities((e=>r.has(e)))}),e)}catch(a){return l(a),r.getLogger(this).warn(`FeatureFilter query failed: ${a}`,{error:a}),await i.schedule((()=>{t.setAllFeaturesVisibility(!0)}),e)}}};e([p({constructOnly:!0})],y.prototype,\"context\",void 0),e([p()],y.prototype,\"updating\",null),e([p()],y.prototype,\"defaultVisibility\",null),e([p()],y.prototype,\"_featureFilter\",null),e([p()],y.prototype,\"_effectiveDisplayFilter\",null),e([p()],y.prototype,\"_sceneFilter\",null),e([p()],y.prototype,\"_floorFilter\",null),e([p()],y.prototype,\"_timeExtent\",null),e([p()],y.prototype,\"_compositedFeatureFilter\",null),e([p()],y.prototype,\"_configuration\",null),e([p()],y.prototype,\"_updateRequested\",void 0),y=e([c(\"esri.views.3d.layers.support.FeatureVisibilityFilter\")],y);export{y as FeatureVisibilityFilter};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import r from\"../../core/Evented.js\";import i from\"../../core/Identifiable.js\";import s from\"../../core/Logger.js\";import{destroyMaybe as n}from\"../../core/maybe.js\";import l from\"../../core/Promise.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as p}from\"../../core/support/UpdatingHandles.js\";import{validateScaleRange as d}from\"../support/layerViewUtils.js\";let u=class extends(i.IdentifiableMixin(l.EsriPromiseMixin(r.EventedMixin(t)))){get spatialReferenceSupported(){return!0}constructor(e){super(e),this._updatingHandles=new p,this.layer=null,this.parent=null}initialize(){this.when().catch((e=>{if(\"layerview:create-error\"!==e.name){const t=this.layer&&this.layer.id||\"no id\",r=this.layer?.title||\"no title\";s.getLogger(this).error(\"#resolve()\",`Failed to resolve layer view (layer title: '${r}', id: '${t}')`,e)}}))}destroy(){this._updatingHandles=n(this._updatingHandles)}get fullOpacity(){return(this.layer?.opacity??1)*(this.parent?.fullOpacity??1)}get suspended(){return this.destroyed||!this.canResume()}get suspendInfo(){return this.getSuspendInfo()}get legendEnabled(){return!this.suspended&&!0===this.layer?.legendEnabled}get updating(){return!(!this._updatingHandles?.updating&&!this.isUpdating())}get updatingProgress(){return this.updating?0:1}get updateSuspended(){return this.suspended}get visible(){return!0===this.layer?.visible}set visible(e){this._overrideIfSome(\"visible\",e)}get visibleAtCurrentScale(){return!0}get visibleAtCurrentTimeExtent(){const e=this.view.timeExtent,t=this.layer?.visibilityTimeExtent;return!e||!t||!e.intersection(t).isEmpty}canResume(){const e=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return this.visible&&this.layer?.loaded&&this.parent&&!this.parent.suspended&&this.view?.ready&&d(e)&&this.visibleAtCurrentScale&&this.visibleAtCurrentTimeExtent||!1}getSuspendInfo(){const e=this.parent?.suspended?this.parent.suspendInfo:{},t=this;t.view?.ready||(e.viewNotReady=!0),this.layer&&this.layer.loaded||(e.layerNotLoaded=!0);const r=this.layer&&\"effectiveScaleRange\"in this.layer?this.layer.effectiveScaleRange:null;return d(r)&&this.visibleAtCurrentScale||(e.outsideScaleRange=!0),this.visibleAtCurrentTimeExtent||(e.outsideVisibilityTimeExtent=!0),this.visible||(e.layerInvisible=!0),e}isUpdating(){return!1}};e([o({readOnly:!0})],u.prototype,\"spatialReferenceSupported\",null),e([o()],u.prototype,\"view\",void 0),e([o()],u.prototype,\"fullOpacity\",null),e([o()],u.prototype,\"layer\",void 0),e([o()],u.prototype,\"parent\",void 0),e([o({readOnly:!0})],u.prototype,\"suspended\",null),e([o({readOnly:!0})],u.prototype,\"suspendInfo\",null),e([o({readOnly:!0})],u.prototype,\"legendEnabled\",null),e([o({type:Boolean,readOnly:!0})],u.prototype,\"updating\",null),e([o({readOnly:!0})],u.prototype,\"updatingProgress\",null),e([o()],u.prototype,\"updateSuspended\",null),e([o()],u.prototype,\"visible\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentScale\",null),e([o({readOnly:!0})],u.prototype,\"visibleAtCurrentTimeExtent\",null),u=e([a(\"esri.views.layers.LayerView\")],u);const y=u;export{y as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isSome as t}from\"../core/arrayUtils.js\";import{clone as e}from\"../core/lang.js\";import{offsetDate as n}from\"../core/timeUtils.js\";import i from\"../time/TimeExtent.js\";import{isWebMap as r}from\"../webmap/utils.js\";import{isWebScene as l}from\"../webscene/utils.js\";function s(t){return void 0!==t.timeInfo}async function u(t,e){return t.widgets?.timeSlider?.fullTimeExtent??a(t.allLayers,e)}function o(t){const e=t.numThumbs??2,n=t.currentTimeExtent;if(n){const{start:t,end:i}=n;return null!=t&&null!=i&&t.getTime()===i.getTime()?\"instant\":2===e?\"time-window\":null==t||0===t.getTime()?\"cumulative-from-start\":\"cumulative-from-end\"}return 2===e?\"time-window\":\"cumulative-from-start\"}function m(t){const{numStops:n,stopInterval:i,stops:r}=t;return r?{dates:e(r)}:i?{interval:i.clone()}:{count:n??5}}async function a(e,n){if(0===e.length)return i.allTime;await Promise.all(e.map((t=>t.load({signal:n}))));const r=e.filter(s),l=e.filter((t=>!s(t)&&null!=t.visibilityTimeExtent));if(0===r.length&&0===l.length)return i.allTime;const u=[],o=[];for(const t of r)\"feature\"!==t?.type&&\"map-image\"!==t?.type||!t.timeInfo?.hasLiveData?o.push(t):u.push(t);const m=t=>null==t||t.isAllTime,a=[...o.map((t=>{const e=t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:n}=t;return e?.intersection(n)??n})),...l.map((t=>t.visibilityTimeExtent))];if(a.some(m))return i.allTime;const f=u.map((async t=>{const e=(await t.fetchRecomputedExtents({signal:n}))?.timeExtent??t.timeInfo?.fullTimeExtent,{visibilityTimeExtent:i}=t;return e?.intersection(i)??i})),c=(await Promise.allSettled(f)).map((t=>\"fulfilled\"===t.status?t.value:null));if(c.some(m))return i.allTime;const d=[...c,...a].filter(t);if(0===d.length)return i.allTime;return d.reduce(((t,e)=>t.union(e)))}function f(t,e){const n=t.currentTimeExtent;if(!n)return null;const{start:r,end:l}=n,s=r??l??null;switch(e){case\"time-window\":return new i({start:r,end:l});case\"cumulative-from-start\":return new i({start:null,end:s});case\"cumulative-from-end\":return new i({start:s,end:null});case\"instant\":return new i({start:s,end:s})}}async function c(t,e){if(!r(t)&&!l(t))return null;await t.load({signal:e});const n=t?.widgets?.timeSlider;if(!n)return null;const i=await u(t,e),s=n.loop,a=o(n);return{fullTimeExtent:i,loop:s,mode:a,playRate:n.stopDelay??2e3,stops:m(n),timeExtent:f(n,a)}}function d(t){if(!t)return t;const{start:e,end:r}=t;return new i({start:null!=e?n(e,-e.getTimezoneOffset(),\"minutes\"):e,end:null!=r?n(r,-r.getTimezoneOffset(),\"minutes\"):r})}function p(t){if(!t)return t;const{start:e,end:r}=t;return new i({start:null!=e?n(e,e.getTimezoneOffset(),\"minutes\"):e,end:null!=r?n(r,r.getTimezoneOffset(),\"minutes\"):r})}export{a as getTimeExtentFromLayers,c as getTimeSliderSettingsFromWebDocument,p as toLocalTimeExtent,d as toUTCTimeExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{WebSceneTag as o}from\"../support/tagSymbols.js\";function t(t){return null!=t&&\"object\"==typeof t&&o in t}export{t as isWebScene};\n"],"names":["s","constructor","e","this","_cache","newCache","clear","destroy","get","items","put","t","c","test","cachedMemory","reduce","usedMemory","l","a","p","super","_dataQueryEngineInstance","layer","context","spatialReference","_queryGeometryType","geometryType","defaultQueryJSON","y","outSpatialReference","toJSON","executeQueryForIdSet","r","_dataQueryEngine","_ensureQueryJSON","executeQueryForCount","executeQueryForExtent","count","extent","n","fromJSON","executeQueryForIds","executeQueryForLatestObservations","i","features","forEach","sourceLayer","executeQuery","cacheHint","geometries","map","rings","concat","sceneFilter","geometry","priority","timeInfo","objectIdField","o","fieldsIndex","u","hasZ","hasM","featureStore","h","scheduler","m","memoryController","d","f","cache","constructOnly","prototype","toLowerCase","name","D","type","_updatingHandles","g","elevationFeatureExpressionEnabled","scaleVisibilityEnabled","filterVisibilityEnabled","frustumVisibilityEnabled","elevationAlignmentEnabled","timeExtentEnabled","setUidToIdOnAdd","dataExtent","drapeSourceType","x","Features","preferredUpdatePolicy","H","ASYNC","_suspendResumeExtent","initialize","owner","V","graphicSymbolSupported","componentFactories","deconflictor","view","addGraphicsOwner","labeler","elevationAlignment","j","graphicsCoreOwner","graphicsCore","queryGraphicUIDsInExtent","elevationProvider","scaleVisibility","S","basemapTerrain","filterVisibility","I","configuration","objectStates","O","_set","R","add","elevationInfo","addPromise","elevationInfoChange","labelsVisible","updateVisibilityInfo","labelingInfo","updateLabelingInfo","addResolvingPromise","_initializeAsync","initializePromise","renderer","rendererChange","fullOpacity","opacityChange","_setupSuspendResumeExtent","updateClippingExtent","clippingArea","_updateClippingExtent","startCreateGraphics","labelsEnabled","frustumVisibility","dataUpdating","visualVariables","findIndex","valueExpression","E","axis","rotationType","clone","splice","_randomRotationRenderers","WeakMap","set","suspendResumeExtentMode","scaleVisibilitySuspended","suspended","legendEnabled","suspendInfo","outsideScaleRange","outsideOfView","updating","updatingRemaining","loadedGraphics","filter","slicePlaneEnabled","updatePolicy","featureSpatialReference","graphics3DGraphics","graphics3DGraphicsByObjectID","symbolUpdateType","displayFeatureLimit","quality","Math","ceil","maximumNumberOfFeatures","v","maximumTotalNumberOfVertices","averageSymbolComplexity","loadedFeatures","numberOfGraphics","usedMemoryPerFeature","usedMemoryPerGraphic","unprocessedMemoryEstimate","performanceInfo","maskOccludee","handle","acquireOccludeeSet","setUid","uid","highlight","arguments","length","undefined","U","F","C","acquireHighlightSet","queryObjectIds","then","setObjectIds","P","G","attributes","setUids","A","resetObjectStates","reset","whenGraphicBounds","computeAttachmentOrigin","notifyGraphicGeometryChanged","notifyGraphicVisibilityChanged","getRenderingInfo","arcade","color","has","updateFloatArray","updateUint8Array","heading","digest","getRenderingInfoAsync","b","getSymbolLayerSize","setObjectIdVisibility","refreshFilter","reapply","getGraphics3DGraphicByObjectId","setClippingExtent","recreateAllGraphics","addHandles","removeHandles","M","computedExtent","_updateSuspendResumeExtent","extentPadding","_suspendResumeExtentChanged","_extentToSuspendResumeRect","equals","_","w","setExtent","readOnly","datesInUnknownTimezone","timeOffset","useViewTime","timeExtent","intersection","isEmpty","isAllTime","offset","value","unit","charCodeAt","push","Uint8Array","_seed","_totallen","_bufs","init","isNaN","toString","update","join","updateIntArray","Int32Array","from","buffer","updateWithString","_xxHash32","resourceController","_getFeatureStore","supportsHeightUnitConversion","postscript","_validateHeightModelInfo","AbortController","signal","abort","defaultsFromMap","heightModelInfoReady","heightModelInfo","_frameTask","_queryEngine","_updateRequested","_abortController","FILTER_VISIBILITY","_configuration","registerTask","_compositedFeatureFilter","_sceneFilter","addWhen","schedule","_updateVisibility","catch","defaultVisibility","_featureFilter","_effectiveDisplayFilter","effectiveDisplayFilter","layerFilter","_floorFilter","_timeExtent","where","clearFeaturesVisibility","getFeatureCount","updateFeatureVisibilities","getLogger","warn","error","setAllFeaturesVisibility","IdentifiableMixin","EsriPromiseMixin","EventedMixin","spatialReferenceSupported","parent","when","id","title","opacity","destroyed","canResume","getSuspendInfo","isUpdating","updatingProgress","updateSuspended","visible","_overrideIfSome","visibleAtCurrentScale","visibleAtCurrentTimeExtent","visibilityTimeExtent","effectiveScaleRange","loaded","ready","viewNotReady","layerNotLoaded","outsideVisibilityTimeExtent","layerInvisible","Boolean","async","widgets","timeSlider","fullTimeExtent","allLayers","numStops","stopInterval","stops","dates","interval","allTime","Promise","all","load","hasLiveData","some","fetchRecomputedExtents","allSettled","status","union","currentTimeExtent","start","end","loop","numThumbs","getTime","mode","playRate","stopDelay","getTimezoneOffset"],"sourceRoot":""}