{"version":3,"file":"static/js/80048.17337b67.chunk.js","mappings":"iKAI4FA,eAAeC,EAAEA,GAAoB,IAAlBC,EAACC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAACF,EAAEK,cAAe,GAAG,MAAMJ,EAAE,MAAM,GAAG,MAAMK,QAAQL,EAAEM,kBAAkBP,EAAEQ,cAAcC,oBAAoBC,GAAGT,GAAGU,cAAcC,EAAEC,YAAYC,EAAEC,cAAcC,EAAEC,cAAcC,GAAGlB,EAAE,GAAGM,EAAEa,SAAS,KAAK,MAAM,CAAC,KAAK,MAAMC,EAAEV,GAAEW,EAAAA,EAAAA,sBAAErB,GAAG,GAAGsB,GAAEC,EAAAA,EAAAA,WAAEvB,EAAEQ,YAAY,IAAIF,KAAKc,IAAI,OAAON,GAAGQ,EAAEE,KAAKV,GAAGQ,GAAGV,GAAGZ,EAAEQ,aAAaiB,IAAIb,KAAKU,EAAEH,SAASP,IAAIU,EAAEE,KAAKZ,GAAGU,GAAGN,GAAGhB,EAAEQ,aAAaiB,IAAIT,KAAKM,EAAEH,SAASH,IAAIM,EAAEE,KAAKR,GAAGE,GAAGA,EAAEQ,SAASL,IAAI,MAAMM,SAASJ,GAAGF,EAAEC,GAAGC,GAAGvB,EAAEQ,aAAaiB,IAAIF,KAAKD,EAAEH,SAASI,IAAID,EAAEE,KAAKD,EAAE,IAAID,CAAC,CAAC,SAASrB,EAAEoB,EAAEE,GAAG,OAAOF,EAAEhB,cAAcgB,EAAEhB,cAAc,MAAMkB,GAAGA,EAAEK,6BAA6B,MAAMP,EAAEQ,qBAAqBR,EAAEQ,qBAAqB,IAAI,CAAC,SAASvB,EAAEe,EAAEE,GAAG,OAAO,MAAMtB,EAAEoB,EAAE,CAACO,4BAA4BL,GAAG,C,0HCA7Z,MAAMT,EAAEA,IAAI,IAAId,EAAE,cAAc8B,EAAAA,EAAEC,iBAAiBjB,IAAIkB,WAAAA,GAAcC,SAAS/B,WAAWgC,KAAKC,OAAO,KAAKD,KAAKE,kBAAiB,EAAGF,KAAKG,2BAA2B,CAAC,CAAC,eAAIC,GAAc,OAAOJ,KAAKG,2BAA2B,GAAGH,KAAKE,gBAAgB,CAAC,eAAIE,CAAYjB,GAAGa,KAAKE,iBAAiBf,CAAC,CAAC,YAAIkB,GAAW,OAAM,CAAE,CAAC,WAAIC,GAAU,OAAO,MAAMN,KAAKC,QAAQD,KAAKC,OAAOK,UAAUN,KAAKC,OAAOM,SAAS,CAAC,WAAID,CAAQnB,GAAGa,KAAKQ,gBAAgB,UAAUrB,EAAE,CAACsB,4BAAAA,GAA+B,OAAOT,KAAKG,8BAA6B3B,EAAAA,EAAAA,KAAG,IAAIwB,KAAKG,8BAA8B,GAAG,OAAOhB,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,IAAE,CAAC4B,eAAc,KAAM5C,EAAE6C,UAAU,cAAS,IAAQxB,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,IAAE,CAAC4B,eAAc,KAAM5C,EAAE6C,UAAU,YAAO,IAAQxB,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,IAAE,CAAC8B,KAAKC,WAAW/C,EAAE6C,UAAU,cAAc,OAAMxB,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,OAAKhB,EAAE6C,UAAU,wBAAmB,IAAQxB,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,IAAE,CAACgC,UAAS,KAAMhD,EAAE6C,UAAU,WAAW,OAAMxB,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,OAAKhB,EAAE6C,UAAU,UAAU,OAAMxB,EAAAA,EAAAA,GAAE,EAACL,EAAAA,EAAAA,OAAKhB,EAAE6C,UAAU,kCAA6B,GAAQ7C,GAAEqB,EAAAA,EAAAA,GAAE,EAACD,EAAAA,EAAAA,GAAE,0CAA0CpB,GAAGA,CAAC,C,sGCAhnC,SAASuB,EAAEvB,EAAE8B,GAAG9B,EAAEsC,aAAY,EAAG,MAAMW,KAAK1B,EAAE2B,KAAKhC,GAAGlB,EAAEkB,EAAEiC,WAAW5B,EAAE,IAAI6B,GAAEpC,EAAAA,EAAAA,SAAEc,GAAG,KAAKZ,EAAEiC,aAAa5B,IAAIL,EAAEiC,WAAW,KAAK,IAAI,OAAO/B,EAAAA,EAAAA,KAAGrB,gBAAgBsB,EAAAA,EAAAA,WAAG,IAAI,MAAME,IAAIA,EAAE8B,QAAQjC,GAAGgC,GAAE1C,EAAAA,EAAAA,IAAE0C,EAAE,GAAGtB,EAAE,CAAC,SAASZ,EAAEE,EAAEV,GAAG,OAAOV,EAAAA,EAAAA,QAAG,IAAIoB,EAAEkB,cAAc,IAAe,SAAWlB,EAAEV,GAAGU,EAAEkB,YAAwB,SAAWlB,EAAEV,GAAG4C,EAAElC,GAAG,MAAM8B,KAAKlC,EAAEuC,SAASlC,GAAGD,EAAEpB,EAAE,IAAIU,EAAE,CAACwC,KAAKlC,EAAEuC,SAASlC,EAAEmC,iBAAiBpC,IAAWA,EAAE6B,KAAKjD,EAAEgB,EAAEyC,MAAMC,IAAI1D,EAAI,CAA5Ic,CAAEM,EAAEV,GAAG4C,EAAElC,EAAE,CAApDgC,CAAEhC,EAAEV,IAAIoB,EAAAA,eAAE,CAA4K,SAASwB,EAAElC,GAAG,MAAM8B,KAAKxC,EAAEuC,KAAKjC,GAAGI,EAAE,MAAMJ,IAAIN,EAAE+C,MAAME,OAAO3C,GAAGI,EAAE6B,KAAK,KAAK,C,8OCA2N,IAAIK,EAAE,cAAcpC,EAAAA,QAAEc,WAAAA,CAAYX,GAAGY,MAAMZ,GAAGa,KAAK0B,iBAAgB,EAAG1B,KAAK2B,mBAAmB,IAAI,CAACC,UAAAA,GAAuiI,IAAWzC,EAAEL,EAAviIkB,KAAK6B,WAAW7B,KAAKqB,SAASS,eAAeC,GAAG,cAAc5C,IAAI,MAAML,EAAEK,EAAE6C,KAAK,MAAMlD,IAAIA,aAAaI,EAAAA,SAAGJ,aAAaoC,EAAAA,SAAGpC,aAAaI,EAAAA,SCAjoC,SAAWF,GAAG,OAAOA,EAAE4B,MAAM,IAAI,iBAAiB,IAAI,UAAU,IAAI,wBAAwB,IAAI,oBAAoB,IAAI,MAAM,IAAI,YAAY,IAAI,UAAU,IAAI,UAAU,IAAI,UAAU,IAAI,WAAW,IAAI,QAAQ,IAAI,kBAAkB,IAAI,0BAA0B,IAAI,MAAM,IAAI,kBAAkB,IAAI,aAAa,IAAI,2BAA2B,IAAI,gBAAgB,IAAI,YAAY,IAAI,cAAc,IAAI,mBAAmB,IAAI,cAAc,IAAI,QAAQ,IAAI,QAAQ,IAAI,SAAS,IAAI,WAAW,IAAI,QAAQ,IAAI,gBAAgB,IAAI,UAAU,IAAI,cAAc,IAAI,MAAM,IAAI,UAAU,KAAK,KAAK,OAAM,EAAG,IAAI,eAAe,IAAI,iBAAiB,IAAI,YAAY,IAAI,YAAY,IAAI,YAAY,IAAI,UAAU,IAAI,eAAe,IAAI,YAAY,IAAI,QAAQ,IAAI,kBAAkB,IAAI,OAAO,IAAI,cAAc,IAAI,QAAQ,IAAI,MAAM,IAAI,WAAW,IAAI,MAAM,IAAI,OAAO,OAAM,EAAG,QAAQ,OAAOzB,EAAAA,EAAAA,IAAEH,EAAE4B,OAAM,EAAG,CDAwQqB,CAAEnD,IAAIN,EAAAA,EAAE0D,UAAUlC,MAAMmC,MAAM,iBAAiB,UAAUrD,EAAEsD,aAAatD,EAAEuD,gBAAgBvD,EAAE8B,4FAA4FzB,EAAEmD,kBAAkBtC,KAAKqB,SAASS,eAAe7C,SAASH,IAAIK,EAAEmD,kBAAkB9D,EAAAA,EAAE0D,UAAUlC,MAAMmC,MAAM,iBAAiB,iFAAiFhD,EAAEmD,iBAAiB,KAAmgHnD,EAA5/Ga,KAAKgB,KAAy/GlC,EAAp/GkB,KAAu/GZ,EAAEG,IAAIJ,IAAIC,EAAEmD,IAAIpD,EAAE,CAACqD,IAAI,GAAGC,iBAAiB,OAAOrD,EAAEsD,IAAIvD,IAAIqD,IAAIlD,KAAKR,GAAtjHkB,KAAK6B,WAAW,EAACxC,EAAAA,EAAAA,QAAG,IAAIW,KAAKsB,iBAAiBqB,QAAQ,KAAK3C,KAAK0B,iBAAiB1B,KAAK4C,oCAAoC5C,KAAK6C,mBAAmB,GAAG,CAACC,MAAK,KAAKzD,EAAAA,EAAAA,QAAG,IAAIW,KAAKqB,SAAS0B,uBAAuB,IAAI/C,KAAK6C,qBAAqB,CAACC,MAAK,IAAK9C,KAAKqB,SAASS,eAAeC,GAAG,UAAU,IAAI/B,KAAK6C,uBAAsBxD,EAAAA,EAAAA,QAAG,IAAI,CAACW,KAAKsB,iBAAiBH,OAAOnB,KAAKsB,iBAAiBhB,WAAW,KAAKN,KAAKgD,0BAA0BhD,KAAKiD,uBAAuB,GAAG,CAACH,MAAK,KAAKzD,EAAAA,EAAAA,QAAG,IAAIW,KAAKkD,4BAA4B,IAAIlD,KAAK6C,wBAAwB7C,KAAK6B,WAAW,EAACxC,EAAAA,EAAAA,QAAG,IAAIW,KAAKqB,SAAS8B,QAAQ,KAAKnD,KAAK0B,kBAAkB1B,KAAKoD,oCAAoCpD,KAAKiD,wBAAwB,GAAG,CAACH,MAAK,KAAM,YAAY9C,KAAKgD,0BAA0BhD,KAAKoD,oCAAoCpD,KAAKiD,uBAAuB,CAACI,OAAAA,GAAUrD,KAAKsB,iBAAiBH,SAASnB,KAAKsB,iBAAiBH,QAAO,EAAGnB,KAAKgB,KAAKsC,WAAW,KAAKtD,KAAKgD,0BAA0BhD,KAAKiD,yBAAqqF,SAAW9D,EAAEL,GAAG,IAAIM,EAAEG,IAAIJ,GAAG,MAAM,IAAIoE,MAAM,0CAA0C,MAAMvE,EAAEI,EAAEsD,IAAIvD,GAAGX,EAAEQ,GAAGwD,IAAIgB,YAAY1E,KAAK,EAAE,IAAIE,IAAI,IAAIR,EAAE,MAAM,IAAI+E,MAAM,gDAAgDvE,EAAEwD,IAAIiB,OAAOjF,EAAE,GAAG,IAAIQ,EAAEwD,IAAIvE,QAAQmB,EAAEsE,OAAOvE,EAAE,CAA74FwE,CAAE3D,KAAKgB,KAAKhB,MAAMA,KAAKuC,IAAI,OAAO,KAAK,CAAC,6BAAIW,GAA4B,MAAM/D,EAAEa,KAAKgB,KAAK4C,cAAcC,MAAM,OAAO1E,EAAE2E,OAAO3E,EAAE4E,OAAOC,EAAAA,IAAGC,SAASC,IAAA,IAAEC,cAAchF,GAAE+E,EAAA,OAAG/E,EAAE0E,KAAK,IAAG,CAACT,iCAAAA,GAAoC,MAAMjE,EAAEa,KAAKqB,SAAS8B,MAAMrE,EAAEkB,KAAK2B,mBAAmB,GAAG,MAAM7C,GAAG,MAAMK,GAAG,MAAML,GAAG,MAAMK,GAAGA,EAAEiF,OAAOtF,GAAG,OAAO,IAAIE,EAAE,KAAKK,EAAE,KAAK,GAAG,MAAMF,GAAGkF,SAAS,CAAC,MAAMvF,EAAEK,EAAEkF,SAASC,iBAAiB1F,GAAER,EAAAA,EAAAA,IAAEe,EAAEa,KAAKgB,MAAM,MAAMpC,IAAG2F,EAAAA,EAAAA,GAAEvE,KAAKqB,SAASvC,EAAEN,EAAAA,EAAE0D,UAAUlC,OAAOhB,GAAEN,EAAAA,EAAAA,IAAEE,EAAEoB,KAAKgB,KAAK,CAACwD,YAAYxE,KAAKqB,SAASmD,cAAa5E,EAAAA,EAAAA,MAAK,MAAMZ,IAAIK,EAAE,CAACoF,QAAQtF,EAAEsF,QAAQC,KAAKvF,EAAEuF,KAAKL,SAASlF,EAAEkF,SAASM,MAAMxF,EAAEwF,MAAMC,OAAOzF,EAAEyF,QAAQ,CAAC5E,KAAK2B,mBAAmBtC,EAAEW,KAAK0B,iBAAgB,EAAG1B,KAAKsB,iBAAiBqB,MAAM3D,EAAEgB,KAAK0B,iBAAgB,CAAE,CAACkB,iCAAAA,GAAoC,MAAMzD,EAAEa,KAAKsB,iBAAiBqB,MAAM3D,GAAEjB,EAAAA,EAAAA,IAAEoB,EAAEa,KAAKgB,KAAKhB,KAAKgB,KAAKsD,iBAAiB,IAAIxF,EAAAA,SAAG,IAAIN,EAAE,KAAK,MAAMQ,IAAIR,EAAE,CAACiG,QAAQzF,EAAEyF,QAAQC,KAAK1F,EAAE0F,KAAKL,SAASrF,EAAEqF,SAASM,MAAM3F,EAAE2F,MAAMC,OAAO5F,EAAE4F,SAAS5E,KAAK2B,mBAAmBnD,EAAEwB,KAAK0B,iBAAgB,EAAG1B,KAAKqB,SAAS8B,MAAMnE,EAAEgB,KAAK0B,iBAAgB,EAAG1B,KAAKiD,uBAAuB,CAACD,uBAAAA,GAA0B,GAAG6B,EAAE,OAAO,MAAM1F,EAAE2F,EAAE9E,KAAKgB,MAAM,GAAI7B,EAAS,GAAGa,KAAKsB,iBAAiBH,OAAO,MAAMhC,EAAEsD,kBAAkBtD,EAAEsD,mBAAmBzC,MAAM6E,GAAE,EAAG1F,EAAEsD,iBAAiBnB,iBAAiBH,QAAO,EAAG0D,GAAE,GAAI,MAAM1F,EAAEsD,kBAAkBtD,EAAEsD,iBAAiBzC,KAAK6C,oBAAoB1D,EAAEsD,iBAAiBzC,SAAS,CAAC,GAAG,MAAMb,EAAEsD,kBAAkBtD,EAAEsD,mBAAmBzC,KAAK,OAAO,MAAMb,EAAEsD,kBAAkBtD,EAAEsD,mBAAmBzC,OAAOb,EAAEsD,iBAAiB,KAAKzC,KAAK6C,oBAAoB,CAAC,CAACI,qBAAAA,IAA01B,SAAW9D,GAAG,MAAML,EAAEgG,EAAE3F,GAAGH,EAAEF,GAAG2D,iBAAiB,MAAMzD,GAAGsC,iBAAiBqB,OAAO3D,EAAEsC,iBAAiBhB,QAAQnB,EAAEmE,WAAWtE,EAAEsC,iBAAiBqB,MAAMxD,EAAEmE,WAAW,IAAI,CAAt+ByB,CAAE/E,KAAKgB,KAAK,CAAC6B,iBAAAA,GAAoB,MAAM1D,EAAE,MAAMa,KAAKsB,iBAAiBqB,OAAO3C,KAAKsB,iBAAiBhB,SAASN,KAAKsB,iBAAiBH,OAAOrC,EAAE,GAAGE,EAAEG,IAAI,WAAWA,EAAEA,EAAE6F,OAAOxF,QAAQR,GAAGF,EAAEQ,KAAKH,EAAE,EAAEa,KAAKqB,SAASS,eAAetC,QAAQR,GAAGgB,KAAKgB,KAAK4C,cAAcpE,SAASR,IAAIA,EAAEiG,YAAY,sBAAsBjG,IAAIA,EAAEkG,kBAAkB/F,IAAIL,EAAEG,SAASD,EAAEmG,QAAQ,kBAAkBnG,GAAGA,EAAEmF,cAAc3E,SAASR,IAAIA,EAAEkG,kBAAkB/F,IAAIL,EAAEG,SAASD,EAAEoG,SAAS,IAAI,IAAI,MAAMpF,KAAKgB,KAAKqE,iBAAiBrF,KAAKgB,KAAKqE,eAAeH,kBAAkB/F,IAAIa,KAAKqB,SAAS0B,qBAAqB,IAAG5D,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,OAAKwC,EAAET,UAAU,YAAO,IAAQxB,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,OAAKwC,EAAET,UAAU,gBAAW,IAAQxB,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,OAAKwC,EAAET,UAAU,wBAAmB,IAAQxB,EAAAA,EAAAA,GAAE,EAACP,EAAAA,EAAAA,OAAKwC,EAAET,UAAU,4BAA4B,MAAMS,GAAEjC,EAAAA,EAAAA,GAAE,EAACrB,EAAAA,EAAAA,GAAE,iDAAiDsD,GAAG,MAAMhC,EAAE,IAAIkG,IAAI,IAAIT,GAAE,EAAgQ,SAASC,EAAE3F,GAAG,OAAOC,EAAEsD,IAAIvD,EAAE,C,IEA5qEoG,E,0PAAG,IAAIC,EAAGD,EAAG,cAAcE,EAAAA,EAAG3F,WAAAA,CAAYtB,GAAGuB,MAAMvB,GAAGwB,KAAK0F,OAAO5G,EAAAA,EAAEkB,KAAK2F,qBAAqB,EAAE3F,KAAK4F,0BAAyB,EAAG5F,KAAK6F,YAAY,OAAO7F,KAAK8F,iBAAiB,KAAK9F,KAAK+F,yBAAyB,KAAK/F,KAAKgG,sBAAsB,KAAKhG,KAAKiG,mBAAmB,KAAKjG,KAAKkG,WAAW,KAAKlG,KAAKmG,oBAAoBC,EAAAA,GAAEpG,KAAKqG,wBAAwB,KAAKrG,KAAKsG,+BAA+B,KAAKtG,KAAKuG,kCAAkC,KAAKvG,KAAKwG,aAAYC,EAAAA,EAAAA,KAAIzG,KAAK0G,cAAc,KAAK1G,KAAK2G,oBAAoB,CAAC,EAAE3G,KAAK4G,qBAAoB5C,EAAAA,EAAAA,MAAIhE,KAAK6G,eAAe,CAAC,CAACC,UAAU,CAAC,EAAE,IAAI,CAACA,UAAU,CAAC,EAAE,IAAI,CAACA,UAAU,CAAC,EAAE,IAAI,CAACA,UAAU,EAAE,EAAE,IAAI,CAACA,UAAU,EAAE,EAAE,IAAI,CAACA,UAAU,EAAE,GAAG,IAAI,CAACA,UAAU,CAAC,GAAG,IAAI,CAACA,UAAU,CAAC,GAAG,KAAK9G,KAAK+G,cAAaC,EAAAA,EAAAA,GAAGxI,EAAEwC,KAAKiG,MAAMC,YAAY,CAACtF,UAAAA,GAAa,GAAG,MAAM5B,KAAKqB,SAAS,MAAM,IAAIkC,MAAM,6DAA6D,MAAM/E,EAAEA,IAAIwB,KAAKmH,+BAA+B3I,GAAGA,EAAE4I,WAAW,MAAMpH,KAAKsB,iBAAiBqB,QAAO0E,EAAAA,EAAAA,GAAErH,KAAKsB,iBAAiBqB,MAAM3C,KAAKwG,aAAaxG,KAAKsH,WAAW,KAAK,EAAEnI,EAAE,IAAIoI,EAAAA,EAAEvH,KAAKgB,KAAKwG,EAAAA,EAAEC,iBAAiBzH,KAAK8F,iBAAiB3G,EAAEa,KAAK0H,aAAalG,IAAIrC,GAAGa,KAAK6B,WAAW,CAAC7B,KAAK2H,yBAAyBxI,GAAGA,EAAEyI,OAAO7F,GAAG,gBAAgBjD,IAAIkB,KAAK6H,aAAa/I,GAAGN,EAAEW,EAAE,MAAM,MAAML,GAAGkB,KAAKgB,KAAK8G,QAAQC,WAAWC,iBAAiBC,WAAWC,sBAAsBC,OAAOnJ,EAAE,IAAIoJ,EAAAA,EAAEpI,KAAKgB,MAAM,CAACxC,EAAEW,KAAIkJ,EAAAA,EAAAA,GAAErI,KAAKgB,KAAKsH,SAAS,CAACC,YAAY/J,EAAEgK,cAAcrJ,EAAEsJ,iBAAiB3J,MAAMkB,KAAK+F,yBAAyB/G,EAAEgB,KAAK0H,aAAalG,IAAIxC,GAAGgB,KAAK6B,WAAW,CAAC7B,KAAK0I,iCAAiC1J,GAAGA,EAAE4I,OAAO7F,GAAG,gBAAgB5C,IAAIa,KAAK2I,qBAAqBxJ,GAAGX,EAAEQ,EAAE,MAAM,MAAMJ,EAAE,IAAIwJ,EAAAA,EAAEpI,KAAKgB,MAAM,CAACxC,EAAEW,KAAIyJ,EAAAA,EAAAA,GAAE5I,KAAKgB,KAAKsH,SAAS,CAACC,YAAY/J,EAAEgK,cAAcrJ,EAAEsJ,iBAAiB3J,MAAMkB,KAAKgG,sBAAsBpH,EAAEoB,KAAK0H,aAAalG,IAAI5C,GAAGoB,KAAK6B,WAAW,CAAC7B,KAAK6I,8BAA8BjK,GAAGA,EAAEgJ,OAAO7F,GAAG,gBAAgB5C,IAAIa,KAAK8I,kBAAkB3J,GAAGX,EAAEI,EAAE,MAAMoB,KAAKiG,mBAAmBjG,KAAK6G,eAAekC,KAAK,CAAC5J,EAAEL,KAAK,MAAME,EAAE,IAAIgK,EAAAA,EAAEhJ,KAAKgB,KAAK7B,GAAG,OAAOa,KAAK6B,WAAW,CAAC7B,KAAKiJ,0BAA0BjK,GAAGA,EAAE4I,OAAO7F,GAAG,gBAAgB5C,IAAIa,KAAKkJ,cAAc/J,EAAEL,GAAGN,EAAEQ,EAAE,MAAMA,CAAC,IAAIgB,KAAK0H,aAAayB,QAAQnJ,KAAKiG,oBAAoBjG,KAAKsG,gCAA+B8C,EAAAA,EAAAA,IAAGpJ,KAAKgB,MAAMhB,KAAKuG,mCAAkC8C,EAAAA,EAAAA,IAAGrJ,KAAKgB,MAAMhB,KAAKuG,kCAAkC5B,MAAM2E,EAAAA,GAAEtJ,KAAK6B,YAAW/D,EAAAA,EAAAA,QAAG,IAAI,CAACkC,KAAKsB,iBAAiBqB,MAAM3C,KAAKqB,SAASmD,eAAe,IAAIxE,KAAKuJ,uBAAuB3J,EAAAA,OAAI,MAAMV,GAAEpB,EAAAA,EAAAA,QAAG,IAAIkC,KAAKiH,QAAQzI,IAAI,WAAWA,GAAGwB,KAAKwJ,oBAAoB,GAAGnK,EAAAA,gBAAGW,KAAK6B,WAAW,CAAC3C,GAAEpB,EAAAA,EAAAA,QAAG,IAAIkC,KAAKgB,KAAKiG,MAAMwC,SAAS,IAAIzJ,KAAK0J,qBAAqB,CAACrG,OAAAA,GAAUrD,KAAK2J,mBAAmB3J,KAAK4J,2BAA2B5J,KAAKuG,mCAAkCvH,EAAAA,EAAAA,IAAEgB,KAAKuG,mCAAmCvG,KAAKsG,gCAA+BtH,EAAAA,EAAAA,IAAEgB,KAAKsG,+BAA+B,CAAC,SAAIW,GAAQ,MAAMzI,IAAIwB,KAAKsB,iBAAiBqB,MAAMxD,IAAIa,KAAKsH,WAAW,OAAO9I,EAAEA,GAAGW,EAAE,UAAUX,IAAIW,EAAE,SAAS,QAAQ,OAAO,CAAC,UAAI0K,GAAS,OAAO7J,KAAK8J,sBAAsB,YAAY9J,KAAK+J,WAAW,YAAY,MAAM/J,KAAKgK,mBAAmB,WAAW,IAAI,CAAC,YAAI3I,CAAS7C,GAAG,GAAG,MAAMA,EAAE,MAAM,IAAI+E,MAAM,6DAA6DvD,KAAKiK,cAAc,YAAYjK,KAAKkK,KAAK,WAAW1L,EAAE,CAAC,cAAIuL,GAAa,OAAO/J,KAAK6F,WAAW,CAAC,cAAIyB,GAAa,OAAOtH,KAAKmK,KAAK,aAAa,CAAC,cAAI7C,CAAW9I,GAAGwB,KAAKkK,KAAK,aAAa1L,GAAGwB,KAAKsB,iBAAiB8I,SAAS,MAAM5L,GAAG,WAAWA,EAAEoC,KAAKZ,KAAKqK,kBAAkB,CAAC,wBAAIP,GAAuB,OAAO9J,KAAKsH,aAAatH,KAAKsB,iBAAiBqB,OAAO3C,KAAKmB,MAAM,CAAC,sBAAI6I,GAAqB,OAAO,MAAMhK,KAAKsH,YAAY,UAAUtH,KAAKsH,WAAW1G,KAAKZ,KAAKsH,WAAWgD,kBAAkB,IAAI,CAACC,qBAAAA,GAAwB,MAAMvK,KAAKsB,iBAAiBqB,QAAQ3C,KAAK6F,YAAY,UAAU7F,KAAKmB,SAASnB,KAAKgB,KAAKC,WAAWjB,MAAM,CAACwK,oBAAAA,GAAuB,MAAMxK,KAAKsB,iBAAiBqB,QAAQ3C,KAAK6F,YAAY,OAAO7F,KAAKmB,SAASnB,KAAKgB,KAAKC,WAAW,MAAM,CAACwJ,YAAAA,GAAezK,KAAK0K,oBAAoB,KAAK,CAACC,MAAAA,GAAS3K,KAAK4K,mBAAkB,EAAG,CAACC,MAAAA,GAAS7K,KAAK4K,mBAAkB,EAAG,CAACA,iBAAAA,CAAkBpM,GAAGwB,KAAKuJ,sBAAsB/K,GAAGwB,KAAK4J,0BAA0B,CAACkB,YAAAA,CAAatM,GAAG,OAAOA,EAAEoC,MAAM,IAAI,eAAe,IAAImK,EAAGvM,GAAG,OAAOwB,KAAK8J,qBAAqB9J,KAAKgL,mBAAmBxM,IAAIA,EAAEyM,kBAAkBjL,KAAKkL,eAAe1M,IAAIA,EAAEyM,kBAAkB,MAAM,IAAI,eAAejL,KAAKmL,eAAe3M,GAAG,MAAM,IAAI,aAAawB,KAAKoL,aAAa5M,IAAIA,EAAEyM,kBAAkB,MAAM,IAAI,kBAAkB,IAAIF,EAAGvM,GAAG,OAAOwB,KAAKgL,mBAAmBxM,IAAIA,EAAEyM,kBAAkB,MAAM,IAAI,QAAQ,IAAIF,EAAGvM,GAAG,OAAOwB,KAAKqL,qBAAqB7M,IAAIA,EAAEyM,kBAAkB,MAAM,IAAI,OAAOjL,KAAKsH,YAAY9I,EAAEyM,kBAAkB,MAAM,IAAI,WAAWjL,KAAKsL,WAAW9M,IAAIA,EAAEyM,kBAAkB,MAAM,IAAI,SAASjL,KAAKuL,SAAS/M,IAAIA,EAAEyM,kBAAkB,CAACO,gBAAAA,GAAmBxL,KAAKsB,iBAAiBmK,SAASzL,KAAK0L,kBAAkB,CAACR,cAAAA,CAAe1M,GAAG,MAAMW,EAAEa,KAAKsH,WAAW,GAAG9I,EAAEmN,YAAY3L,KAAKgK,oBAAoB,MAAM7K,GAAG,UAAUA,EAAEyB,KAAK,CAAC,MAAM9B,GAAE8M,EAAAA,EAAAA,IAAGpN,GAAG,OAAOwB,KAAK8F,iBAAiB8B,OAAOiE,KAAK,OAAO,CAACC,OAAO3M,EAAE4M,eAAe,SAAS,QAAQC,YAAYxN,EAAEwN,YAAYC,MAAMnN,EAAEoN,YAAYpN,IAAIK,EAAE4M,gBAAe,GAAG,CAAE,CAAC,OAAM,CAAE,CAACZ,cAAAA,CAAe3M,GAAGwB,KAAK4G,oBAAoBuF,EAAE3N,EAAE2N,EAAEnM,KAAK4G,oBAAoBrC,EAAE/F,EAAE+F,EAAEvE,KAAKoM,2BAA2B,UAAU5N,EAAEwN,aAAahM,KAAK0K,qBAAoBkB,EAAAA,EAAAA,IAAGpN,GAAGwB,KAAK2G,oBAAoB,CAAC+C,eAAAA,GAAkB1J,KAAK0K,oBAAoB1K,KAAK4G,oBAAoB5G,KAAK2G,qBAAqB3G,KAAKuJ,qBAAqB,CAAC6B,YAAAA,CAAa5M,GAAG,GAAGA,EAAEmN,YAAY3L,KAAKgK,oBAAoB,MAAMhK,KAAKsB,iBAAiBqB,MAAM,CAAC,MAAMxD,GAAEyM,EAAAA,EAAAA,IAAGpN,GAAG,OAAOwB,KAAK8F,iBAAiB8B,OAAOiE,KAAK,OAAO,CAACC,OAAO,MAAMG,MAAM9M,EAAE+M,YAAY/M,KAAIkI,EAAAA,EAAAA,GAAErH,KAAKsB,iBAAiBqB,MAAM3C,KAAKwG,aAAaxG,KAAKsH,WAAW,MAAK,CAAE,CAAC,OAAM,CAAE,CAAC0D,kBAAAA,CAAmBxM,GAAG,GAAG,YAAYwB,KAAK+J,WAAW,OAAM,EAAG,GAAG/J,KAAK8J,qBAAqB,CAAC,MAAMhL,GAAE8M,EAAAA,EAAAA,IAAGpN,GAAGQ,GAAEyH,EAAAA,EAAAA,KAAI,GAAGzG,KAAKqM,WAAWvN,GAAE,EAAGkB,KAAK2G,oBAAoB3H,GAAG,CAAC,GAAG,iBAAiBR,EAAEoC,KAAK,CAAC,MAAMzB,GAAEmN,EAAAA,EAAAA,IAAGtM,KAAKgB,KAAKiG,MAAMwC,OAAO3K,EAAEyN,GAAIvM,KAAKsH,WAAWkF,EAAGrN,EAAEX,EAAEmN,UAAU3M,EAAEyN,OAAOzN,EAAE,CAAC,OAAOqI,EAAAA,EAAAA,GAAErI,EAAEgB,KAAKwG,aAAaxG,KAAKqB,SAAS8B,OAAMuJ,EAAAA,EAAAA,IAAG1N,EAAEgB,KAAKgB,KAAKhB,KAAKgB,KAAKsD,iBAAiB,IAAInF,EAAAA,UAAG,CAAE,CAAC,CAAC,OAAM,CAAE,CAACkM,oBAAAA,CAAqB7M,GAAG,QAAQ,YAAYwB,KAAK+J,aAAa/J,KAAK2M,WAAW3M,KAAKgB,KAAK4L,SAAQhB,EAAAA,EAAAA,IAAGpN,IAAIqO,MAAMrO,IAAI,GAAGA,EAAEsO,QAAQ7O,OAAO,CAAC,MAAMkB,EAAEX,EAAEsO,QAAQ,GAAGhO,EAAE,YAAYK,GAAGyB,MAAMzB,EAAE4N,QAAQ,GAAGjO,EAAE,CAAC,MAAMN,EAAEM,EAAEkO,aAAalO,EAAEqG,MAAM3G,GAAGwB,KAAKqB,SAASS,eAAexC,KAAKd,EAAE,CAAC,MAAMA,EAAEyO,OAAO9H,MAAMnF,KAAKqB,SAASS,eAAexC,KAAKd,EAAEyO,OAAO9H,OAAOnF,KAAKqB,SAAS0B,sBAAqB,CAAE,IAAI/C,KAAKwK,wBAAuB,EAAG,CAACc,UAAAA,CAAW9M,GAAG,OAAOA,EAAE0O,MAAMC,EAAAA,IAAG3O,EAAE0O,MAAME,EAAAA,MAAKpN,KAAK2G,oBAAoBnI,EAAE0O,MAAK,EAAG,MAAMlN,KAAK0G,eAAe1G,KAAK0K,oBAAoB1K,KAAK4G,oBAAoB5G,KAAK2G,sBAAqB,EAAG,CAAC4E,QAAAA,CAAS/M,GAAG,QAAQA,EAAE0O,MAAMC,EAAAA,IAAG3O,EAAE0O,MAAME,EAAAA,KAAIpN,KAAK2G,oBAAoBnI,EAAE0O,eAAelN,KAAK2G,oBAAoBnI,EAAE0O,KAAK,MAAMlN,KAAK0G,eAAe1G,KAAK0K,oBAAoB1K,KAAK4G,oBAAoB5G,KAAK2G,sBAAqB,EAAG,CAACkB,YAAAA,CAAarJ,GAAG,GAAG,UAAUA,EAAEsN,QAAQ,MAAM9L,KAAKsB,iBAAiBqB,QAAQnE,EAAE0N,YAAY,OAAO,MAAM/M,GAAEmN,EAAAA,EAAAA,IAAGtM,KAAKgB,KAAKiG,MAAMwC,OAAOjL,EAAE0N,YAAYK,IAAIlF,EAAAA,EAAAA,GAAErH,KAAKsB,iBAAiBqB,MAAM3C,KAAKwG,aAAaxG,KAAKsH,WAAWkF,EAAGrN,EAAE,KAAKa,KAAK8F,iBAAiBuH,eAAerN,KAAKsB,iBAAiBqB,MAAM,CAACgF,wBAAAA,CAAyBnJ,GAAG,OAAO8O,EAAAA,EAAAA,IAAG9O,GAAG,CAACA,EAAEW,EAAEL,KAAK,MAAME,EAAEgB,KAAKsH,WAAW,GAAG,MAAMtI,GAAG,UAAUA,EAAE4B,KAAK,OAAO,MAAMhC,EAAE,MAAMoB,KAAKsB,iBAAiBqB,OAAM0E,EAAAA,EAAAA,GAAErH,KAAKsB,iBAAiBqB,OAAM8D,EAAAA,EAAAA,MAAK,KAAKtH,EAAEoO,MAAKC,EAAAA,EAAAA,IAAGxN,KAAKgB,KAAKhC,EAAEyO,aAAaF,KAAKvN,KAAK0N,4BAA4B1O,IAAIuO,KAAKvN,KAAK2N,sBAAsB3O,IAAIF,EAAEyO,MAAM,KAAK,MAAM3O,GAAGoB,KAAK4N,oBAAoBhP,EAAE,GAAG,GAAG,CAAC8O,2BAAAA,CAA4BlP,GAAG,OAAOW,IAAI,GAAG,MAAMa,KAAKsB,iBAAiBqB,MAAM,OAAO,KAAK,MAAa3D,EAAE6O,KAAKC,KAAK,EAAED,KAAKE,KAAIC,EAAAA,EAAAA,IAAE7B,EAAAA,EAAAA,GAAEnM,KAAKsB,iBAAiBqB,OAAOxD,EAAE8O,IAAInH,YAAWvC,EAAAA,EAAAA,GAAEpF,EAAE8O,IAAInH,aAAtF,KAAqG,GAAGlI,IAAGsP,EAAAA,EAAAA,IAAElO,KAAKwG,YAAY7D,MAAMxD,EAAEgP,WAAWrQ,IAAGoQ,EAAAA,EAAAA,IAAElO,KAAKwG,YAAY7D,MAAMnE,EAAE4P,YAAY,OAAO5P,EAAE6P,MAAM7P,EAAE6P,OAAO,EAAErP,GAAGJ,EAAEI,EAAElB,EAAEqB,CAAC,CAAC,CAACwO,qBAAAA,CAAsBnP,GAAG,MAAM,KAAK,GAAG,MAAMwB,KAAKsB,iBAAiBqB,MAAM,OAAO,MAAMxD,GAAE0F,EAAAA,EAAAA,GAAEyJ,EAAAA,GAAE5L,MAAM1C,KAAKwG,YAAYiG,QAAQ3N,GAAE+F,EAAAA,EAAAA,GAAEyJ,EAAAA,GAAE5L,OAAMyJ,EAAAA,EAAAA,GAAEnM,KAAKwG,eAAcvE,EAAAA,EAAAA,GAAEnD,EAAEA,GAAGN,EAAE6P,QAAOtJ,EAAAA,EAAAA,GAAEjG,EAAEA,EAAEK,GAAG,MAAMH,GAAEuP,EAAAA,EAAAA,GAAEzP,EAAEkB,KAAKsB,iBAAiBqB,MAAM6L,OAAOxO,KAAKsB,iBAAiBqB,MAAM8L,QAAOhI,EAAAA,EAAAA,MAAKzG,KAAK4N,oBAAoB5O,EAAE,CAAC,CAAC2J,oBAAAA,CAAqBnK,GAAG,GAAG,UAAUA,EAAEsN,QAAQ,MAAM9L,KAAKsB,iBAAiBqB,QAAQnE,EAAE0N,YAAY,OAAO,MAAM/M,GAAEuP,EAAAA,EAAAA,IAAG1O,KAAKsB,iBAAiBqB,MAAM3C,KAAKgB,KAAK2N,mBAAmBC,EAAAA,GAAGC,SAAQC,EAAAA,EAAAA,OAAKhQ,GAAEwN,EAAAA,EAAAA,IAAGtM,KAAKgB,KAAKiG,MAAMwC,OAAOjL,EAAE0N,YAAYK,GAAIvN,GAAE+P,EAAAA,EAAAA,OAAIC,EAAAA,EAAAA,IAAE7P,EAAEL,EAAEE,MAAKqI,EAAAA,EAAAA,GAAErH,KAAKsB,iBAAiBqB,MAAM3C,KAAKwG,aAAaxG,KAAKsH,WAAW,CAAC1G,KAAK,SAASqO,YAAY9P,EAAEiP,WAAWpP,GAAG,CAAC0J,gCAAAA,CAAiClK,GAAG,OAAO8O,EAAAA,EAAAA,IAAG9O,GAAG,CAACA,EAAEW,EAAEL,KAAK,MAAME,EAAEgB,KAAKsH,WAAW,GAAG,MAAMtI,GAAG,WAAWA,EAAE4B,KAAK,OAAO,MAAMhC,EAAE,MAAMoB,KAAKsB,iBAAiBqB,OAAM0E,EAAAA,EAAAA,GAAErH,KAAKsB,iBAAiBqB,OAAM8D,EAAAA,EAAAA,MAAK,KAAKtH,EAAEoO,MAAKC,EAAAA,EAAAA,IAAGxN,KAAKgB,KAAKhC,EAAEiQ,cAAc1B,KAAKvN,KAAKkP,+BAA+BlQ,IAAIuO,KAAKvN,KAAKmP,oCAAoCrQ,EAAEyO,MAAM,KAAK,MAAM3O,GAAGoB,KAAK4N,oBAAoBhP,EAAE,GAAG,GAAG,CAACkK,iBAAAA,CAAkBtK,GAAG,GAAG,UAAUA,EAAEsN,QAAQ,MAAM9L,KAAKsB,iBAAiBqB,QAAQnE,EAAE0N,YAAY,OAAO,MAAM/M,GAAEuP,EAAAA,EAAAA,IAAG1O,KAAKsB,iBAAiBqB,MAAM3C,KAAKgB,KAAK2N,mBAAmBC,EAAAA,GAAGQ,MAAKN,EAAAA,EAAAA,OAAKhQ,GAAEwN,EAAAA,EAAAA,IAAGtM,KAAKgB,KAAKiG,MAAMwC,OAAOjL,EAAE0N,YAAYK,GAAIvN,GAAE+P,EAAAA,EAAAA,OAAIC,EAAAA,EAAAA,IAAE7P,EAAEL,EAAEE,MAAKqI,EAAAA,EAAAA,GAAErH,KAAKsB,iBAAiBqB,MAAM3C,KAAKwG,aAAaxG,KAAKsH,WAAW,CAAC1G,KAAK,SAASqO,YAAY9P,EAAEiP,WAAWpP,GAAG,CAAC6J,6BAAAA,CAA8BrK,GAAG,OAAO8O,EAAAA,EAAAA,IAAG9O,GAAG,CAACA,EAAEW,EAAEL,KAAK,MAAME,EAAEgB,KAAKsH,WAAW,GAAG,MAAMtI,GAAG,WAAWA,EAAE4B,KAAK,OAAO,MAAMhC,EAAE,MAAMoB,KAAKsB,iBAAiBqB,OAAM0E,EAAAA,EAAAA,GAAErH,KAAKsB,iBAAiBqB,OAAM8D,EAAAA,EAAAA,MAAK,KAAKtH,EAAEoO,MAAKC,EAAAA,EAAAA,IAAGxN,KAAKgB,KAAKhC,EAAEiQ,cAAc1B,KAAKvN,KAAKkP,+BAA+BlQ,IAAIuO,KAAKvN,KAAKmP,oCAAoCrQ,EAAEyO,MAAM,KAAK,MAAM3O,GAAGoB,KAAK4N,oBAAoBhP,EAAE,GAAG,GAAG,CAACsQ,8BAAAA,CAA+B1Q,GAAG,OAAOW,IAAI,GAAG,MAAMa,KAAKsB,iBAAiBqB,MAAM,OAAO,KAAK,MAAM7D,GAAEuQ,EAAAA,EAAAA,IAAE7Q,EAAEyQ,aAAajQ,GAAEsQ,EAAAA,EAAAA,IAAG9Q,EAAE4P,WAAWjP,EAAEgP,UAAUnO,KAAKsB,iBAAiBqB,MAAM8J,OAAO3N,GAAG,MAAM,IAAIK,EAAEoQ,WAAWzQ,EAAE0Q,YAAYxQ,EAAE,CAAC,CAACmQ,gCAAAA,GAAmC,OAAO3Q,IAAI,GAAG,MAAMwB,KAAKsB,iBAAiBqB,MAAM,OAAO,MAAMxD,GAAET,EAAAA,EAAAA,IAAE+Q,EAAAA,GAAE/M,MAAMlE,EAAEgR,YAAYhR,EAAE+Q,YAAY,GAAG,MAAMpQ,EAAE,OAAO,MAAML,GAAEM,EAAAA,EAAAA,GAAEkP,EAAAA,GAAE5L,MAAM1C,KAAKwG,YAAYgI,OAAOrP,GAAGH,GAAEI,EAAAA,EAAAA,GAAEkP,EAAAA,GAAE5L,MAAM1C,KAAKwG,YAAYiI,OAAOtP,GAAGP,GAAE2P,EAAAA,EAAAA,GAAEvO,KAAKsB,iBAAiBqB,MAAM8J,OAAO3N,EAAEE,GAAEyH,EAAAA,EAAAA,MAAKzG,KAAK4N,oBAAoBhP,EAAE,CAAC,CAACsK,aAAAA,CAAc1K,EAAEW,GAAG,GAAG,UAAUX,EAAEsN,QAAQ,MAAM9L,KAAKsB,iBAAiBqB,QAAQnE,EAAE0N,YAAY,OAAO,MAAMpN,GAAEwN,EAAAA,EAAAA,IAAGtM,KAAKgB,KAAKiG,MAAMwC,OAAOjL,EAAE0N,YAAYK,GAAIvN,EAAEsP,EAAAA,GAAE5L,OAAMsM,EAAAA,EAAAA,IAAEhP,KAAKsB,iBAAiBqB,MAAMA,MAAM7D,EAAEE,MAAKqI,EAAAA,EAAAA,GAAErH,KAAKsB,iBAAiBqB,MAAM3C,KAAKwG,aAAaxG,KAAKsH,WAAW,CAAC1G,KAAK,SAAS8O,gBAAgBvQ,EAAEiP,YAAWuB,EAAAA,EAAAA,IAAE3Q,IAAI,CAACiK,yBAAAA,CAA0BzK,GAAG,OAAO8O,EAAAA,EAAAA,IAAG9O,GAAG,CAACA,EAAEW,EAAEL,KAAK,MAAME,EAAEgB,KAAKsH,WAAW,GAAG,MAAMtI,GAAG,WAAWA,EAAE4B,MAAM,MAAMZ,KAAKsB,iBAAiBqB,MAAM,OAAO,MAAM/D,GAAEyI,EAAAA,EAAAA,GAAErH,KAAKsB,iBAAiBqB,OAAM8D,EAAAA,EAAAA,MAAKtH,EAAEoO,MAAKC,EAAAA,EAAAA,IAAGxN,KAAKgB,KAAKhB,KAAKsB,iBAAiBqB,MAAMA,QAAQ4K,KAAKvN,KAAK4P,uBAAuB5Q,IAAIF,EAAEyO,MAAM,KAAKvN,KAAK4N,oBAAoBhP,EAAE,GAAG,GAAG,CAACgR,sBAAAA,CAAuBpR,GAAG,OAAOW,IAAI,GAAG,MAAMa,KAAKsB,iBAAiBqB,MAAM,OAAO,MAAM7D,EAAEkB,KAAK6G,eAAerI,EAAEkR,iBAAiB1Q,GAAE6Q,EAAAA,EAAAA,IAAG/Q,EAAEN,EAAE4P,WAAWjP,EAAEgP,UAAUnO,KAAKgB,KAAKiG,MAAMwC,OAAOzJ,KAAKwG,aAAYa,EAAAA,EAAAA,GAAErH,KAAKsB,iBAAiBqB,QAAQ3C,KAAK4N,oBAAoB5O,EAAE,CAAC,CAAC4O,mBAAAA,CAAoBpP,GAAG,MAAMW,EAAEa,KAAKsB,iBAAiB,GAAG,MAAMnC,EAAE,MAAM,IAAIoE,MAAM,kCAAkCpE,EAAEwD,MAAMnE,CAAC,CAACkM,mBAAAA,CAAoBlM,GAAO,IAALW,EAACnB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,CAAC,EAAOc,EAAEkB,KAAK0G,cAAc,GAAG1G,KAAK0G,cAAc,KAAK,MAAMlI,EAAE,OAAOwB,KAAK2J,wBAAwB3J,KAAKuJ,sBAAsB,IAAIvJ,KAAKsB,iBAAiBqB,OAAO3C,KAAKmB,OAAO,CAAC,MAAMnC,EAAE,MAAMF,EAAEA,GAAE2H,EAAAA,EAAAA,KAAI,GAAG3H,EAAE,MAAMA,GAAEuI,EAAAA,EAAAA,GAAEvI,EAAEgR,GAAI,KAAK9P,KAAKqM,WAAW7N,GAAE,EAAGW,EAAEH,GAAG,CAAC,MAAMR,EAAEuR,EAAAA,GAAE,IAAI5Q,GAAE,EAAG,MAAML,IAAIK,GAAE6O,EAAAA,EAAAA,IAAEqB,EAAAA,EAAAA,IAAEvQ,EAAE6D,QAAO0M,EAAAA,EAAAA,IAAErQ,EAAE2D,QAAQnE,IAAGwP,EAAAA,EAAAA,IAAEgC,EAAAA,EAAAA,GAAE1B,EAAAA,GAAE5L,MAAM5D,EAAE0P,SAAQwB,EAAAA,EAAAA,GAAE1B,EAAAA,GAAE5L,MAAM1D,EAAEwP,SAAShQ,GAAGW,IAAIa,KAAK2F,qBAAqB,GAAG3F,KAAK0G,cAAc1H,CAAC,CAAC,CAAC,MAAMgB,KAAK0G,eAAe,MAAM1G,KAAKkG,YAAY,IAAIlG,KAAK2F,qBAAqB3F,KAAKkG,YAAWhH,EAAAA,EAAAA,cAAE,CAAC+Q,OAAO/L,IAAiB,IAAfgM,UAAU1R,GAAE0F,EAAIlE,KAAK2F,qBAAqBkI,KAAKC,IAAI9N,KAAK2F,qBAAqBnH,GAAG,IAAI2R,EAAAA,IAAG,GAAGnQ,KAAKuJ,sBAAsB,IAAIvJ,KAAK2F,sBAAsB3F,KAAK2J,kBAAkB,IAAI,MAAM3J,KAAK0G,eAAe,MAAM1G,KAAKkG,WAAWlG,KAAK2J,mBAAmB,MAAM3J,KAAK0G,eAAe1G,KAAKuJ,qBAAqB,CAACI,gBAAAA,GAAmB3J,KAAKkG,YAAWtH,EAAAA,EAAAA,IAAEoB,KAAKkG,WAAW,CAACkK,cAAAA,CAAe5R,GAAG,MAAMW,GAAEpB,EAAAA,EAAAA,IAAES,EAAEmF,EAAAA,GAAEjB,OAAO,OAAO1C,KAAKgB,KAAKqP,wBAAwBC,+BAA+BnR,EAAEa,KAAK+G,cAAc/G,KAAK+G,aAAa+F,QAAQgB,GAAG,CAACzB,UAAAA,CAAW7N,EAAEW,EAAEL,EAAEE,GAAG,MAAMJ,EAAEoB,KAAKoQ,eAAe5R,GAAGV,EAAEwQ,EAAAA,GAAE5L,MAAM,IAAI9D,EAAE2R,qBAAqBzS,GAAG,OAAM,EAAG,MAAM8B,EAAEhB,EAAE4R,qBAAqBlC,EAAAA,GAAE5L,OAAOrD,EAAEW,KAAKgB,KAAKiG,MAAMwC,QAAOuE,EAAAA,EAAAA,GAAEpO,EAAEP,EAAEoR,aAAa,IAAGxO,EAAAA,EAAAA,GAAErC,EAAEA,GAAG,GAAG,MAAMV,GAAEwR,EAAAA,EAAAA,IAAG5S,EAAEuB,GAAG2E,GAAG7E,EAAE,GAAG,GAAGD,EAAEyR,EAAAA,GAAG5S,GAAEkE,EAAAA,EAAAA,GAAEqM,EAAAA,GAAE5L,MAAM9C,EAAEoE,IAAGe,EAAAA,EAAAA,GAAEhH,EAAEA,EAAED,GAAG,MAAMM,EAAE4B,KAAKqB,SAASmD,YAAYoM,EAAAA,GAAGC,OAAOD,EAAAA,GAAGE,uBAAuB5P,EAAEpC,EAAEqO,EAAAA,IAAGyD,EAAAA,GAAGG,SAASjS,EAAEsO,EAAAA,IAAGwD,EAAAA,GAAGI,WAAW5S,EAAE,OAAO6S,EAAAA,EAAAA,IAAGlT,EAAE6B,EAAEV,EAAEA,EAAEG,EAAE6B,EAAElB,KAAKgB,KAAK2N,mBAAmB3P,IAAG,CAAE,CAAC4K,wBAAAA,GAA2B5J,KAAKqG,yBAAwBzH,EAAAA,EAAAA,IAAEoB,KAAKqG,wBAAwB,CAAC+F,wBAAAA,GAA2BpM,KAAK4J,2BAA2B5J,KAAK8F,iBAAiBmB,OAAOiK,EAAAA,GAAGlR,KAAK+F,yBAAyBkB,OAAOiK,EAAAA,GAAGlR,KAAKgG,sBAAsBiB,OAAOiK,EAAAA,GAAGlR,KAAKqG,wBAAwBrG,KAAK0F,OAAOyL,YAAY,KAAKnR,KAAK8F,iBAAiBmB,QAAQiK,EAAAA,GAAGlR,KAAK+F,yBAAyBkB,QAAQiK,EAAAA,GAAGlR,KAAKgG,sBAAsBiB,QAAQiK,EAAAA,EAAE,GAAGlR,KAAKmG,oBAAoB,CAACoD,mBAAAA,GAAsB,GAAGhE,EAAG6L,oBAAoB,OAAO,IAAI5S,EAAEW,GAAE,EAAG,GAAG,MAAMa,KAAKsB,iBAAiBqB,MAAMnE,EAAEwB,KAAKsB,iBAAiBqB,MAAMxD,GAAE,MAAO,CAAC,GAAG,MAAMa,KAAK0G,cAAc,OAAO1G,KAAK8F,iBAAiBuL,WAAU,EAAGrR,KAAK+F,yBAAyBsL,WAAU,EAAGrR,KAAKgG,sBAAsBqL,WAAU,EAAGrR,KAAKiG,mBAAmBzG,SAAShB,GAAGA,EAAE6S,WAAU,IAAKrR,KAAKuG,kCAAkCjG,SAAQ,OAAQN,KAAKsG,+BAA+BhG,SAAQ,GAAI9B,EAAEwB,KAAK0G,cAAcvH,GAAE,CAAE,CAAC,MAAML,GAAEwS,EAAAA,EAAAA,IAAG9S,EAAEiR,EAAAA,GAAE/M,OAAOvD,GAAGa,KAAK8F,iBAAiBuL,WAAU,EAAGrR,KAAK+F,yBAAyBsL,WAAU,EAAGrR,KAAKgG,sBAAsBqL,WAAU,EAAGrR,KAAKiG,mBAAmBzG,SAAShB,GAAGA,EAAE6S,WAAU,IAAKrR,KAAKuG,kCAAkCgL,UAAS,EAAGvR,KAAKsG,+BAA+BiL,UAAS,EAAGvR,KAAKuG,kCAAkCjG,SAAQ,EAAGN,KAAKsG,+BAA+BhG,SAAQ,IAAKN,KAAK8F,iBAAiBuL,WAAU,EAAGrR,KAAK+F,yBAAyBsL,WAAU,EAAGrR,KAAKgG,sBAAsBqL,UAAUrR,KAAKqB,SAASmD,YAAYxE,KAAKiG,mBAAmBzG,SAAShB,GAAGA,EAAE6S,WAAU,KAAKG,EAAAA,EAAAA,IAAGxR,KAAK8F,iBAAiBhH,EAAEN,EAAEwB,KAAKgB,KAAKiG,MAAMwC,SAAQgI,EAAAA,EAAAA,IAAGzR,KAAK+F,yBAAyBjH,EAAEN,EAAEwB,KAAKgB,KAAK2N,qBAAoB+C,EAAAA,EAAAA,IAAG1R,KAAKgG,sBAAsBlH,EAAEN,GAAGwB,KAAKiG,mBAAmBzG,SAAS,CAACL,EAAEH,KAAI2S,EAAAA,EAAAA,IAAGxS,EAAEa,KAAK6G,eAAe7H,GAAGF,EAAEN,KAAKwB,KAAKuG,kCAAkCjG,SAAQ,EAAGN,KAAKsG,+BAA+BhG,SAAQ,GAAI,MAAMtB,GAAE4S,EAAAA,EAAAA,GAAEtD,EAAAA,GAAE5L,OAAM6B,EAAAA,EAAAA,GAAE/F,EAAEgQ,SAAQjK,EAAAA,EAAAA,GAAE/F,EAAEiQ,QAAQ,GAAG7P,GAAEkG,EAAAA,EAAAA,IAAE2K,EAAAA,GAAE/M,MAAM1D,GAAGlB,GAAEsD,EAAAA,EAAAA,IAAExC,EAAEE,EAAEF,GAAGoB,KAAKuG,kCAAkCsL,UAAU/T,EAAEkC,KAAKsG,+BAA+BuL,UAAU/T,EAAEkC,KAAKqK,kBAAkB,CAACA,gBAAAA,GAAmB,MAAM7L,GAAEsT,EAAAA,EAAAA,IAAE9R,KAAKgB,KAAK+Q,gBAAgBvT,EAAE,IAAIwB,KAAK2F,qBAAqB,MAAMxG,GAAE6S,EAAAA,EAAAA,IAAEC,EAAAA,IAAG9S,EAAE,IAAIa,KAAK2F,qBAAqB3F,KAAKuG,kCAAkC2L,MAAM1T,EAAEwB,KAAKsG,+BAA+B6L,gBAAgBhT,EAAEa,KAAKsG,+BAA+B8L,UAAUC,EAAAA,EAAC,CAAClL,8BAAAA,CAA+B3I,GAAG,IAAIA,EAAE4I,SAAS,OAAOpH,KAAK8F,iBAAiB1F,aAAY,EAAGJ,KAAK+F,yBAAyB3F,aAAY,EAAGJ,KAAKgG,sBAAsB5F,aAAY,OAAQJ,KAAKiG,mBAAmBzG,SAAShB,IAAIA,EAAE4B,aAAY,CAAE,IAAIJ,KAAK8F,iBAAiB1F,YAAYJ,KAAK8F,mBAAmBtH,EAAEwB,KAAK+F,yBAAyB3F,YAAYJ,KAAK+F,2BAA2BvH,EAAEwB,KAAKgG,sBAAsB5F,YAAYJ,KAAKgG,wBAAwBxH,EAAEwB,KAAKiG,mBAAmBzG,SAASL,IAAIA,EAAEiB,YAAYjB,IAAIX,CAAC,GAAG,CAAC,QAAI8T,GAAO,MAAM,CAAC3P,MAAM3C,KAAKsB,iBAAiBqB,MAAM4P,sBAAsB/T,IAAIwB,KAAKmG,oBAAoB3H,CAAC,EAAE,GAAGgH,EAAG4L,qBAAoB,GAAG5S,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAKoH,EAAG7E,UAAU,cAAS,IAAQnC,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,IAAE,CAACsC,eAAc,KAAM8E,EAAG7E,UAAU,YAAO,IAAQnC,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAKoH,EAAG7E,UAAU,wBAAmB,IAAQnC,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,IAAE,CAAC0C,UAAS,KAAM0E,EAAG7E,UAAU,QAAQ,OAAMnC,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,IAAE,CAAC0C,UAAS,KAAM0E,EAAG7E,UAAU,SAAS,OAAMnC,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAKoH,EAAG7E,UAAU,WAAW,OAAMnC,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAKoH,EAAG7E,UAAU,gCAA2B,IAAQnC,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAKoH,EAAG7E,UAAU,mBAAc,IAAQnC,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAKoH,EAAG7E,UAAU,aAAa,OAAMnC,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,IAAE,CAACoU,MAAM,QAAQhN,EAAG7E,UAAU,aAAa,OAAMnC,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAKoH,EAAG7E,UAAU,uBAAuB,OAAMnC,EAAAA,EAAAA,GAAE,EAACJ,EAAAA,EAAAA,OAAKoH,EAAG7E,UAAU,qBAAqB,MAAM6E,EAAGD,GAAG/G,EAAAA,EAAAA,GAAE,EAAC0C,EAAAA,EAAAA,GAAE,2CAA2CsE,GAAI,MAAMiN,EAAGjN,EAAG,SAASgH,EAAGhO,EAAEW,EAAEL,EAAEE,GAAG,MAAMJ,GAAE8T,EAAAA,EAAAA,IAAG5T,GAAEqN,EAAAA,EAAAA,GAAEnN,GAAGR,EAAEsI,WAAUgI,EAAAA,EAAAA,OAAKhR,GAAEiR,EAAAA,EAAAA,MAAI,OAAOC,EAAAA,EAAAA,IAAEpQ,EAAEJ,EAAEV,GAAG,CAAC8C,KAAK,QAAQ0J,kBAAkBnL,EAAE4M,gBAAe,EAAG0B,WAAW7O,EAAEyP,MAAM,EAAED,WAAWtQ,GAAG,IAAI,CAAC,SAASiN,EAAGvM,GAAG,MAAM,UAAUA,EAAEwN,aAAa,IAAIxN,EAAEmU,MAAM,CAAC,MAAM7C,GAAGrJ,EAAAA,EAAAA,KAAI8F,GAAGqG,EAAAA,EAAAA,M,eCAzjkB,IAAI7D,EAAE,cAAc5P,EAAAA,QAAEW,WAAAA,CAAYhB,GAAGiB,MAAMjB,GAAGkB,KAAK6S,mBAAmB,KAAK7S,KAAK8S,sBAAsB,KAAK9S,KAAKoK,UAAS,EAAGpK,KAAK+S,SAAQ,CAAE,CAACnR,UAAAA,GAAa,MAAM9C,EAAEkB,KAAKsB,iBAAiB,GAAG,MAAMxC,EAAE,MAAM,IAAIyE,MAAM,wCAAwCvD,KAAK6S,oBAAmB/N,EAAAA,EAAAA,IAAE9E,KAAKgB,MAAMhB,KAAK8S,uBAAsB1T,EAAAA,EAAAA,IAAEY,KAAKgB,MAAMhB,KAAK6B,WAAW,EAACjD,EAAAA,EAAAA,QAAG,KAAK,MAAMO,EAAE,MAAML,EAAE6D,OAAO3C,KAAKsB,iBAAiBhB,SAASa,OAAO3C,GAAGwB,KAAKsB,kBAAkByR,QAAQnU,EAAEwL,SAASlL,EAAE8B,KAAKpB,GAAGI,MAAM+R,eAAe1S,GAAGO,EAAE,MAAM,CAACU,QAAQnB,EAAEgC,OAAO3C,EAAEuU,QAAQnU,EAAEwL,SAASlL,EAAEkT,WAAU1T,EAAAA,EAAAA,IAAEW,GAAG2T,cAAa5R,EAAAA,EAAAA,IAAE/B,GAAG,IAAIP,GAAGkB,KAAKqK,iBAAiBvL,IAAII,EAAAA,iBAAGN,EAAAA,EAAAA,QAAG,IAAIE,EAAE6D,QAAQ7D,GAAGkB,KAAKiT,aAAanU,IAAII,EAAAA,iBAAI,WAAW,CAACmE,OAAAA,GAAUrD,KAAK6S,oBAAmBrU,EAAAA,EAAAA,IAAEwB,KAAK6S,oBAAoB7S,KAAK8S,uBAAsBtU,EAAAA,EAAAA,IAAEwB,KAAK8S,uBAAuB9S,KAAKuC,IAAI,OAAO,KAAK,CAAC0Q,YAAAA,CAAanU,GAAG,GAAG,MAAMA,EAAE,OAAOkB,KAAK6S,mBAAmBtB,UAAS,EAAGvR,KAAK8S,sBAAsBvB,UAAS,EAAG,MAAMpS,GAAE0F,EAAAA,EAAAA,GAAE3D,EAAAA,GAAEwB,OAAMtE,EAAAA,EAAAA,GAAEU,EAAE0P,SAAQpQ,EAAAA,EAAAA,GAAEU,EAAE2P,QAAQ,GAAGjQ,GAAEQ,EAAAA,EAAAA,IAAEgF,EAAAA,GAAEtB,MAAMvD,GAAGP,GAAEyT,EAAAA,EAAAA,IAAEvT,EAAEkF,EAAAA,GAAEtB,OAAOxD,GAAEpB,EAAAA,EAAAA,IAAEU,EAAEI,EAAEJ,GAAGwB,KAAK8S,sBAAsBjB,UAAU3S,EAAEc,KAAK6S,mBAAmBhB,UAAU3S,CAAC,CAACmL,gBAAAA,CAAgBnG,GAAsE,IAApE5D,QAAQxB,EAAEqC,OAAOhC,EAAE4T,QAAQvU,EAAE4L,SAASxL,EAAEwT,UAAUlT,EAAE8T,aAAapT,GAAEsE,EAAElE,KAAK8S,sBAAsBZ,MAAMtS,EAAEI,KAAK8S,sBAAsBnO,MAAMnG,EAAEyD,EAAAA,GAAE0N,EAAAA,GAAE3P,KAAK8S,sBAAsBI,eAAe/T,EAAE,MAAKoP,EAAAA,EAAAA,IAAE,GAAGvO,KAAK6S,mBAAmBV,gBAAgBpN,EAAAA,GAAE/E,KAAK6S,mBAAmBT,UAAUxT,EAAEM,EAAEnB,EAAAA,GAAEiC,KAAK6S,mBAAmBvS,QAAQxB,EAAEkB,KAAK8S,sBAAsBxS,QAAQxB,CAAC,IAAGA,EAAAA,EAAAA,GAAE,EAACc,EAAAA,EAAAA,OAAKmP,EAAEpO,UAAU,YAAO,IAAQ7B,EAAAA,EAAAA,GAAE,EAACc,EAAAA,EAAAA,OAAKmP,EAAEpO,UAAU,gBAAW,IAAQ7B,EAAAA,EAAAA,GAAE,EAACc,EAAAA,EAAAA,OAAKmP,EAAEpO,UAAU,wBAAmB,IAAQ7B,EAAAA,EAAAA,GAAE,EAACc,EAAAA,EAAAA,OAAKmP,EAAEpO,UAAU,gBAAW,IAAQ7B,EAAAA,EAAAA,GAAE,EAACc,EAAAA,EAAAA,OAAKmP,EAAEpO,UAAU,eAAU,GAAQoO,GAAEjQ,EAAAA,EAAAA,GAAE,EAACO,EAAAA,EAAAA,GAAE,oDAAoD0P,G,gBCAxoE,IAAI/K,GAAE,eAAc3E,EAAAA,EAAAA,GAAEP,EAAAA,UAAIgB,WAAAA,CAAYlB,GAAGmB,MAAMnB,GAAGoB,KAAKY,KAAK,gBAAgBZ,KAAKqB,SAAS,KAAKrB,KAAKe,KAAK,KAAKf,KAAKmT,sBAAsB,KAAKnT,KAAKoT,mBAAmB,KAAKpT,KAAK2C,MAAM,KAAK3C,KAAKmB,QAAO,CAAE,CAACS,UAAAA,GAAa5B,KAAKmT,sBAAsB,IAAIrV,EAAE,CAACkD,KAAKhB,KAAKgB,KAAKK,SAASrB,KAAKqB,SAASC,iBAAiBtB,OAAOA,KAAKoT,mBAAmB,IAAIjU,EAAE,CAAC6B,KAAKhB,KAAKgB,KAAKK,SAASrB,KAAKqB,SAASC,iBAAiBtB,OAAOA,KAAK6B,YAAW9D,EAAAA,GAAAA,IAAEiC,KAAKJ,GAAG,CAACyD,OAAAA,IAAUkB,EAAAA,GAAAA,IAAEvE,MAAMA,KAAKmT,uBAAsB3U,EAAAA,EAAAA,IAAEwB,KAAKmT,uBAAuBnT,KAAKoT,oBAAmB5U,EAAAA,EAAAA,IAAEwB,KAAKoT,mBAAmB,CAAC,YAAIhJ,GAAW,OAAOpK,KAAKmT,uBAAuB/I,WAAU,CAAE,CAAC,YAAIA,CAASxL,GAAGoB,KAAKmT,wBAAwBnT,KAAKmT,sBAAsB/I,SAASxL,EAAE,CAAC,YAAI6M,GAAW,OAAOzL,KAAKmT,sBAAsBJ,OAAO,CAAC,YAAItH,CAAS7M,GAAGoB,KAAKmT,sBAAsBJ,SAASnU,CAAC,CAAC,YAAIyU,GAAW,IAAGzU,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,IAAE,CAAC8B,UAAS,KAAMkD,GAAErD,UAAU,YAAO,IAAQ/B,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,IAAE,CAAC0B,eAAc,EAAG4S,aAAY,KAAMtP,GAAErD,UAAU,gBAAW,IAAQ/B,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,OAAKgF,GAAErD,UAAU,YAAO,IAAQ/B,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,OAAKgF,GAAErD,UAAU,aAAQ,IAAQ/B,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,OAAKgF,GAAErD,UAAU,cAAS,IAAQ/B,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,OAAKgF,GAAErD,UAAU,WAAW,OAAM/B,EAAAA,EAAAA,GAAE,EAACI,EAAAA,EAAAA,OAAKgF,GAAErD,UAAU,WAAW,MAAMqD,IAAEpF,EAAAA,EAAAA,GAAE,EAACM,EAAAA,EAAAA,GAAE,+CAA+C8E,IAAG,MAAM9C,GAAE8C,E,+MCA/lB,MAAM5F,UAAU8C,EAAAA,GAAG,SAASe,EAAEf,GAAG,MAAM9C,EAAE,IAAIL,EAAAA,IAAGwV,OAAOtR,EAAEuR,SAASzE,GAAG3Q,GAAGqV,OAAOrU,EAAEsU,yBAAyB1P,GAAG9C,EAAE,OAAOlC,EAAAA,EAAAA,IAAEiD,EAAEf,GAAG9C,EAAEuV,QAAQ7U,EAAAA,EAAEoC,GAAG9C,EAAEuV,QAAQ/U,EAAAA,EAAEsC,GAAG9C,EAAEoV,SAASG,QAAQ/T,EAAAA,GAAEsB,GAAG9C,EAAEuV,QAAQzU,EAAAA,EAAEgC,GAAG9C,EAAEuV,QAAQvS,EAAAA,EAAEF,GAAG9C,EAAEwV,WAAWpS,IAAIqD,EAAAA,EAAEgP,SAAS,QAAQzV,EAAEwV,WAAWpS,IAAIqD,EAAAA,EAAEiP,IAAI,QAAQ9P,GAAG5F,EAAEwV,WAAWpS,IAAIqD,EAAAA,EAAEkP,kBAAkB,SAAS9R,EAAE+R,KAAKxS,IAAI9C,EAAAA,CAAC;;;;;OAKjnDZ,EAAAA,EAAAA,IAAEkG,EAAE,wCAAwC5F,EAAE6V,SAASzS,IAAI,OAAO,QAAQpD,EAAE6V,SAASzS,IAAI,YAAY,QAAQuN,EAAE4E,QAAQnV,EAAAA,GAAGuQ,EAAEmF,SAAS1S,IAAI,IAAInC,EAAAA,EAAE,WAAWF,GAAGA,EAAEgV,UAAU,IAAIpP,EAAAA,EAAE,OAAO5F,GAAGA,EAAEiV,WAAWJ,KAAKxS,IAAI9C,EAAAA,CAAC;;;OAGhNZ,EAAAA,EAAAA,IAAEsB,IAAID,EAAAA,EAAEkV,sBAAsB;;iDAEajW,CAAC,CAAC,MAAM2Q,EAAEuF,OAAOC,OAAOD,OAAOE,eAAe,CAACC,UAAU,KAAKC,4BAA4BtW,EAAEuW,MAAM1S,GAAG2S,OAAOC,YAAY,CAACrC,MAAM,W,wPCVuoB,MAAMzD,UAAUnP,EAAAA,EAAEE,WAAAA,CAAYX,EAAES,GAAGG,MAAMZ,EAAES,EAAE,IAAIpB,EAAAA,EAAEE,EAAAA,GAAG,IAAI,mCAAoC6P,EAAE,CAACuG,iBAAAA,CAAkBtW,EAAEoB,GAAG,MAAMmV,QAAQlQ,EAAE4O,OAAO/U,EAAEsW,aAAajG,EAAEkG,aAAa1G,EAAE2G,SAAStC,GAAGpU,EAAE6I,EAAExC,IAAI/F,EAAAA,EAAEqW,KAAK9F,EAAExK,IAAI/F,EAAAA,EAAEsW,UAAU,OAAOpR,EAAAA,EAAAA,IAAE,CAACqR,UAASlW,EAAAA,EAAAA,IAAET,GAAG2I,EAAEjI,EAAAA,IAAEC,EAAAA,EAAAA,IAAEwF,GAAG,KAAKyQ,SAAQvQ,EAAAA,EAAAA,IAAE6N,GAAG2C,UAAU,CAACC,MAAK5W,EAAAA,EAAAA,IAAEiG,IAAI4Q,YAAW3X,EAAAA,EAAAA,IAAEU,GAAGkX,aAAYxW,EAAAA,EAAAA,IAAE2F,EAAEnG,GAAGiX,WAAW3H,EAAAA,GAAE4H,aAAa7G,EAAEhR,EAAAA,GAAE,KAAK8X,YAAY9G,EAAEnP,EAAEsB,EAAAA,GAAE9C,EAAAA,GAAE,KAAK0X,cAAczO,GAAGgI,EAAE,MAAKrQ,EAAAA,EAAAA,IAAEuP,IAAI,CAACwH,kBAAAA,CAAmB5W,GAAG,OAAOa,KAAKgW,kBAAkBhW,KAAK8U,kBAAkB3V,GAAE,GAAIa,KAAK8U,kBAAkB3V,GAAE,EAAG,CAAC8W,WAAAA,CAAY9W,GAAG,OAAOA,EAAEa,KAAKgW,kBAAkBjW,MAAMkW,aAAa,EAAE,MAAM1H,EAAE,IAAIjJ,IAAI,CAAC,CAACT,EAAAA,EAAEgP,SAAS,GAAG,CAAChP,EAAAA,EAAEiP,IAAI,GAAG,CAACjP,EAAAA,EAAEkP,kBAAkB,K,0DCA7+B,MAAM/U,UAAUJ,EAAAA,EAAEkB,WAAAA,GAAcC,SAAS/B,WAAWgC,KAAKkV,SAASpW,EAAAA,GAAEoX,KAAKlW,KAAKiV,cAAa,EAAGjV,KAAKmW,YAAW,EAAGnW,KAAKgV,cAAa,EAAGhV,KAAKoW,kBAAiB,EAAGpW,KAAKqW,kBAAiB,EAAGrW,KAAK0T,0BAAyB,EAAG1T,KAAKsW,sBAAsB9X,EAAAA,EAAE0X,KAAKlW,KAAKuW,eAAerX,EAAAA,GAAEgX,KAAKlW,KAAKwW,2BAA0B,EAAGxW,KAAKyW,eAAc,EAAGzW,KAAK0W,gCAA+B,CAAE,GAAEvX,EAAAA,EAAAA,GAAE,EAACS,EAAAA,EAAAA,GAAE,CAAC+W,MAAM7X,EAAAA,GAAE8X,SAAS5X,EAAE2B,UAAU,gBAAW,IAAQxB,EAAAA,EAAAA,GAAE,EAACS,EAAAA,EAAAA,MAAKZ,EAAE2B,UAAU,oBAAe,IAAQxB,EAAAA,EAAAA,GAAE,EAACS,EAAAA,EAAAA,MAAKZ,EAAE2B,UAAU,kBAAa,IAAQxB,EAAAA,EAAAA,GAAE,EAACS,EAAAA,EAAAA,MAAKZ,EAAE2B,UAAU,oBAAe,IAAQxB,EAAAA,EAAAA,GAAE,EAACS,EAAAA,EAAAA,MAAKZ,EAAE2B,UAAU,wBAAmB,IAAQxB,EAAAA,EAAAA,GAAE,EAACS,EAAAA,EAAAA,MAAKZ,EAAE2B,UAAU,wBAAmB,IAAQxB,EAAAA,EAAAA,GAAE,EAACS,EAAAA,EAAAA,MAAKZ,EAAE2B,UAAU,gCAA2B,GCAlH,MAAMiS,UAAU5O,EAAAA,EAAElE,WAAAA,CAAYX,GAAGY,MAAMZ,EAAE4P,GAAG/O,KAAK6W,eAAe,IAAInY,EAAEsB,KAAK8W,yBAAyB/R,EAAE/E,KAAK+W,eAAc,EAAG/W,KAAKgX,SAAS,IAAI1R,IAAI,CAAC,CAACxH,EAAAA,EAAEmZ,gBAAgB9X,IAAGX,EAAAA,EAAAA,IAAEW,IAAI,CAACrB,EAAAA,EAAEoZ,qBAAqB/X,IAAGS,EAAAA,EAAAA,IAAET,IAAIa,KAAKmX,WAAWhB,YAAY,CAACrY,EAAAA,EAAEsZ,mCAAmCjY,IAAGS,EAAAA,EAAAA,IAAET,KAAKa,KAAKmX,WAAWhB,YAAY,CAACrY,EAAAA,EAAEuZ,gBAAgBlY,IAAGS,EAAAA,EAAAA,IAAET,KAAIX,EAAAA,EAAAA,IAAEW,KAAK,CAACmY,gBAAAA,CAAiBnY,EAAEX,GAAG,OAAOwB,KAAK6W,eAAepD,OAAOtU,EAAEa,KAAK6W,eAAe3B,SAASlV,KAAKmX,WAAWjC,SAASlV,KAAK6W,eAAeU,cAAcvX,KAAKmX,WAAWI,cAAcvX,KAAK6W,eAAeV,WAAWnW,KAAKmX,WAAWhB,WAAWnW,KAAK6W,eAAe7B,aAAaxW,EAAEwW,aAAahV,KAAK6W,eAAe9B,QAAQvW,EAAEuW,QAAQ/U,KAAK6W,eAAe5B,aAAazW,EAAEiL,OAAO+N,kBAAkBtY,EAAAA,GAAEc,KAAK6W,eAAeT,iBAAiB5X,EAAE4X,iBAAiBpW,KAAK6W,eAAeR,iBAAiB7X,EAAE6X,iBAAiBrW,KAAK6W,eAAenD,yBAAyB1T,KAAKmX,WAAWzD,yBAAyB1T,KAAK6W,cAAc,CAAC,WAAIvW,GAAU,OAAM,CAAE,CAACmX,gBAAAA,CAAiBtY,GAAG,OAAO,IAAI2F,EAAE3F,EAAE,CAACuY,kBAAAA,GAAqB,MAAMvY,EAAEE,EAAAA,GAAEsY,QAAQ,OAAO3X,KAAKmX,WAAWzD,0BAA0BvU,EAAEyY,IAAI1W,EAAAA,EAAE6S,mBAAmB,IAAI1B,EAAElT,EAAE,EAAE,MAAM2F,UAAUlG,EAAAA,GAAEkB,WAAAA,CAAYX,GAAGY,MAAM,IAAIZ,KAAKA,EAAE0Y,SAASV,YAAY,CAACW,SAAAA,CAAU3Y,GAAG,OAAOa,KAAK+X,cAAc/X,KAAKgY,UAAUb,WAAWc,WAAWjY,KAAKgY,UAAUE,cAAclY,KAAKmY,uBAAuBnY,KAAKoY,aAAapG,EAAE7S,EAAE,EAAE,MAAMkT,UAAUtU,EAAAA,EAAEsa,KAAAA,CAAM7Z,EAAEoB,EAAEd,EAAEF,EAAEI,EAAEE,GAAG,IAAI,MAAMpB,KAAKkC,KAAKsY,mBAAmBC,OAAOC,OAAO,CAAC,MAAM5Z,EAAEE,EAAE4D,IAAI5E,GAAG,GAAGc,EAAE,GAAGd,IAAIoD,EAAAA,EAAE6S,kBAAkB,EAAC3V,EAAAA,EAAAA,IAAE,IAAIQ,EAAE6Z,MAAM,MAAMja,EAAEQ,EAAE0Z,SAAS5a,EAAEqB,EAAAA,IAAGX,IAAGY,EAAAA,EAAAA,IAAER,EAAEJ,EAAEU,EAAE,MAAM2F,EAAAA,EAAAA,IAAE/G,EAAEc,EAAEJ,EAAEoB,EAAEZ,EAAEE,EAAE,CAAC,EAAE,MAAM6P,UAAU/P,EAAAA,GAAEc,WAAAA,CAAYX,GAAGY,QAAQC,KAAKiY,UAAU9Y,EAAEa,KAAKmW,YAAW,EAAGnW,KAAKuX,eAAc,EAAGvX,KAAKkV,SAASpW,EAAAA,GAAEoX,KAAKlW,KAAKmU,QAAQ,EAAEnU,KAAK0T,0BAAyB,CAAE,E,yFCA/mF,MAAMlV,GAAEW,EAAAA,EAAAA,MAAIwZ,MAAMtJ,EAAAA,EAAEwE,UAAUzU,GAAED,EAAAA,EAAAA,MAAIwZ,MAAMtJ,EAAAA,EAAEwE,UAAU+E,MAAMvJ,EAAAA,EAAEyE,KAAKlU,GAAET,EAAAA,EAAAA,MAAIwZ,MAAMtJ,EAAAA,EAAEwE,UAAUgF,OAAOxJ,EAAAA,EAAEyJ,OAAOlG,GAAEzT,EAAAA,EAAAA,MAAIwZ,MAAMtJ,EAAAA,EAAEwE,UAAU+E,MAAMvJ,EAAAA,EAAEyE,KAAK+E,OAAOxJ,EAAAA,EAAE0J,sB","sources":["../node_modules/@arcgis/core/views/layers/support/popupUtils.js","../node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js","../node_modules/@arcgis/core/views/analysis/analysisViewUtils.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceController.js","../node_modules/@arcgis/core/views/3d/terrain/isTerrainSurfaceLayer.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceTool.js","../node_modules/@arcgis/core/views/3d/analysis/Slice/SliceVisualization.js","../node_modules/@arcgis/core/views/3d/analysis/SliceAnalysisView3D.js","../node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterialTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/DefaultLayouts.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getFeatureEditFields as e,fixFields as l}from\"../../../layers/support/fieldUtils.js\";async function n(n,p=n.popupTemplate){if(null==p)return[];const u=await p.getRequiredFields(n.fieldsIndex),{lastEditInfoEnabled:t}=p,{objectIdField:d,typeIdField:s,globalIdField:i,relationships:a}=n;if(u.includes(\"*\"))return[\"*\"];const o=t?e(n):[],f=l(n.fieldsIndex,[...u,...o]);return s&&f.push(s),f&&d&&n.fieldsIndex?.has(d)&&!f.includes(d)&&f.push(d),f&&i&&n.fieldsIndex?.has(i)&&!f.includes(i)&&f.push(i),a&&a.forEach((e=>{const{keyField:l}=e;f&&l&&n.fieldsIndex?.has(l)&&!f.includes(l)&&f.push(l)})),f}function p(e,l){return e.popupTemplate?e.popupTemplate:null!=l&&l.defaultPopupTemplateEnabled&&null!=e.defaultPopupTemplate?e.defaultPopupTemplate:null}function u(e,l){return null!=p(e,{defaultPopupTemplateEnabled:l})}export{p as getFetchPopupTemplate,n as getRequiredFields,u as hasPopupTemplate};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{makeHandle as t}from\"../../../core/handleUtils.js\";import r from\"../../../core/Promise.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";const s=s=>{let n=class extends(r.EsriPromiseMixin(s)){constructor(){super(...arguments),this.parent=null,this._userInteractive=!1,this._interactiveViewModelCount=0}get interactive(){return this._interactiveViewModelCount>0||this._userInteractive}set interactive(e){this._userInteractive=e}get updating(){return!1}get visible(){return null==this.parent||this.parent.visible&&!this.parent.suspended}set visible(e){this._overrideIfSome(\"visible\",e)}forceInteractiveForViewModel(){return this._interactiveViewModelCount++,t((()=>this._interactiveViewModelCount--))}};return e([i({constructOnly:!0})],n.prototype,\"parent\",void 0),e([i({constructOnly:!0})],n.prototype,\"view\",void 0),e([i({type:Boolean})],n.prototype,\"interactive\",null),e([i()],n.prototype,\"_userInteractive\",void 0),e([i({readOnly:!0})],n.prototype,\"updating\",null),e([i()],n.prototype,\"visible\",null),e([i()],n.prototype,\"_interactiveViewModelCount\",void 0),n=e([o(\"esri.views.3d.analysis.AnalysisView3D\")],n),n};export{s as AnalysisView3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{createTask as o}from\"../../core/asyncUtils.js\";import{removeMaybe as t}from\"../../core/maybe.js\";import{onAbort as i}from\"../../core/promiseUtils.js\";import{whenOnce as e,watch as n,syncAndInitial as r}from\"../../core/reactiveUtils.js\";function l(n,r){n.interactive=!0;const{tool:l,view:a}=n;a.activeTool=l;let c=i(r,(()=>{a.activeTool===l&&(a.activeTool=null)}));return o((async o=>{await e((()=>null==l||!l.active),o),c=t(c)}),r)}function a(o,t){return n((()=>o.interactive),(()=>c(o,t)),r)}function c(o,t){o.interactive?s(o,t):v(o)}function s(o,t){v(o);const{view:i,analysis:e}=o,n=new t({view:i,analysis:e,analysisViewData:o});return o.tool=n,i.tools.add(n),n}function v(o){const{view:t,tool:i}=o;null!=i&&(t.tools.remove(i),o.tool=null)}export{l as activateAnalysisViewTool,a as connectAnalysisViewToTool,v as removeAnalysisViewTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import i from\"../../../../analysis/SlicePlane.js\";import a from\"../../../../core/Accessor.js\";import t from\"../../../../core/Logger.js\";import{watch as l}from\"../../../../core/reactiveUtils.js\";import{property as s}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{d as r}from\"../../../../chunks/boundedPlane.js\";import o from\"../../../../layers/Layer.js\";import c from\"../../../../layers/buildingSublayers/BuildingComponentSublayer.js\";import{isIBuildingSceneLayerView3D as h,projectAndElevationAlignShape as u,projectedShapeToPlane as d,planeToShape as p}from\"./sliceToolUtils.js\";import{logFailedGeometryProjectionError as y}from\"../support/projectionUtils.js\";import{isTerrainSurfaceLayer as w}from\"../../terrain/isTerrainSurfaceLayer.js\";let v=class extends a{constructor(e){super(e),this._internalChange=!1,this._currentSlicePlane=null}initialize(){this.addHandles(this.analysis.excludedLayers.on(\"before-add\",(e=>{const i=e.item;null!=i&&(i instanceof o||i instanceof c)?i instanceof o&&w(i)?(t.getLogger(this).error(\"excludedLayers\",`Layer '${i.title}, id:${i.id}' of type '${i.type}' can not be individually excluded from slicing. Use 'excludeGroundSurface' instead.`),e.preventDefault()):this.analysis.excludedLayers.includes(i)&&e.preventDefault():(t.getLogger(this).error(\"excludedLayers\",\"Invalid layer type, layer must derive from Layer or BuildingComponentSublayer\"),e.preventDefault())}))),V(this.view,this),this.addHandles([l((()=>this.analysisViewData.plane),(()=>{this._internalChange||this._updateSlicePlaneFromBoundedPlane(),this._updateLayerViews()}),{sync:!0}),l((()=>this.analysis.excludeGroundSurface),(()=>this._updateLayerViews()),{sync:!0}),this.analysis.excludedLayers.on(\"change\",(()=>this._updateLayerViews())),l((()=>[this.analysisViewData.active,this.analysisViewData.visible]),(()=>{this._updateActiveController(),this._updateViewSlicePlane()}),{sync:!0}),l((()=>this._allLayerAndSubLayerViews),(()=>this._updateLayerViews()))]),this.addHandles([l((()=>this.analysis.shape),(()=>{this._internalChange||(this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane())}),{sync:!0})],\"analysis\"),this._updateActiveController(),this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane()}destroy(){this.analysisViewData.active&&(this.analysisViewData.active=!1,this.view.slicePlane=null,this._updateActiveController(),this._updateViewSlicePlane()),L(this.view,this),this.set(\"view\",null)}get _allLayerAndSubLayerViews(){const e=this.view.allLayerViews.items;return e.concat(e.filter(h).flatMap((({sublayerViews:e})=>e.items)))}_updateBoundedPlaneFromSlicePlane(){const e=this.analysis.shape,i=this._currentSlicePlane;if(null==i&&null==e||null!=i&&null!=e&&e.equals(i))return;let a=null,l=null;if(null!=e?.position){const i=e.position.spatialReference,s=u(e,this.view);null==s&&y(this.analysis,i,t.getLogger(this)),a=d(s,this.view,{tiltEnabled:this.analysis.tiltEnabled},r()),null!=a&&(l={heading:e.heading,tilt:e.tilt,position:e.position,width:e.width,height:e.height})}this._currentSlicePlane=l,this._internalChange=!0,this.analysisViewData.plane=a,this._internalChange=!1}_updateSlicePlaneFromBoundedPlane(){const e=this.analysisViewData.plane,a=p(e,this.view,this.view.spatialReference,new i);let t=null;null!=a&&(t={heading:a.heading,tilt:a.tilt,position:a.position,width:a.width,height:a.height}),this._currentSlicePlane=t,this._internalChange=!0,this.analysis.shape=a,this._internalChange=!1,this._updateViewSlicePlane()}_updateActiveController(){if(m)return;const e=_(this.view);if(!e)return;if(this.analysisViewData.active)null!=e.activeController&&e.activeController!==this?(m=!0,e.activeController.analysisViewData.active=!1,m=!1):null!=e.activeController&&e.activeController,this._updateLayerViews(),e.activeController=this;else{if(null!=e.activeController&&e.activeController!==this)return;null!=e.activeController&&e.activeController===this&&(e.activeController=null,this._updateLayerViews())}}_updateViewSlicePlane(){g(this.view)}_updateLayerViews(){const e=null!=this.analysisViewData.plane&&this.analysisViewData.visible&&this.analysisViewData.active,i=[],a=e=>{\"layers\"in e?e.layers.forEach(a):i.push(e)};this.analysis.excludedLayers.forEach(a),this.view.allLayerViews.forEach((a=>{a.destroyed||(\"slicePlaneEnabled\"in a&&(a.slicePlaneEnabled=e&&!i.includes(a.layer)),\"sublayerViews\"in a&&a.sublayerViews.forEach((a=>{a.slicePlaneEnabled=e&&!i.includes(a.sublayer)})))})),null!=this.view.basemapTerrain&&(this.view.basemapTerrain.slicePlaneEnabled=e&&!this.analysis.excludeGroundSurface)}};e([s()],v.prototype,\"view\",void 0),e([s()],v.prototype,\"analysis\",void 0),e([s()],v.prototype,\"analysisViewData\",void 0),e([s()],v.prototype,\"_allLayerAndSubLayerViews\",null),v=e([n(\"esri.views.3d.analysis.Slice.SliceController\")],v);const f=new Map;let m=!1;function g(e){const i=_(e),a=i?.activeController;null!=a?.analysisViewData.plane&&a.analysisViewData.visible?e.slicePlane=a.analysisViewData.plane:e.slicePlane=null}function V(e,i){f.has(e)||f.set(e,{all:[],activeController:null}),f.get(e)?.all.push(i)}function _(e){return f.get(e)}function L(e,i){if(!f.has(e))throw new Error(\"view expected in global slice register\");const a=f.get(e),t=a?.all.lastIndexOf(i)??-1;if(!a||-1===t)throw new Error(\"controller expected in global slice register\");a.all.splice(t,1),0===a.all.length&&f.delete(e)}export{v as SliceController};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{neverReached as e}from\"../../../core/compilerUtils.js\";function a(a){switch(a.type){case\"building-scene\":case\"catalog\":case\"catalog-dynamic-group\":case\"catalog-footprint\":case\"csv\":case\"dimension\":case\"feature\":case\"geo-rss\":case\"geojson\":case\"graphics\":case\"group\":case\"integrated-mesh\":case\"integrated-mesh-3dtiles\":case\"kml\":case\"knowledge-graph\":case\"link-chart\":case\"knowledge-graph-sublayer\":case\"line-of-sight\":case\"map-notes\":case\"ogc-feature\":case\"oriented-imagery\":case\"point-cloud\":case\"route\":case\"scene\":case\"stream\":case\"viewshed\":case\"voxel\":case\"subtype-group\":case\"unknown\":case\"unsupported\":case\"wfs\":case\"parquet\":case null:return!1;case\"base-dynamic\":case\"base-elevation\":case\"base-tile\":case\"bing-maps\":case\"elevation\":case\"imagery\":case\"imagery-tile\":case\"map-image\":case\"media\":case\"open-street-map\":case\"tile\":case\"vector-tile\":case\"video\":case\"wcs\":case\"web-tile\":case\"wms\":case\"wmts\":return!0;default:return e(a.type),!1}}export{a as isTerrainSurfaceLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../analysis/SlicePlane.js\";import{clock as i}from\"../../../../core/clock.js\";import{destroyMaybe as a,removeMaybe as s}from\"../../../../core/maybe.js\";import{watch as n,sync as r,syncAndInitial as l}from\"../../../../core/reactiveUtils.js\";import{addFrameTask as o}from\"../../../../core/scheduling.js\";import{createScreenPoint as h,screenPointObjectToArray as p}from\"../../../../core/screenUtils.js\";import{property as u}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as c}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromRotation as d,fromScaling as _,multiply as v}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{f as P,l as y,c as m,h as w,g,t as f,n as M,i as D}from\"../../../../chunks/vec32.js\";import{clone as V,create as b}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{clone as T,ZEROS as E}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{d as k,a as S,n as x,f as j}from\"../../../../chunks/boundedPlane.js\";import{signedDistance as H,create as C,intersectRay as R,getNormal as O}from\"../../../../geometry/support/plane.js\";import{create as I}from\"../../../../geometry/support/ray.js\";import{sv3d as z,sm4d as G,sv2d as L}from\"../../../../geometry/support/vectorStacks.js\";import{getRotateHeadingTexture as U,getTiltRotateTexture as A}from\"../images/Factory.js\";import{ResizeManipulator as K}from\"./ResizeManipulator.js\";import{RotateManipulator as B}from\"./RotateManipulator.js\";import{getOutlineColor as F,planeColor as N}from\"./settings.js\";import{ShiftManipulator as q,OffsetMode as Z}from\"./ShiftManipulator.js\";import{pointerMoveTimerMs as W,planePreviewOutlineWidth as J,forceVerticalModifier as Q,forceHorizontalModifier as X,previewFadeDotThreshold as Y,previewFadeDurationSeconds as $,initialDepthOffsetFrac as tt}from\"./sliceToolConfig.js\";import{createGridVisualElement as et,createOutlineVisualElement as it,planeToShape as at,createRotatePlane as st,RotationAxis as nt,resizePlane as rt,calculatePlaneHalfSize as lt,SliceOrientation as ot,createPlane as ht,DidPointerMoveRecentlyFlag as pt,calculateBoundedPlaneTranslateRotate as ut,updateShiftRestartHandle as ct,updateRotateHeadingHandle as dt,updateRotateTiltHandle as _t,updateResizeHandle as vt,createShiftPlane as Pt}from\"./sliceToolUtils.js\";import{calculateInputRotationTransform as yt}from\"../../interactive/manipulatorUtils.js\";import{screenToRenderPlane as mt}from\"../../interactive/editingTools/dragEventPipeline3D.js\";import{fromScreenNormalized as wt}from\"../../support/geometryUtils/ray.js\";import{AnalysisToolBase as gt}from\"../../../interactive/AnalysisToolBase.js\";import{createManipulatorDragEventPipeline as ft}from\"../../../interactive/dragEventPipeline.js\";import{newToolIntersector as Mt}from\"../../../interactive/ToolIntersector.js\";import{createScreenPointFromEvent as Dt}from\"../../../support/screenUtils.js\";var Vt;let bt=Vt=class extends gt{constructor(t){super(t),this._clock=i,this._previewPlaneOpacity=1,this.removeIncompleteOnCancel=!1,this._layersMode=\"none\",this.shiftManipulator=null,this.rotateHeadingManipulator=null,this.rotateTiltManipulator=null,this.resizeManipulators=null,this._frameTask=null,this._pointerMoveTimerMs=W,this._prevPointerMoveTimeout=null,this._previewPlaneGridVisualElement=null,this._previewPlaneOutlineVisualElement=null,this._startPlane=k(),this._previewPlane=null,this._activeKeyModifiers={},this._lastCursorPosition=h(),this._resizeHandles=[{direction:[1,0]},{direction:[1,1]},{direction:[0,1]},{direction:[-1,1]},{direction:[-1,0]},{direction:[-1,-1]},{direction:[0,-1]},{direction:[1,-1]}],this._intersector=Mt(t.view.state.viewingMode)}initialize(){if(null==this.analysis)throw new Error(\"SliceTool requires valid analysis, but null was provided.\");const t=t=>{this._updateManipulatorsInteractive(t),t.grabbing||(null!=this.analysisViewData.plane&&S(this.analysisViewData.plane,this._startPlane),this.inputState=null)},e=new q(this.view,Z.CENTER_ON_ARROW);this.shiftManipulator=e,this.manipulators.add(e),this.addHandles([this._createShiftDragPipeline(e),e.events.on(\"grab-changed\",(i=>{this._onShiftGrab(i),t(e)}))]);const i=!this.view._stage?.renderView.renderingContext.driverTest.svgPremultipliesAlpha.result,a=new B(this.view,((t,e)=>U(this.view.textures,{accentColor:t,contrastColor:e,preMultiplyAlpha:i})));this.rotateHeadingManipulator=a,this.manipulators.add(a),this.addHandles([this._createRotateHeadingDragPipeline(a),a.events.on(\"grab-changed\",(e=>{this._onRotateHeadingGrab(e),t(a)}))]);const s=new B(this.view,((t,e)=>A(this.view.textures,{accentColor:t,contrastColor:e,preMultiplyAlpha:i})));this.rotateTiltManipulator=s,this.manipulators.add(s),this.addHandles([this._createRotateTiltDragPipeline(s),s.events.on(\"grab-changed\",(e=>{this._onRotateTiltGrab(e),t(s)}))]),this.resizeManipulators=this._resizeHandles.map(((e,i)=>{const a=new K(this.view,e);return this.addHandles([this._createResizeDragPipeline(a),a.events.on(\"grab-changed\",(e=>{this._onResizeGrab(e,i),t(a)}))]),a})),this.manipulators.addMany(this.resizeManipulators),this._previewPlaneGridVisualElement=et(this.view),this._previewPlaneOutlineVisualElement=it(this.view),this._previewPlaneOutlineVisualElement.width=J,this.addHandles(n((()=>[this.analysisViewData.plane,this.analysis.tiltEnabled]),(()=>this._updateManipulators()),r));const o=n((()=>this.state),(t=>{\"sliced\"===t&&this.finishToolCreation()}),l);this.addHandles([o,n((()=>this.view.state.camera),(()=>this._onCameraChange()))])}destroy(){this._removeFrameTask(),this._clearPointerMoveTimeout(),this._previewPlaneOutlineVisualElement=a(this._previewPlaneOutlineVisualElement),this._previewPlaneGridVisualElement=a(this._previewPlaneGridVisualElement)}get state(){const t=!!this.analysisViewData.plane,e=!!this.inputState;return t?t&&e?\"slicing\":t&&!e?\"sliced\":\"ready\":\"ready\"}get cursor(){return this._isPlacingSlicePlane||\"exclude\"===this.layersMode?\"crosshair\":null!=this._creatingPointerId?\"grabbing\":null}set analysis(t){if(null==t)throw new Error(\"SliceTool requires valid analysis, but null was provided.\");this.removeHandles(\"analysis\"),this._set(\"analysis\",t)}get layersMode(){return this._layersMode}get inputState(){return this._get(\"inputState\")}set inputState(t){this._set(\"inputState\",t),this.analysisViewData.showGrid=null!=t&&\"resize\"===t.type,this._updateMaterials()}get _isPlacingSlicePlane(){return!this.inputState&&!this.analysisViewData.plane&&this.active}get _creatingPointerId(){return null!=this.inputState&&\"shift\"===this.inputState.type?this.inputState.creatingPointerId:null}enterExcludeLayerMode(){null!=this.analysisViewData.plane&&(this._layersMode=\"exclude\",this.active||(this.view.activeTool=this))}exitExcludeLayerMode(){null!=this.analysisViewData.plane&&(this._layersMode=\"none\",this.active&&(this.view.activeTool=null))}onDeactivate(){this._updatePreviewPlane(null)}onShow(){this._updateVisibility(!0)}onHide(){this._updateVisibility(!1)}_updateVisibility(t){this._updateManipulators(),t||this._clearPointerMoveTimeout()}onInputEvent(t){switch(t.type){case\"pointer-drag\":if(!kt(t))return;this._isPlacingSlicePlane?this._onClickPlacePlane(t)&&t.stopPropagation():this._onPointerDrag(t)&&t.stopPropagation();break;case\"pointer-move\":this._onPointerMove(t);break;case\"pointer-up\":this._onPointerUp(t)&&t.stopPropagation();break;case\"immediate-click\":if(!kt(t))return;this._onClickPlacePlane(t)&&t.stopPropagation();break;case\"click\":if(!kt(t))return;this._onClickExcludeLayer(t)&&t.stopPropagation();break;case\"drag\":this.inputState&&t.stopPropagation();break;case\"key-down\":this._onKeyDown(t)&&t.stopPropagation();break;case\"key-up\":this._onKeyUp(t)&&t.stopPropagation()}}onEditableChange(){this.analysisViewData.editable=this.internallyEditable}_onPointerDrag(t){const e=this.inputState;if(t.pointerId===this._creatingPointerId&&null!=e&&\"shift\"===e.type){const i=Dt(t);return this.shiftManipulator.events.emit(\"drag\",{action:e.hasBeenDragged?\"update\":\"start\",pointerType:t.pointerType,start:i,screenPoint:i}),e.hasBeenDragged=!0,!0}return!1}_onPointerMove(t){this._lastCursorPosition.x=t.x,this._lastCursorPosition.y=t.y,this._resetPointerMoveTimeout(),\"touch\"!==t.pointerType&&this._updatePreviewPlane(Dt(t),this._activeKeyModifiers)}_onCameraChange(){this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),this._updateManipulators()}_onPointerUp(t){if(t.pointerId===this._creatingPointerId&&null!=this.analysisViewData.plane){const e=Dt(t);return this.shiftManipulator.events.emit(\"drag\",{action:\"end\",start:e,screenPoint:e}),S(this.analysisViewData.plane,this._startPlane),this.inputState=null,!0}return!1}_onClickPlacePlane(t){if(\"exclude\"===this.layersMode)return!1;if(this._isPlacingSlicePlane){const i=Dt(t),a=k();if(this._pickPlane(i,!1,this._activeKeyModifiers,a)){if(\"pointer-drag\"===t.type){const e=wt(this.view.state.camera,i,xt);this.inputState=Et(e,t.pointerId,a.origin,a)}return S(a,this._startPlane),this.analysis.shape=at(a,this.view,this.view.spatialReference,new e),!0}}return!1}_onClickExcludeLayer(t){return!(\"exclude\"!==this.layersMode||!this.created)&&(this.view.hitTest(Dt(t)).then((t=>{if(t.results.length){const e=t.results[0],i=\"graphic\"===e?.type&&e.graphic;if(i){const t=i.sourceLayer||i.layer;t&&this.analysis.excludedLayers.push(t)}}else t.ground.layer?this.analysis.excludedLayers.push(t.ground.layer):this.analysis.excludeGroundSurface=!0})),this.exitExcludeLayerMode(),!0)}_onKeyDown(t){return(t.key===Q||t.key===X)&&(this._activeKeyModifiers[t.key]=!0,null!=this._previewPlane&&this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),!0)}_onKeyUp(t){return!(t.key!==Q&&t.key!==X||!this._activeKeyModifiers[t.key])&&(delete this._activeKeyModifiers[t.key],null!=this._previewPlane&&this._updatePreviewPlane(this._lastCursorPosition,this._activeKeyModifiers),!0)}_onShiftGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=wt(this.view.state.camera,t.screenPoint,xt);S(this.analysisViewData.plane,this._startPlane),this.inputState=Et(e,null,this.shiftManipulator.renderLocation,this.analysisViewData.plane)}_createShiftDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"shift\"!==a.type)return;const s=null!=this.analysisViewData.plane?S(this.analysisViewData.plane,k()):null;e.next(mt(this.view,a.shiftPlane)).next(this._shiftDragAdjustSensitivity(a)).next(this._shiftDragUpdatePlane(a)),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_shiftDragAdjustSensitivity(t){return e=>{if(null==this.analysisViewData.plane)return null;const i=.001,a=Math.min((1-Math.abs(P(x(this.analysisViewData.plane),e.ray.direction)/y(e.ray.direction)))/i,1),s=-H(this._startPlane.plane,e.renderEnd),n=-H(this._startPlane.plane,t.startPoint);return t.depth=t.depth*(1-a)+s*a-n,e}}_shiftDragUpdatePlane(t){return()=>{if(null==this.analysisViewData.plane)return;const e=m(z.get(),this._startPlane.origin),i=m(z.get(),x(this._startPlane));w(i,i,-t.depth),g(i,i,e);const a=j(i,this.analysisViewData.plane.basis1,this.analysisViewData.plane.basis2,k());this._updateBoundedPlane(a)}}_onRotateHeadingGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=st(this.analysisViewData.plane,this.view.renderCoordsHelper,nt.HEADING,C()),i=wt(this.view.state.camera,t.screenPoint,xt),a=b();R(e,i,a)&&(S(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"rotate\",rotatePlane:e,startPoint:a})}_createRotateHeadingDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"rotate\"!==a.type)return;const s=null!=this.analysisViewData.plane?S(this.analysisViewData.plane,k()):null;e.next(mt(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdatePlaneFromRotate()),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_onRotateTiltGrab(t){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const e=st(this.analysisViewData.plane,this.view.renderCoordsHelper,nt.TILT,C()),i=wt(this.view.state.camera,t.screenPoint,xt),a=b();R(e,i,a)&&(S(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"rotate\",rotatePlane:e,startPoint:a})}_createRotateTiltDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"rotate\"!==a.type)return;const s=null!=this.analysisViewData.plane?S(this.analysisViewData.plane,k()):null;e.next(mt(this.view,a.rotatePlane)).next(this._rotateDragRenderPlaneToRotate(a)).next(this._rotateDragUpdatePlaneFromRotate()),i.next((()=>{null!=s&&this._updateBoundedPlane(s)}))}))}_rotateDragRenderPlaneToRotate(t){return e=>{if(null==this.analysisViewData.plane)return null;const i=O(t.rotatePlane),a=yt(t.startPoint,e.renderEnd,this.analysisViewData.plane.origin,i);return{...e,rotateAxis:i,rotateAngle:a}}}_rotateDragUpdatePlaneFromRotate(){return t=>{if(null==this.analysisViewData.plane)return;const e=d(G.get(),t.rotateAngle,t.rotateAxis);if(null==e)return;const i=f(z.get(),this._startPlane.basis1,e),a=f(z.get(),this._startPlane.basis2,e),s=j(this.analysisViewData.plane.origin,i,a,k());this._updateBoundedPlane(s)}}_onResizeGrab(t,e){if(\"start\"!==t.action||null==this.analysisViewData.plane||!t.screenPoint)return;const i=wt(this.view.state.camera,t.screenPoint,xt),a=z.get();R(this.analysisViewData.plane.plane,i,a)&&(S(this.analysisViewData.plane,this._startPlane),this.inputState={type:\"resize\",activeHandleIdx:e,startPoint:V(a)})}_createResizeDragPipeline(t){return ft(t,((t,e,i)=>{const a=this.inputState;if(null==a||\"resize\"!==a.type||null==this.analysisViewData.plane)return;const s=S(this.analysisViewData.plane,k());e.next(mt(this.view,this.analysisViewData.plane.plane)).next(this._resizeDragUpdatePlane(a)),i.next((()=>{this._updateBoundedPlane(s)}))}))}_resizeDragUpdatePlane(t){return e=>{if(null==this.analysisViewData.plane)return;const i=this._resizeHandles[t.activeHandleIdx],a=rt(i,t.startPoint,e.renderEnd,this.view.state.camera,this._startPlane,S(this.analysisViewData.plane));this._updateBoundedPlane(a)}}_updateBoundedPlane(t){const e=this.analysisViewData;if(null==e)throw new Error(\"valid internal object expected\");e.plane=t}_updatePreviewPlane(t,e={}){let i=this._previewPlane;if(this._previewPlane=null,null==t)return this._removeFrameTask(),void this._updateManipulators();if(!this.analysisViewData.plane&&this.active){const a=null!=i?i:k();if(i=null!=i?S(i,St):null,this._pickPlane(t,!0,e,a)){const t=Y;let e=!1;null!=i&&(e=P(O(i.plane),O(a.plane))<t||P(M(z.get(),i.basis1),M(z.get(),a.basis1))<t),e&&(this._previewPlaneOpacity=0),this._previewPlane=a}}null!=this._previewPlane&&null==this._frameTask&&0===this._previewPlaneOpacity?this._frameTask=o({update:({deltaTime:t})=>{this._previewPlaneOpacity=Math.min(this._previewPlaneOpacity+t/(1e3*$),1),this._updateManipulators(),1===this._previewPlaneOpacity&&this._removeFrameTask()}}):null==this._previewPlane&&null!=this._frameTask?this._removeFrameTask():null!=this._previewPlane&&this._updateManipulators()}_removeFrameTask(){this._frameTask=s(this._frameTask)}_pickMinResult(t){const e=p(t,L.get());return this.view.sceneIntersectionHelper.intersectToolIntersectorScreen(e,this._intersector),this._intersector.results.min}_pickPlane(t,e,i,a){const s=this._pickMinResult(t),n=z.get();if(!s.getIntersectionPoint(n))return!1;const r=s.getTransformedNormal(z.get()),l=this.view.state.camera;P(r,l.viewForward)>0&&w(r,r,-1);const o=lt(n,l),h=(e?1:-1)*o*tt,p=w(z.get(),r,h);g(p,p,n);const u=this.analysis.tiltEnabled?ot.TILTED:ot.HORIZONTAL_OR_VERTICAL,c=i[Q]?ot.VERTICAL:i[X]?ot.HORIZONTAL:u;return ht(p,r,o,o,l,c,this.view.renderCoordsHelper,a),!0}_clearPointerMoveTimeout(){this._prevPointerMoveTimeout=s(this._prevPointerMoveTimeout)}_resetPointerMoveTimeout(){this._clearPointerMoveTimeout(),this.shiftManipulator.state|=pt,this.rotateHeadingManipulator.state|=pt,this.rotateTiltManipulator.state|=pt,this._prevPointerMoveTimeout=this._clock.setTimeout((()=>{this.shiftManipulator.state&=~pt,this.rotateHeadingManipulator.state&=~pt,this.rotateTiltManipulator.state&=~pt}),this._pointerMoveTimerMs)}_updateManipulators(){if(Vt.disableEngineLayers)return;let t,e=!1;if(null!=this.analysisViewData.plane)t=this.analysisViewData.plane,e=!1;else{if(null==this._previewPlane)return this.shiftManipulator.available=!1,this.rotateHeadingManipulator.available=!1,this.rotateTiltManipulator.available=!1,this.resizeManipulators.forEach((t=>t.available=!1)),this._previewPlaneOutlineVisualElement.visible=!1,void(this._previewPlaneGridVisualElement.visible=!1);t=this._previewPlane,e=!0}const i=ut(t,G.get());e?(this.shiftManipulator.available=!1,this.rotateHeadingManipulator.available=!1,this.rotateTiltManipulator.available=!1,this.resizeManipulators.forEach((t=>t.available=!1)),this._previewPlaneOutlineVisualElement.attached=!0,this._previewPlaneGridVisualElement.attached=!0,this._previewPlaneOutlineVisualElement.visible=!0,this._previewPlaneGridVisualElement.visible=!0):(this.shiftManipulator.available=!0,this.rotateHeadingManipulator.available=!0,this.rotateTiltManipulator.available=this.analysis.tiltEnabled,this.resizeManipulators.forEach((t=>t.available=!0)),ct(this.shiftManipulator,i,t,this.view.state.camera),dt(this.rotateHeadingManipulator,i,t,this.view.renderCoordsHelper),_t(this.rotateTiltManipulator,i,t),this.resizeManipulators.forEach(((e,a)=>vt(e,this._resizeHandles[a],i,t))),this._previewPlaneOutlineVisualElement.visible=!1,this._previewPlaneGridVisualElement.visible=!1);const a=D(z.get(),y(t.basis1),y(t.basis2),1),s=_(G.get(),a),n=v(s,i,s);this._previewPlaneOutlineVisualElement.transform=n,this._previewPlaneGridVisualElement.transform=n,this._updateMaterials()}_updateMaterials(){const t=F(this.view.effectiveTheme);t[3]*=this._previewPlaneOpacity;const e=T(N);e[3]*=this._previewPlaneOpacity,this._previewPlaneOutlineVisualElement.color=t,this._previewPlaneGridVisualElement.backgroundColor=e,this._previewPlaneGridVisualElement.gridColor=E}_updateManipulatorsInteractive(t){if(!t.grabbing)return this.shiftManipulator.interactive=!0,this.rotateHeadingManipulator.interactive=!0,this.rotateTiltManipulator.interactive=!0,void this.resizeManipulators.forEach((t=>{t.interactive=!0}));this.shiftManipulator.interactive=this.shiftManipulator===t,this.rotateHeadingManipulator.interactive=this.rotateHeadingManipulator===t,this.rotateTiltManipulator.interactive=this.rotateTiltManipulator===t,this.resizeManipulators.forEach((e=>{e.interactive=e===t}))}get test(){return{plane:this.analysisViewData.plane,setPointerMoveTimerMs:t=>{this._pointerMoveTimerMs=t}}}};bt.disableEngineLayers=!1,t([u()],bt.prototype,\"_clock\",void 0),t([u({constructOnly:!0})],bt.prototype,\"view\",void 0),t([u()],bt.prototype,\"analysisViewData\",void 0),t([u({readOnly:!0})],bt.prototype,\"state\",null),t([u({readOnly:!0})],bt.prototype,\"cursor\",null),t([u()],bt.prototype,\"analysis\",null),t([u()],bt.prototype,\"removeIncompleteOnCancel\",void 0),t([u()],bt.prototype,\"_layersMode\",void 0),t([u()],bt.prototype,\"layersMode\",null),t([u({value:null})],bt.prototype,\"inputState\",null),t([u()],bt.prototype,\"_isPlacingSlicePlane\",null),t([u()],bt.prototype,\"_creatingPointerId\",null),bt=Vt=t([c(\"esri.views.3d.analysis.Slice.SliceTool\")],bt);const Tt=bt;function Et(t,e,i,a){const s=Pt(i,x(a),t.direction,C()),n=b();return R(s,t,n)?{type:\"shift\",creatingPointerId:e,hasBeenDragged:!1,shiftPlane:s,depth:0,startPoint:n}:null}function kt(t){return\"mouse\"!==t.pointerType||0===t.button}const St=k(),xt=I();export{Tt as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Accessor.js\";import{destroyMaybe as t}from\"../../../../core/maybe.js\";import{watch as s,syncAndInitial as o}from\"../../../../core/reactiveUtils.js\";import{property as r}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as l}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{fromScaling as a,multiply as n}from\"../../../../core/libs/gl-matrix-2/math/mat4.js\";import{i as m,l as u}from\"../../../../chunks/vec32.js\";import{ZEROS as p}from\"../../../../core/libs/gl-matrix-2/factories/vec4f64.js\";import{sv3d as c,sm4d as h}from\"../../../../geometry/support/vectorStacks.js\";import{getGridColor as d,getOutlineColor as v,planeColor as g}from\"./settings.js\";import{planePreviewOutlineWidth as w,planeOutlineWidth as V}from\"./sliceToolConfig.js\";import{createGridVisualElement as _,createOutlineVisualElement as f,calculateBoundedPlaneTranslateRotate as E}from\"./sliceToolUtils.js\";import{createStipplePatternSimple as j}from\"../../webgl-engine/materials/lineStippleUtils.js\";let b=class extends e{constructor(i){super(i),this._gridVisualElement=null,this._outlineVisualElement=null,this.showGrid=!1,this.preview=!0}initialize(){const i=this.analysisViewData;if(null==i)throw new Error(\"expected internal object to be valid\");this._gridVisualElement=_(this.view),this._outlineVisualElement=f(this.view),this.addHandles([s((()=>{const e=null!=i.plane&&this.analysisViewData.visible,{active:t}=this.analysisViewData,{preview:s,showGrid:o,view:r}=this,{effectiveTheme:l}=r;return{visible:e,active:t,preview:s,showGrid:o,gridColor:d(l),outlineColor:v(l)}}),(i=>this._updateMaterials(i)),o),s((()=>i.plane),(i=>this._updatePlane(i)),o)],\"internal\")}destroy(){this._gridVisualElement=t(this._gridVisualElement),this._outlineVisualElement=t(this._outlineVisualElement),this.set(\"view\",null)}_updatePlane(i){if(null==i)return;this._gridVisualElement.attached=!0,this._outlineVisualElement.attached=!0;const e=m(c.get(),u(i.basis1),u(i.basis2),1),t=a(h.get(),e),s=E(i,h.get()),o=n(t,s,t);this._outlineVisualElement.transform=o,this._gridVisualElement.transform=o}_updateMaterials({visible:i,active:e,preview:t,showGrid:s,gridColor:o,outlineColor:r}){this._outlineVisualElement.color=r,this._outlineVisualElement.width=t?w:V,this._outlineVisualElement.stipplePattern=e?null:j(5),this._gridVisualElement.backgroundColor=g,this._gridVisualElement.gridColor=s?o:p,this._gridVisualElement.visible=i,this._outlineVisualElement.visible=i}};i([r()],b.prototype,\"view\",void 0),i([r()],b.prototype,\"analysis\",void 0),i([r()],b.prototype,\"analysisViewData\",void 0),i([r()],b.prototype,\"showGrid\",void 0),i([r()],b.prototype,\"preview\",void 0),b=i([l(\"esri.views.3d.analysis.Slice.SliceVisualization\")],b);export{b as SliceVisualization};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as s}from\"../../../chunks/tslib.es6.js\";import i from\"../../../core/Accessor.js\";import\"../../../core/has.js\";import{destroyMaybe as t}from\"../../../core/maybe.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as o}from\"../../../core/accessorSupport/decorators/subclass.js\";import{AnalysisView3D as l}from\"./AnalysisView3D.js\";import{SliceController as e}from\"./Slice/SliceController.js\";import r from\"./Slice/SliceTool.js\";import{SliceVisualization as n}from\"./Slice/SliceVisualization.js\";import{connectAnalysisViewToTool as p,removeAnalysisViewTool as y}from\"../../analysis/analysisViewUtils.js\";let h=class extends(l(i)){constructor(s){super(s),this.type=\"slice-view-3d\",this.analysis=null,this.tool=null,this.analysisVisualization=null,this.analysisController=null,this.plane=null,this.active=!0}initialize(){this.analysisVisualization=new n({view:this.view,analysis:this.analysis,analysisViewData:this}),this.analysisController=new e({view:this.view,analysis:this.analysis,analysisViewData:this}),this.addHandles(p(this,r))}destroy(){y(this),this.analysisVisualization=t(this.analysisVisualization),this.analysisController=t(this.analysisController)}get showGrid(){return this.analysisVisualization?.showGrid??!1}set showGrid(s){this.analysisVisualization&&(this.analysisVisualization.showGrid=s)}get editable(){return!this.analysisVisualization.preview}set editable(s){this.analysisVisualization.preview=!s}get testData(){}};s([a({readOnly:!0})],h.prototype,\"type\",void 0),s([a({constructOnly:!0,nonNullable:!0})],h.prototype,\"analysis\",void 0),s([a()],h.prototype,\"tool\",void 0),s([a()],h.prototype,\"plane\",void 0),s([a()],h.prototype,\"active\",void 0),s([a()],h.prototype,\"showGrid\",null),s([a()],h.prototype,\"editable\",null),h=s([o(\"esri.views.3d.analysis.SliceAnalysisView3D\")],h);const c=h;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ShaderOutput as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ShaderOutput.js\";import{SliceDraw as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as i}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ObjectAndLayerIdColor as o}from\"../views/3d/webgl-engine/core/shaderLibrary/attributes/ObjectAndLayerIdColor.glsl.js\";import{terrainDepthTest as s}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/TerrainDepthTest.glsl.js\";import{ColorConversion as t}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{addProjViewLocalOrigin as a}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as l}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as d,If as n}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DPassUniform as g}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{VertexAttribute as m}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{outputColorHighlightOID as v}from\"../views/3d/webgl-engine/shaders/OutputColorHighlightOID.glsl.js\";import{NoParameters as c}from\"../views/webgl/NoParameters.js\";import{ShaderBuilder as p}from\"../views/webgl/ShaderBuilder.js\";class u extends c{}function w(c){const u=new p,{vertex:w,fragment:b}=u,{output:f,perspectiveInterpolation:h}=c;return a(w,c),u.include(i,c),u.include(s,c),u.fragment.include(r,c),u.include(o,c),u.include(v,c),u.attributes.add(m.POSITION,\"vec3\"),u.attributes.add(m.UV0,\"vec2\"),h&&u.attributes.add(m.PERSPECTIVEDIVIDE,\"float\"),w.main.add(d`\n    vpos = position;\n    forwardViewPosDepth((view * vec4(vpos, 1.0)).xyz);\n    vTexCoord = uv0;\n    gl_Position = transformPosition(proj, view, vpos);\n    ${n(h,\"gl_Position *= perspectiveDivide;\")}`),u.varyings.add(\"vpos\",\"vec3\"),u.varyings.add(\"vTexCoord\",\"vec2\"),b.include(t),b.uniforms.add(new l(\"opacity\",(e=>e.opacity)),new g(\"tex\",(e=>e.texture))).main.add(d`\n    discardBySlice(vpos);\n    discardByTerrainDepth();\n    ${n(f===e.ObjectAndLayerIdColor,\"fragColor = vec4(0, 0, 0, 1); return;\")}\n    vec4 finalColor = texture(tex, vTexCoord) * opacity;\n    outputColorHighlightOID(finalColor, vpos);`),u}const b=Object.freeze(Object.defineProperty({__proto__:null,ImageMaterialPassParameters:u,build:w},Symbol.toStringTag,{value:\"Module\"}));export{b as I,u as a,w as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isColorOrColorEmission as e}from\"../core/shaderLibrary/ShaderOutput.js\";import{ReloadableShaderModule as t}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{OITPass as i}from\"../lib/OITPass.js\";import{oitBlending as l,oitDepthTest as s,depthWrite as n,getDrawBuffers as o,getOITPolygonOffset as a}from\"../lib/OrderIndependentTransparency.js\";import{stencilWriteMaskOn as p,stencilToolMaskBaseParams as c,stencilBaseAllZerosParams as u}from\"../lib/StencilUtils.js\";import{VertexAttribute as m}from\"../lib/VertexAttribute.js\";import{I as d}from\"../../../../chunks/ImageMaterial.glsl.js\";import{makePipelineState as h,blendWithPremultipliedAlpha as f,cullingParams as g,defaultColorWrite as P}from\"../../../webgl/renderState.js\";class b extends r{constructor(e,r){super(e,r,new t(d,(()=>import(\"./ImageMaterial.glsl.js\"))),j)}_getPipelineState(t,r){const{oitPass:m,output:d,hasOccludees:b,enableOffset:j,cullFace:I}=t,S=m===i.NONE,O=m===i.FrontFace;return h({blending:e(d)?S?f:l(m):null,culling:g(I),depthTest:{func:s(m)},depthWrite:n(t),drawBuffers:o(m,d),colorWrite:P,stencilWrite:b?p:null,stencilTest:b?r?c:u:null,polygonOffset:S||O?null:a(j)})}initializePipeline(e){return this._occludeePipeline=this._getPipelineState(e,!0),this._getPipelineState(e,!1)}getPipeline(e){return e?this._occludeePipeline:super.getPipeline()}}const j=new Map([[m.POSITION,0],[m.UV0,2],[m.PERSPECTIVEDIVIDE,3]]);export{b as ImageMaterialTechnique,j as vertexAttributeLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{TextureCoordinateType as t}from\"../core/shaderLibrary/attributes/TextureCoordinateAttribute.glsl.js\";import{EmissionSource as o}from\"../core/shaderLibrary/output/Emissions.glsl.js\";import{parameter as r}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{CullFaceOptions as i}from\"../lib/basicInterfaces.js\";import{DefaultTechniqueConfiguration as s}from\"../materials/DefaultTechniqueConfiguration.js\";class a extends s{constructor(){super(...arguments),this.cullFace=i.None,this.enableOffset=!0,this.writeDepth=!0,this.hasOccludees=!1,this.terrainDepthTest=!1,this.cullAboveTerrain=!1,this.perspectiveInterpolation=!0,this.textureCoordinateType=t.None,this.emissionSource=o.None,this.discardInvisibleFragments=!0,this.occlusionPass=!1,this.objectAndLayerIdColorInstanced=!1}}e([r({count:i.COUNT})],a.prototype,\"cullFace\",void 0),e([r()],a.prototype,\"enableOffset\",void 0),e([r()],a.prototype,\"writeDepth\",void 0),e([r()],a.prototype,\"hasOccludees\",void 0),e([r()],a.prototype,\"terrainDepthTest\",void 0),e([r()],a.prototype,\"cullAboveTerrain\",void 0),e([r()],a.prototype,\"perspectiveInterpolation\",void 0);export{a as ImageMaterialTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{BufferViewFloat as e}from\"../../../../geometry/support/buffer/BufferView.js\";import{isHighlightOrOID as t,isColor as r}from\"../core/shaderLibrary/ShaderOutput.js\";import{CullFaceOptions as i}from\"../lib/basicInterfaces.js\";import{GLTextureMaterial as s}from\"../lib/GLTextureMaterial.js\";import{MaterialParameters as a}from\"../lib/Material.js\";import{OITPolygonOffsetLimit as o}from\"../lib/OrderIndependentTransparency.js\";import{RenderSlot as n}from\"../lib/RenderSlot.js\";import{assert as u}from\"../lib/Util.js\";import{VertexAttribute as c}from\"../lib/VertexAttribute.js\";import{DefaultBufferWriter as p}from\"./DefaultBufferWriter.js\";import{PositionUVLayout as l}from\"./DefaultLayouts.js\";import{TriangleMaterial as h}from\"./TriangleMaterial.js\";import{writeBufferFloat as f,writeDefaultAttribute as m}from\"./internal/bufferWriterUtils.js\";import{vertexAttributeLocations as g,ImageMaterialTechnique as T}from\"../shaders/ImageMaterialTechnique.js\";import{ImageMaterialTechniqueConfiguration as d}from\"../shaders/ImageMaterialTechniqueConfiguration.js\";class I extends h{constructor(e){super(e,b),this._configuration=new d,this.vertexAttributeLocations=g,this.supportsEdges=!0,this.produces=new Map([[n.OPAQUE_MATERIAL,e=>t(e)],[n.TRANSPARENT_MATERIAL,e=>r(e)&&this.parameters.writeDepth],[n.TRANSPARENT_MATERIAL_WITHOUT_DEPTH,e=>r(e)&&!this.parameters.writeDepth],[n.DRAPED_MATERIAL,e=>r(e)||t(e)]])}getConfiguration(e,t){return this._configuration.output=e,this._configuration.cullFace=this.parameters.cullFace,this._configuration.hasSlicePlane=this.parameters.hasSlicePlane,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.hasOccludees=t.hasOccludees,this._configuration.oitPass=t.oitPass,this._configuration.enableOffset=t.camera.relativeElevation<o,this._configuration.terrainDepthTest=t.terrainDepthTest,this._configuration.cullAboveTerrain=t.cullAboveTerrain,this._configuration.perspectiveInterpolation=this.parameters.perspectiveInterpolation,this._configuration}get visible(){return!0}createGLMaterial(e){return new _(e)}createBufferWriter(){const e=l.clone();return this.parameters.perspectiveInterpolation&&e.f32(c.PERSPECTIVEDIVIDE),new E(e)}}class _ extends s{constructor(e){super({...e,...e.material.parameters})}beginSlot(e){return this.updateTexture(this._material.parameters.textureId),this._material.setParameters(this.textureBindParameters),this.getTechnique(T,e)}}class E extends p{write(t,r,i,s,a,o){for(const n of this.vertexBufferLayout.fields.keys()){const s=i.get(n);if(s)if(n===c.PERSPECTIVEDIVIDE){u(1===s.size);const t=a.getField(n,e);t&&f(s,t,o)}else m(n,s,t,r,a,o)}}}class b extends a{constructor(e){super(),this.textureId=e,this.writeDepth=!0,this.hasSlicePlane=!1,this.cullFace=i.None,this.opacity=1,this.perspectiveInterpolation=!1}}export{I as ImageMaterial,b as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{newLayout as e}from\"../../support/buffer/InterleavedLayout.js\";import{VertexAttribute as O}from\"../lib/VertexAttribute.js\";const t=e().vec3f(O.POSITION),f=e().vec3f(O.POSITION).vec2f(O.UV0),r=e().vec3f(O.POSITION).vec4u8(O.COLOR),I=e().vec3f(O.POSITION).vec2f(O.UV0).vec4u8(O.OBJECTANDLAYERIDCOLOR);export{r as PositionColorLayout,t as PositionLayout,f as PositionUVLayout,I as PositionUVLayoutObjectAndLayerId};\n"],"names":["async","n","p","arguments","length","undefined","popupTemplate","u","getRequiredFields","fieldsIndex","lastEditInfoEnabled","t","objectIdField","d","typeIdField","s","globalIdField","i","relationships","a","includes","o","e","f","l","push","has","forEach","keyField","defaultPopupTemplateEnabled","defaultPopupTemplate","r","EsriPromiseMixin","constructor","super","this","parent","_userInteractive","_interactiveViewModelCount","interactive","updating","visible","suspended","_overrideIfSome","forceInteractiveForViewModel","constructOnly","prototype","type","Boolean","readOnly","tool","view","activeTool","c","active","v","analysis","analysisViewData","tools","add","remove","_internalChange","_currentSlicePlane","initialize","addHandles","excludedLayers","on","item","w","getLogger","error","title","id","preventDefault","set","all","activeController","get","plane","_updateSlicePlaneFromBoundedPlane","_updateLayerViews","sync","excludeGroundSurface","_updateActiveController","_updateViewSlicePlane","_allLayerAndSubLayerViews","shape","_updateBoundedPlaneFromSlicePlane","destroy","slicePlane","Error","lastIndexOf","splice","delete","L","allLayerViews","items","concat","filter","h","flatMap","_ref","sublayerViews","equals","position","spatialReference","y","tiltEnabled","heading","tilt","width","height","m","_","g","layers","destroyed","slicePlaneEnabled","layer","sublayer","basemapTerrain","Map","Vt","bt","gt","_clock","_previewPlaneOpacity","removeIncompleteOnCancel","_layersMode","shiftManipulator","rotateHeadingManipulator","rotateTiltManipulator","resizeManipulators","_frameTask","_pointerMoveTimerMs","W","_prevPointerMoveTimeout","_previewPlaneGridVisualElement","_previewPlaneOutlineVisualElement","_startPlane","k","_previewPlane","_activeKeyModifiers","_lastCursorPosition","_resizeHandles","direction","_intersector","Mt","state","viewingMode","_updateManipulatorsInteractive","grabbing","S","inputState","q","Z","CENTER_ON_ARROW","manipulators","_createShiftDragPipeline","events","_onShiftGrab","_stage","renderView","renderingContext","driverTest","svgPremultipliesAlpha","result","B","U","textures","accentColor","contrastColor","preMultiplyAlpha","_createRotateHeadingDragPipeline","_onRotateHeadingGrab","A","_createRotateTiltDragPipeline","_onRotateTiltGrab","map","K","_createResizeDragPipeline","_onResizeGrab","addMany","et","it","J","_updateManipulators","finishToolCreation","camera","_onCameraChange","_removeFrameTask","_clearPointerMoveTimeout","cursor","_isPlacingSlicePlane","layersMode","_creatingPointerId","removeHandles","_set","_get","showGrid","_updateMaterials","creatingPointerId","enterExcludeLayerMode","exitExcludeLayerMode","onDeactivate","_updatePreviewPlane","onShow","_updateVisibility","onHide","onInputEvent","kt","_onClickPlacePlane","stopPropagation","_onPointerDrag","_onPointerMove","_onPointerUp","_onClickExcludeLayer","_onKeyDown","_onKeyUp","onEditableChange","editable","internallyEditable","pointerId","Dt","emit","action","hasBeenDragged","pointerType","start","screenPoint","x","_resetPointerMoveTimeout","_pickPlane","wt","xt","Et","origin","at","created","hitTest","then","results","graphic","sourceLayer","ground","key","Q","X","renderLocation","ft","next","mt","shiftPlane","_shiftDragAdjustSensitivity","_shiftDragUpdatePlane","_updateBoundedPlane","Math","min","abs","P","ray","H","renderEnd","startPoint","depth","z","j","basis1","basis2","st","renderCoordsHelper","nt","HEADING","C","b","R","rotatePlane","_rotateDragRenderPlaneToRotate","_rotateDragUpdatePlaneFromRotate","TILT","O","yt","rotateAxis","rotateAngle","G","activeHandleIdx","V","_resizeDragUpdatePlane","rt","St","Y","M","update","deltaTime","$","_pickMinResult","sceneIntersectionHelper","intersectToolIntersectorScreen","getIntersectionPoint","getTransformedNormal","viewForward","lt","tt","ot","TILTED","HORIZONTAL_OR_VERTICAL","VERTICAL","HORIZONTAL","ht","pt","setTimeout","disableEngineLayers","available","ut","attached","ct","dt","_t","vt","D","transform","F","effectiveTheme","T","N","color","backgroundColor","gridColor","E","test","setPointerMoveTimerMs","value","Tt","Pt","button","I","_gridVisualElement","_outlineVisualElement","preview","outlineColor","_updatePlane","stipplePattern","analysisVisualization","analysisController","testData","nonNullable","vertex","fragment","output","perspectiveInterpolation","include","attributes","POSITION","UV0","PERSPECTIVEDIVIDE","main","varyings","uniforms","opacity","texture","ObjectAndLayerIdColor","Object","freeze","defineProperty","__proto__","ImageMaterialPassParameters","build","Symbol","toStringTag","_getPipelineState","oitPass","hasOccludees","enableOffset","cullFace","NONE","FrontFace","blending","culling","depthTest","func","depthWrite","drawBuffers","colorWrite","stencilWrite","stencilTest","polygonOffset","initializePipeline","_occludeePipeline","getPipeline","None","writeDepth","terrainDepthTest","cullAboveTerrain","textureCoordinateType","emissionSource","discardInvisibleFragments","occlusionPass","objectAndLayerIdColorInstanced","count","COUNT","_configuration","vertexAttributeLocations","supportsEdges","produces","OPAQUE_MATERIAL","TRANSPARENT_MATERIAL","parameters","TRANSPARENT_MATERIAL_WITHOUT_DEPTH","DRAPED_MATERIAL","getConfiguration","hasSlicePlane","relativeElevation","createGLMaterial","createBufferWriter","clone","f32","material","beginSlot","updateTexture","_material","textureId","setParameters","textureBindParameters","getTechnique","write","vertexBufferLayout","fields","keys","size","getField","vec3f","vec2f","vec4u8","COLOR","OBJECTANDLAYERIDCOLOR"],"sourceRoot":""}