{"version":3,"file":"static/js/19679.2bead7fb.chunk.js","mappings":"qOAI2c,IAAIA,EAAE,cAAcC,EAAAA,EAAEC,gBAAgBC,WAAAA,CAAYC,GAAGC,MAAMD,GAAGE,KAAKC,sBAAsB,KAAKD,KAAKE,aAAa,CAACJ,EAAEK,KAAK,MAAMR,EAAEG,EAAEM,GAAGN,EAAEO,KAAKP,EAAEQ,MAAM,GAAGH,EAAE,GAAGI,GAAGT,EAAEU,KAAKV,EAAEW,MAAM,GAAGN,EAAE,GAAG,OAAOR,EAAEW,KAAKR,EAAEQ,KAAKF,EAAET,EAAEc,KAAKX,EAAEW,KAAKF,EAAEZ,EAAEU,KAAKP,EAAEO,KAAKD,EAAET,EAAEa,KAAKV,EAAEU,KAAKD,EAAEZ,CAAC,EAAEK,KAAKU,aAAaV,KAAKU,aAAaC,KAAKX,KAAK,CAACY,OAAAA,GAAUZ,KAAKa,oBAAoBb,KAAKc,KAAK,IAAI,CAAC,QAAIA,CAAKhB,GAAGE,KAAKe,KAAK,OAAOjB,GAAGA,GAAGA,EAAEkB,OAAOC,MAAM,KAAK,GAAGjB,KAAKc,OAAOhB,EAAE,CAAC,IAAIE,KAAKc,KAAKI,IAAIC,oBAAoB,MAAM,IAAIhB,EAAAA,QAAE,gCAAgC,2DAA2DH,KAAKoB,QAAOC,EAAAA,EAAAA,uCAAErB,KAAKc,KAAKI,IAAIC,oBAAoBG,WAAW,IAAI,CAAC,SAAIC,GAAQ,OAAOvB,KAAKc,KAAKd,KAAKc,KAAKI,IAAIC,oBAAoB,QAAQ,WAAW,SAAS,CAAC,UAAIC,GAAS,OAAOpB,KAAKwB,KAAK,WAAW,kBAAkB,CAAC,UAAIJ,CAAOtB,GAAGE,KAAKe,KAAK,SAASjB,EAAE,CAAC,uBAAI2B,GAAsB,OAAOzB,KAAKwB,KAAK,yBAAwB,CAAE,CAAC,uBAAIC,CAAoB3B,GAAGE,KAAKe,KAAK,sBAAsBjB,EAAE,CAAC,kBAAMY,CAAaZ,GAAG,IAAIE,KAAKc,OAAOd,KAAKc,KAAKI,IAAI,MAAM,IAAIf,EAAAA,QAAE,wCAAwC,wDAAwD,GAAGH,KAAKoB,OAAOtB,QAAQE,KAAKc,KAAKI,IAAIQ,YAAY5B,IAAIE,KAAKyB,qBAAqBzB,KAAKc,KAAKI,IAAIS,mBAAmB,CAAC,MAAMxB,EAAE,gCAAgCL,EAAEE,KAAKE,aAAaF,KAAKc,KAAKI,IAAIS,mBAAmB,KAAK3B,KAAKc,KAAKI,IAAIS,mBAAmBvB,EAAE,IAAIwB,gBAAgB5B,KAAKC,sBAAsBG,EAAE,UAAUJ,KAAKc,KAAKE,aAAahB,KAAKc,KAAKe,KAAK1B,EAAE,CAAC2B,OAAO1B,EAAE0B,QAAQ,CAAC,MAAMnC,GAAG,CAACK,KAAKC,sBAAsB,IAAI,CAACD,KAAK+B,KAAK,eAAe,CAACX,OAAOtB,GAAG,CAACe,iBAAAA,GAAoB,MAAMZ,sBAAsBH,GAAGE,KAAKF,GAAGA,EAAEkC,QAAQhC,KAAKC,sBAAsB,IAAI,IAAGH,EAAAA,EAAAA,GAAE,EAACM,EAAAA,EAAAA,OAAKV,EAAEuC,UAAU,6BAAwB,IAAQnC,EAAAA,EAAAA,GAAE,EAACM,EAAAA,EAAAA,OAAKV,EAAEuC,UAAU,OAAO,OAAMnC,EAAAA,EAAAA,GAAE,EAACM,EAAAA,EAAAA,IAAE,CAAC8B,UAAS,KAAMxC,EAAEuC,UAAU,QAAQ,OAAMnC,EAAAA,EAAAA,GAAE,EAACM,EAAAA,EAAAA,OAAKV,EAAEuC,UAAU,SAAS,OAAMnC,EAAAA,EAAAA,GAAE,EAACM,EAAAA,EAAAA,OAAKV,EAAEuC,UAAU,sBAAsB,MAAMvC,GAAEI,EAAAA,EAAAA,GAAE,EAACS,EAAAA,EAAAA,GAAE,0EAA0Eb,GAAG,MAAMyC,EAAEzC,C","sources":["../node_modules/@arcgis/core/widgets/LinkChartLayoutSwitcher/LinkChartLayoutSwitcherViewModel.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Error.js\";import o from\"../../core/Evented.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import{convertLayoutTypeToWebSupportedFormat as s}from\"../../layers/knowledgeGraph/supportUtils.js\";let a=class extends o.EventedAccessor{constructor(t){super(t),this._goToExtentController=null,this._scaleExtent=(t,e)=>{const o=t,r=(t.xmax-t.xmin)/2*(e-1),i=(t.ymax-t.ymin)/2*(e-1);return o.xmin=t.xmin-r,o.ymin=t.ymin-i,o.xmax=t.xmax+r,o.ymax=t.ymax+i,o},this.switchLayout=this.switchLayout.bind(this)}destroy(){this._cancelGoToExtent(),this.view=null}set view(t){this._set(\"view\",t),t&&t.when().then((()=>{if(this.view===t){if(!this.view.map.linkChartProperties)throw new e(\"linkChartLayoutSwitcher:error\",\"Link chart layouts are only supported on WebLinkCharts.\");this.layout=s(this.view.map.linkChartProperties.layoutType)}}))}get state(){return this.view?this.view.map.linkChartProperties?\"ready\":\"disabled\":\"loading\"}get layout(){return this._get(\"layout\")||\"organic-standard\"}set layout(t){this._set(\"layout\",t)}get preventExtentUpdate(){return this._get(\"preventExtentUpdate\")||!1}set preventExtentUpdate(t){this._set(\"preventExtentUpdate\",t)}async switchLayout(t){if(!this.view||!this.view.map)throw new e(\"linkChartLayoutSwitcher:loading-state\",\"Cannot change layout when link chart has not loaded.\");if(this.layout=t,await this.view.map.applyLayout(t),!this.preventExtentUpdate&&this.view.map.diagramNodesExtent){const e=\"geographic-organic-standard\"!==t?this._scaleExtent(this.view.map.diagramNodesExtent,1.4):this.view.map.diagramNodesExtent,r=new AbortController;this._goToExtentController=r;try{await this.view.when(),await this.view.goTo(e,{signal:r.signal})}catch(o){}this._goToExtentController=null}this.emit(\"switchLayout\",{layout:t})}_cancelGoToExtent(){const{_goToExtentController:t}=this;t&&t.abort(),this._goToExtentController=null}};t([r()],a.prototype,\"_goToExtentController\",void 0),t([r()],a.prototype,\"view\",null),t([r({readOnly:!0})],a.prototype,\"state\",null),t([r()],a.prototype,\"layout\",null),t([r()],a.prototype,\"preventExtentUpdate\",null),a=t([i(\"esri.widgets.LinkChartLayoutSwitcher.LinkChartLayoutSwitcherViewModel\")],a);const n=a;export{n as default};\n"],"names":["a","o","EventedAccessor","constructor","t","super","this","_goToExtentController","_scaleExtent","e","r","xmax","xmin","i","ymax","ymin","switchLayout","bind","destroy","_cancelGoToExtent","view","_set","when","then","map","linkChartProperties","layout","s","layoutType","state","_get","preventExtentUpdate","applyLayout","diagramNodesExtent","AbortController","goTo","signal","emit","abort","prototype","readOnly","n"],"sourceRoot":""}