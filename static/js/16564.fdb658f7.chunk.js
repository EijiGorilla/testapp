"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[16564,20033],{16564:(o,e,t)=>{t.r(e),t.d(e,{default:()=>_});var s=t(35143),i=t(19276),r=t(42553),l=t(53084),n=t(46053),a=t(40565),p=t(85842),c=t(69539),u=t(69098);t(81806),t(47249);let h=class extends(u.A.ClonableMixin(r.A)){constructor(){super(...arguments),this.color=c.default.fromArray([0,0,0,0]),this.value=0,this.enabled=!0,this.label="",this.colorLocked=!1}};(0,s._)([(0,n.MZ)({type:c.default,json:{type:[a.jz],write:{enabled:!0,isRequired:!0}}})],h.prototype,"color",void 0),(0,s._)([(0,n.MZ)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],h.prototype,"value",void 0),(0,s._)([(0,n.MZ)({type:Boolean,json:{default:!0,write:!0}})],h.prototype,"enabled",void 0),(0,s._)([(0,n.MZ)({type:String,json:{write:!0}})],h.prototype,"label",void 0),(0,s._)([(0,n.MZ)({type:Boolean,json:{default:!1,write:!0}})],h.prototype,"colorLocked",void 0),h=(0,s._)([(0,p.$)("esri.layers.voxel.VoxelIsosurface")],h);const d=h;var y=t(20033);let f=class extends(u.A.ClonableMixin(r.A)){constructor(){super(...arguments),this.color=c.default.fromArray([0,0,0,0]),this.value=0,this.enabled=!0,this.label=""}};(0,s._)([(0,n.MZ)({type:c.default,json:{type:[a.jz],write:{enabled:!0,isRequired:!0}}})],f.prototype,"color",void 0),(0,s._)([(0,n.MZ)({type:a.jz,json:{write:{enabled:!0,isRequired:!0}}})],f.prototype,"value",void 0),(0,s._)([(0,n.MZ)({type:Boolean,json:{default:!0,write:!0}})],f.prototype,"enabled",void 0),(0,s._)([(0,n.MZ)({type:String,json:{write:!0}})],f.prototype,"label",void 0),f=(0,s._)([(0,p.$)("esri.layers.voxel.VoxelUniqueValue")],f);const b=f;var v;let M=v=class extends r.A{constructor(o){super(o),this.variableId=0,this.label="",this.transferFunction=null,this.uniqueValues=null,this.isosurfaces=null,this.uniqueValues=new(i.default.ofType(b)),this.isosurfaces=new(i.default.ofType(d))}clone(){return new v({variableId:this.variableId,label:this.label,transferFunction:(0,l.clone)(this.transferFunction),uniqueValues:(0,l.clone)(this.uniqueValues),isosurfaces:(0,l.clone)(this.isosurfaces)})}};(0,s._)([(0,n.MZ)({type:a.jz,json:{write:{enabled:!0,isRequired:!0}}})],M.prototype,"variableId",void 0),(0,s._)([(0,n.MZ)({type:String,json:{write:!0}})],M.prototype,"label",void 0),(0,s._)([(0,n.MZ)({type:y.default,json:{write:{enabled:!0,overridePolicy(){return{enabled:!this.uniqueValues||this.uniqueValues.length<1}}}}})],M.prototype,"transferFunction",void 0),(0,s._)([(0,n.MZ)({type:i.default.ofType(b),json:{write:{enabled:!0,overridePolicy(){return{enabled:!!this.uniqueValues&&this.uniqueValues.length>0}}}}})],M.prototype,"uniqueValues",void 0),(0,s._)([(0,n.MZ)({type:i.default.ofType(d),json:{write:{enabled:!0,overridePolicy(){const o=!this.uniqueValues||this.uniqueValues.length<1,e=!!this.isosurfaces&&this.isosurfaces.length>0;return{enabled:o&&e}}}}})],M.prototype,"isosurfaces",void 0),M=v=(0,s._)([(0,p.$)("esri.layers.voxel.VoxelVariableStyle")],M);const _=M},20033:(o,e,t)=>{t.r(e),t.d(e,{default:()=>S});var s=t(35143),i=t(69539),r=t(69098),l=t(19276),n=t(3975),a=t(42553),p=t(15941),c=t(46053),u=(t(81806),t(76460),t(47249),t(85842)),h=t(40565);let d=class extends(r.A.ClonableMixin(a.A)){constructor(){super(...arguments),this.color=null,this.position=0}};(0,s._)([(0,c.MZ)({type:i.default,json:{type:[h.jz],write:{enabled:!0,isRequired:!0}}})],d.prototype,"color",void 0),(0,s._)([(0,c.MZ)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],d.prototype,"position",void 0),d=(0,s._)([(0,u.$)("esri.layers.voxel.VoxelColorStop")],d);const y=d;let f=class extends(r.A.ClonableMixin(a.A)){constructor(){super(...arguments),this.opacity=1,this.position=0}};(0,s._)([(0,c.MZ)({type:Number,json:{name:"alpha",write:{enabled:!0,isRequired:!0}}})],f.prototype,"opacity",void 0),(0,s._)([(0,c.MZ)({type:Number,json:{write:{enabled:!0,isRequired:!0}}})],f.prototype,"position",void 0),f=(0,s._)([(0,u.$)("esri.layers.voxel.VoxelOpacityStop")],f);const b=f;let v=class extends(r.A.ClonableMixin(a.A)){constructor(){super(...arguments),this.enabled=!1,this.range=null}};(0,s._)([(0,c.MZ)({type:Boolean,json:{default:!1,write:!0}})],v.prototype,"enabled",void 0),(0,s._)([(0,c.MZ)({type:[Number],json:{write:{isRequired:!0}}})],v.prototype,"range",void 0),v=(0,s._)([(0,u.$)("esri.layers.voxel.VoxelRangeFilter")],v);const M=v;var _,g;(g=_||(_={}))[g.Color=1]="Color",g[g.Alpha=2]="Alpha",g[g.Both=3]="Both";let w=class extends(r.A.ClonableMixin(a.A)){constructor(o){super(o),this.interpolation=null,this.stretchRange=null,this.rangeFilter=null,this._colorMapSize=256,this.colorStops=new(l.default.ofType(y)),this.opacityStops=new(l.default.ofType(b))}set colorStops(o){this._set("colorStops",(0,n.V)(o,this._get("colorStops"),l.default.ofType(y)))}set opacityStops(o){this._set("opacityStops",(0,n.V)(o,this._get("opacityStops"),l.default.ofType(b)))}getPreviousNext(o,e,t){let s=o;for(;--s>0&&e[s].type!==t&&e[s].type!==_.Both;);let i=o;const r=e.length;for(;++i<r&&e[i].type!==t&&e[i].type!==_.Both;);return[s,i]}get rasterizedTransferFunction(){const o=[];if(this.colorStops.length<2)return o;const e=[],t=[];for(const i of this.colorStops){if(!i.color)return o;t.push({color:{r:i.color.r,g:i.color.g,b:i.color.b,a:Math.round(255*(1-i.color.a))},position:i.position,type:_.Color})}if(0===this.opacityStops.length)for(const i of t)e.push({color:i.color,position:i.position});else{for(const e of this.opacityStops){const o=(0,p.qE)(e.position,0,1),s=Math.round(255*(0,p.qE)(1-e.opacity,0,1));let i=!1;for(const e of t)if(e.type===_.Color&&Math.abs(e.position-o)<1e-5){e.color.a=s,e.type=_.Both,i=!0;break}i||t.push({color:{r:0,g:0,b:0,a:s},position:e.position,type:_.Alpha})}t.sort(((o,e)=>o.position<e.position?-1:1));const o=t.length;for(let e=0;e<o;++e){const s=t[e];if(s.type!==_.Both)if(s.type===_.Color){const[i,r]=this.getPreviousNext(e,t,_.Alpha);if(-1!==i&&r!==o){const o=(s.position-t[i].position)/(t[r].position-t[i].position);s.color.a=Math.round((0,p.Cc)(t[i].color.a,t[r].color.a,o))}else s.color.a=-1!==i?t[i].color.a:t[r].color.a}else{const[i,r]=this.getPreviousNext(e,t,_.Color);if(-1!==i&&r!==o){const o=(s.position-t[i].position)/(t[r].position-t[i].position),e=t[i].color,l=t[r].color;j.forEach((t=>{s.color[t]=Math.round((0,p.Cc)(e[t],l[t],o))}))}else-1!==i?j.forEach((o=>{s.color[o]=t[i].color[o]})):j.forEach((o=>{s.color[o]=t[r].color[o]}))}}for(const s of t)e.push({color:s.color,position:s.position})}e[0].position=0,e[e.length-1].position=1;let s=0,r=1;for(let l=0;l<this._colorMapSize;++l){const t=l/this._colorMapSize;for(;t>e[r].position;)s=r++;const n=(t-e[s].position)/(e[r].position-e[s].position),a=e[s].color,c=e[r].color,u=new i.default;j.forEach((o=>{u[o]=Math.round((0,p.Cc)(a[o],c[o],n))})),u.a=(0,p.qE)(1-(0,p.Cc)(a.a,c.a,n)/255,0,1),o.push(u)}return o}getColorForContinuousDataValue(o,e){const t=this.rasterizedTransferFunction;if(this.colorStops.length<2||!Array.isArray(this.stretchRange)||this.stretchRange.length<2||t.length<256)return null;let s=this.stretchRange[0],i=this.stretchRange[1];if(s>i){const o=s;s=i,i=o}o=(0,p.qE)(o,s,i);const r=t[Math.round((o-s)/(i-s)*(this._colorMapSize-1))].clone();return e||(r.a=1),r}};(0,s._)([(0,c.MZ)({type:["linear","nearest"],json:{write:!0}})],w.prototype,"interpolation",void 0),(0,s._)([(0,c.MZ)({type:[Number],json:{write:{enabled:!0,isRequired:!0}}})],w.prototype,"stretchRange",void 0),(0,s._)([(0,c.MZ)({type:l.default.ofType(y),json:{write:{enabled:!0,overridePolicy(){return{enabled:!!this.colorStops&&this.colorStops.length>0}}}}})],w.prototype,"colorStops",null),(0,s._)([(0,c.MZ)({type:l.default.ofType(b),json:{read:{source:"alphaStops"},write:{enabled:!0,target:"alphaStops",overridePolicy(){return{enabled:!!this.opacityStops&&this.opacityStops.length>0}}}}})],w.prototype,"opacityStops",null),(0,s._)([(0,c.MZ)({type:M,json:{write:!0}})],w.prototype,"rangeFilter",void 0),(0,s._)([(0,c.MZ)({type:[i.default],clonable:!1,json:{read:!1}})],w.prototype,"rasterizedTransferFunction",null),w=(0,s._)([(0,u.$)("esri.layers.voxel.VoxelTransferFunctionStyle")],w);const S=w,j=["r","g","b"]}}]);
//# sourceMappingURL=16564.fdb658f7.chunk.js.map