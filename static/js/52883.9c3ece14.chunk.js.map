{"version":3,"file":"static/js/52883.9c3ece14.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/rest/support/IdentifyParameters.js","../node_modules/@arcgis/core/rest/operations/identify.js","../node_modules/@arcgis/core/rest/identify.js","../node_modules/@arcgis/core/rest/support/IdentifyResult.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Collection.js\";import o from\"../../core/JSONSupport.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import{ensureClass as i}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as s}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import n from\"../../geometry/Extent.js\";import l from\"../../geometry/SpatialReference.js\";import{fromJSON as m}from\"../../geometry/support/jsonUtils.js\";import{geometryTypes as y}from\"../../geometry/support/typeUtils.js\";import a from\"../../time/TimeExtent.js\";var u;let d=u=class extends o{static from(t){return i(u,t)}constructor(t){super(t),this.dpi=96,this.floors=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=null,this.height=400,this.historicMoment=null,this.layerIds=null,this.layerOption=\"top\",this.mapExtent=null,this.maxAllowableOffset=null,this.returnFieldName=!0,this.returnGeometry=!1,this.returnM=!1,this.returnUnformattedValues=!0,this.returnZ=!1,this.spatialReference=null,this.sublayers=null,this.timeExtent=null,this.tolerance=null,this.width=400}writeHistoricMoment(t,e){e.historicMoment=t&&t.getTime()}};t([r({type:Number,json:{write:!0}})],d.prototype,\"dpi\",void 0),t([r()],d.prototype,\"floors\",void 0),t([r({type:String,json:{write:!0}})],d.prototype,\"gdbVersion\",void 0),t([r({types:y,json:{read:m,write:!0}})],d.prototype,\"geometry\",void 0),t([r({type:Number,json:{write:!0}})],d.prototype,\"geometryPrecision\",void 0),t([r({type:Number,json:{write:!0}})],d.prototype,\"height\",void 0),t([r({type:Date})],d.prototype,\"historicMoment\",void 0),t([p(\"historicMoment\")],d.prototype,\"writeHistoricMoment\",null),t([r({type:[Number],json:{write:!0}})],d.prototype,\"layerIds\",void 0),t([r({type:[\"top\",\"visible\",\"all\",\"popup\"],json:{write:!0}})],d.prototype,\"layerOption\",void 0),t([r({type:n,json:{write:!0}})],d.prototype,\"mapExtent\",void 0),t([r({type:Number,json:{write:!0}})],d.prototype,\"maxAllowableOffset\",void 0),t([r({type:Boolean,json:{write:!0}})],d.prototype,\"returnFieldName\",void 0),t([r({type:Boolean,json:{write:!0}})],d.prototype,\"returnGeometry\",void 0),t([r({type:Boolean,json:{write:!0}})],d.prototype,\"returnM\",void 0),t([r({type:Boolean,json:{write:!0}})],d.prototype,\"returnUnformattedValues\",void 0),t([r({type:Boolean,json:{write:!0}})],d.prototype,\"returnZ\",void 0),t([r({type:l,json:{write:!0}})],d.prototype,\"spatialReference\",void 0),t([r({type:e})],d.prototype,\"sublayers\",void 0),t([r({type:a,json:{write:!0}})],d.prototype,\"timeExtent\",void 0),t([r({type:Number,json:{write:!0}})],d.prototype,\"tolerance\",void 0),t([r({type:Number,json:{write:!0}})],d.prototype,\"width\",void 0),d=u=t([s(\"esri.rest.support.IdentifyParameters\")],d);const c=d;export{c as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{sqlAnd as e}from\"../../core/sql.js\";import{getJsonType as t}from\"../../geometry/support/jsonUtils.js\";import{getScale as r}from\"../../geometry/support/scaleUtils.js\";import{srToRESTValue as i}from\"../../geometry/support/spatialReferenceUtils.js\";import{getLayerFloorFilterClause as n}from\"../../layers/support/floorFilterUtils.js\";import{isExportDynamic as s}from\"../../layers/support/sublayerUtils.js\";function o(e,r){const{dpi:n,gdbVersion:s,geometry:o,geometryPrecision:a,height:m,historicMoment:p,layerOption:f,mapExtent:y,maxAllowableOffset:u,returnFieldName:c,returnGeometry:d,returnUnformattedValues:g,returnZ:x,spatialReference:h,timeExtent:b,tolerance:E,width:O}=e.toJSON(),{dynamicLayers:S,layerDefs:j,layerIds:N}=l(e),$=null!=r?.geometry?r.geometry:null,I={historicMoment:p,geometryPrecision:a,maxAllowableOffset:u,returnFieldName:c,returnGeometry:d,returnUnformattedValues:g,returnZ:x,tolerance:E},R=$?.toJSON()||o;I.imageDisplay=`${O},${m},${n}`,s&&(I.gdbVersion=s),R&&(delete R.spatialReference,I.geometry=JSON.stringify(R),I.geometryType=t(R));const U=h??R?.spatialReference??y?.spatialReference;if(U&&(I.sr=i(U)),I.time=b?[b.start,b.end].join(\",\"):null,y){const{xmin:e,ymin:t,xmax:r,ymax:i}=y;I.mapExtent=`${e},${t},${r},${i}`}return j&&(I.layerDefs=j),S&&!j&&(I.dynamicLayers=S),I.layers=\"popup\"===f?\"visible\":f,N&&!S&&(I.layers+=`:${N.join(\",\")}`),I}function l(e){const{mapExtent:t,floors:i,width:o,sublayers:l,layerIds:m,layerOption:p,gdbVersion:f}=e,y=l?.find((e=>null!=e.layer))?.layer?.serviceSublayers,u=\"popup\"===p,c={},d=r({extent:t,width:o,spatialReference:t?.spatialReference}),g=[],x=e=>{const t=0===d,r=0===e.minScale||d<=e.minScale,i=0===e.maxScale||d>=e.maxScale;if(e.visible&&(t||r&&i))if(e.sublayers)e.sublayers.forEach(x);else{if(!1===m?.includes(e.id)||u&&(!e.popupTemplate||!e.popupEnabled))return;g.unshift(e)}};if(l?.forEach(x),l&&!g.length)c.layerIds=[];else{const e=s(g,y,f),t=g.map((e=>{const t=n(i,e);return e.toExportImageJSON(t)}));if(e)c.dynamicLayers=JSON.stringify(t);else{if(l){let e=g.map((({id:e})=>e));m&&(e=e.filter((e=>m.includes(e)))),c.layerIds=e}else m?.length&&(c.layerIds=m);const e=a(i,g);if(null!=e&&e.length){const t={};for(const r of e)r.definitionExpression&&(t[r.id]=r.definitionExpression);Object.keys(t).length&&(c.layerDefs=JSON.stringify(t))}}}return c}function a(t,r){const i=!!t?.length,s=r.filter((e=>null!=e.definitionExpression||i&&null!=e.floorInfo));return s.length?s.map((r=>{const i=n(t,r),s=e(i,r.definitionExpression);return{id:r.id,definitionExpression:s??void 0}})):null}export{o as identifyToIdentifyRESTParameters,l as toDynamicLayersJSON};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport r from\"../request.js\";import{normalizeCentralMeridian as e}from\"../geometry/support/normalizeUtils.js\";import{parseUrl as t,encode as o,asValidOptions as s}from\"./utils.js\";import{identifyToIdentifyRESTParameters as n}from\"./operations/identify.js\";import u from\"./support/IdentifyParameters.js\";import i from\"./support/IdentifyResult.js\";async function f(u,i,f){const c=(i=a(i)).geometry?[i.geometry]:[],l=t(u);return l.path+=\"/identify\",e(c).then((e=>{const t=n(i,{geometry:e?.[0]}),u=o({...l.query,f:\"json\",...t}),a=s(u,f);return r(l.path,a).then(m).then((r=>p(r,i.sublayers)))}))}function m(r){const e=r.data;return e.results=e.results||[],e.exceededTransferLimit=Boolean(e.exceededTransferLimit),e.results=e.results.map((r=>i.fromJSON(r))),e}function a(r){return r=u.from(r)}function p(r,e){if(!e?.length)return r;const t=new Map;function o(r){t.set(r.id,r),r.sublayers&&r.sublayers.forEach(o)}e.forEach(o);for(const s of r.results)s.feature.sourceLayer=t.get(s.layerId);return r}export{f as identify};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../chunks/tslib.es6.js\";import e from\"../../Graphic.js\";import t from\"../../core/JSONSupport.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{reader as s}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as p}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../../core/accessorSupport/decorators/writer.js\";import{typeKebabDictionary as i}from\"../../geometry/support/typeUtils.js\";let u=class extends t{constructor(r){super(r),this.displayFieldName=null,this.feature=null,this.layerId=null,this.layerName=null}readFeature(r,t){return e.fromJSON({attributes:{...t.attributes},geometry:{...t.geometry}})}writeFeature(r,e){if(!r)return;const{attributes:t,geometry:o}=r;t&&(e.attributes={...t}),null!=o&&(e.geometry=o.toJSON(),e.geometryType=i.toJSON(o.type))}};r([o({type:String,json:{write:!0}})],u.prototype,\"displayFieldName\",void 0),r([o({type:e})],u.prototype,\"feature\",void 0),r([s(\"feature\",[\"attributes\",\"geometry\"])],u.prototype,\"readFeature\",null),r([a(\"feature\")],u.prototype,\"writeFeature\",null),r([o({type:Number,json:{write:!0}})],u.prototype,\"layerId\",void 0),r([o({type:String,json:{write:!0}})],u.prototype,\"layerName\",void 0),u=r([p(\"esri.rest.support.IdentifyResult\")],u);const m=u;export{m as default};\n"],"names":["u","d","o","from","t","i","constructor","super","this","dpi","floors","gdbVersion","geometry","geometryPrecision","height","historicMoment","layerIds","layerOption","mapExtent","maxAllowableOffset","returnFieldName","returnGeometry","returnM","returnUnformattedValues","returnZ","spatialReference","sublayers","timeExtent","tolerance","width","writeHistoricMoment","e","getTime","r","type","Number","json","write","prototype","String","types","y","read","m","Date","p","n","Boolean","l","a","s","c","f","g","x","h","b","E","O","toJSON","dynamicLayers","S","layerDefs","j","N","$","I","R","imageDisplay","JSON","stringify","geometryType","U","sr","time","start","end","join","xmin","ymin","xmax","ymax","layers","find","layer","serviceSublayers","extent","minScale","maxScale","visible","forEach","includes","id","popupTemplate","popupEnabled","unshift","length","map","toExportImageJSON","_ref","filter","definitionExpression","floorInfo","Object","keys","async","path","then","query","Map","set","results","feature","sourceLayer","get","layerId","data","exceededTransferLimit","fromJSON","displayFieldName","layerName","readFeature","attributes","writeFeature"],"sourceRoot":""}