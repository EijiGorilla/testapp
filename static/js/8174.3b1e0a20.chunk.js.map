{"version":3,"file":"static/js/8174.3b1e0a20.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/webgl/heatmapTextureUtils.js","../node_modules/@arcgis/core/layers/graphics/data/BoundsStore.js","../node_modules/@arcgis/core/views/3d/layers/support/featureReference.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTile.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3D.js","../node_modules/@arcgis/core/views/3d/layers/support/FeatureTileFetcher3DDebugger.js","../node_modules/@arcgis/core/layers/graphics/controllers/FeatureTileController3D.js","../node_modules/@arcgis/core/views/3d/layers/graphics/elevationAlignPointsInFeatures.js","../node_modules/@arcgis/core/chunks/HeatmapDensity.glsl.js","../node_modules/@arcgis/core/rest/query/operations/query.js","../node_modules/@arcgis/core/portal/support/geometryServiceUtils.js","../node_modules/@arcgis/core/views/3d/layers/support/projectExtentUtils.js","../node_modules/@arcgis/core/views/3d/layers/graphics/queryForSymbologySnapping.js","../node_modules/@arcgis/core/views/3d/support/EventedSet.js","../node_modules/@arcgis/core/layers/graphics/data/FeatureStore.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DrapedHeatmapRenderer.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapDensityTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/HeatmapDensityTechniqueConfiguration.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/HeatmapDensityMaterial.js","../node_modules/@arcgis/core/views/3d/layers/support/HeatmapFeatureProcessor.js","../node_modules/@arcgis/core/views/3d/layers/graphics/Graphics3DGraphicsPipeline.js","../node_modules/@arcgis/core/rest/operations/urlUtils.js","../node_modules/@arcgis/core/chunks/Heatmap.glsl.js","../node_modules/@arcgis/core/views/3d/layers/FeatureLikeLayerView3D.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{PixelType as t,TextureSamplingMode as r,PixelFormat as o,SizedPixelFormat as a}from\"./enums.js\";class l{constructor(e,t,r,o){this.dataType=e,this.samplingMode=t,this.pixelFormat=r,this.internalFormat=o}}function n(n,i){const{textureFloatLinear:s,colorBufferFloat:f}=n.capabilities,u=f?.textureFloat,_=f?.textureHalfFloat,c=f?.floatBlend,m=n.driverTest.floatBufferBlend.result;if(!u&&!_)throw new e(\"heatmap:missing-color-buffer-float\",\"HeatmapRenderer requires the WebGL extension EXT_color_buffer_float or EXT_color_buffer_half_float or WEBGL_color_buffer_float.\");if(!(c&&m||_))throw new e(\"heatmap:missing-float-blend\",\"HeatmapRenderer requires the WebGL extension EXT_float_blend or EXT_color_buffer_half_float.\"+(m?\"\":\" This device claims support for EXT_float_blend, but does not actually support it.\"));const p=u&&c&&m,d=_,R=s,h=!!f?.R32F,b=!!f?.R16F;if(p&&R)return R||i.warnOnce(\"Missing WebGL extension OES_texture_float_linear. Heatmap quality may be reduced.\"),new l(t.FLOAT,R?r.LINEAR:r.NEAREST,h?o.RED:o.RGBA,h?a.R32F:o.RGBA);if(d)return new l(t.HALF_FLOAT,r.LINEAR,b?o.RED:o.RGBA,b?a.R16F:o.RGBA);throw new e(\"heatmap:missing-hardware-support\",\"HeatmapRenderer requires WebGL extensions that allow it to render and blend to float or half float textures.\")}const i=new l(t.HALF_FLOAT,r.NEAREST,o.RGBA,o.RGBA);export{l as HeatmapTextureConfiguration,i as fallBackHeatmapConfiguration,n as loadHeatmapTextureConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport has from\"../../../core/has.js\";import{PooledRBush as i}from\"../../../core/libs/rbush/PooledRBush.js\";import{empty as s}from\"../../../geometry/support/aaBoundingRect.js\";const d=5e4,n={minX:0,minY:0,maxX:0,maxY:0};function t(i){n.minX=i[0],n.minY=i[1],n.maxX=i[2],n.maxY=i[3]}function e(i,s,d){t(s),i.search(n,d)}class o{constructor(){this._indexInvalid=!1,this._boundsToLoad=[],this._boundsById=new Map,this._idByBounds=new Map,this._index=new i(9,has(\"esri-csp-restrictions\")?i=>({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3]}):[\"[0]\",\"[1]\",\"[2]\",\"[3]\"]),this._loadIndex=()=>{if(this._indexInvalid){const i=new Array(this._idByBounds.size);let s=0;this._idByBounds.forEach(((d,n)=>{i[s++]=n})),this._indexInvalid=!1,this._index.clear(),this._index.load(i)}else this._boundsToLoad.length&&(this._index.load(Array.from(new Set(this._boundsToLoad.filter((i=>this._idByBounds.has(i)))))),this._boundsToLoad.length=0)}}get fullBounds(){if(!this._boundsById.size)return null;const i=s();for(const s of this._boundsById.values())s&&(i[0]=Math.min(s[0],i[0]),i[1]=Math.min(s[1],i[1]),i[2]=Math.max(s[2],i[2]),i[3]=Math.max(s[3],i[3]));return i}get valid(){return!this._indexInvalid}clear(){this._indexInvalid=!1,this._boundsToLoad.length=0,this._boundsById.clear(),this._idByBounds.clear(),this._index.clear()}delete(i){const s=this._boundsById.get(i);this._boundsById.delete(i),s&&(this._idByBounds.delete(s),this._indexInvalid||this._index.remove(s))}forEachInBounds(i,s){this._loadIndex(),e(this._index,i,(i=>s(this._idByBounds.get(i))))}get(i){return this._boundsById.get(i)}has(i){return this._boundsById.has(i)}invalidateIndex(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)}set(i,s){if(!this._indexInvalid){const s=this._boundsById.get(i);s&&(this._index.remove(s),this._idByBounds.delete(s))}this._boundsById.set(i,s),s&&(this._idByBounds.set(s,i),this._indexInvalid||(this._boundsToLoad.push(s),this._boundsToLoad.length>d&&this._loadIndex()))}}export{o as BoundsStore};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Error.js\";import\"../../../../core/has.js\";import\"../../../../geometry/SpatialReference.js\";import\"../../../../geometry/support/aaBoundingBox.js\";import\"../../../../core/mathUtils.js\";import\"../../../../geometry/Extent.js\";import\"../../../../geometry/Geometry.js\";import\"../../../../geometry/Multipoint.js\";import\"../../../../geometry/Point.js\";import\"../../../../geometry/Polygon.js\";import\"../../../../geometry/Polyline.js\";import\"../../../../geometry/support/typeUtils.js\";import\"../../../../layers/support/Field.js\";import{equals as t}from\"../../../../layers/graphics/dehydratedFeatureComparison.js\";class r{constructor(e,t){this.feature=e,this.resolution=t,this.refCount=1}}class s{get isReferenced(){return 0!==this.versions.length}get isSingle(){return 1===this.versions.length&&1===this.versions[0].refCount}constructor(e,t){this._highestResolutionVersion=null,this.versions=[],this.ref(e,t)}ref(e,s){const o=this.feature;n.oldVersion=o,o&&Object.defineProperty(e,\"uid\",{value:o.uid,configurable:!0});const i=this._highestResolutionVersion;for(const r of this.versions)if(r.resolution===s){r.refCount++;const s=i===r&&!t(e,r.feature);return(s||i!==r)&&(r.feature=e),n.newVersion=s?e:o,n}const u=new r(e,s);return this.versions.push(u),!i||s<i.resolution?(n.newVersion=e,this._highestResolutionVersion=u):n.newVersion=o,n}unref(t){const{versions:r}=this;for(let e=0;e<r.length;e++){const s=r[e];if(s.resolution===t)return s.refCount--,i.oldVersion=this.feature,0===s.refCount&&(r[e]=r[r.length-1],--r.length,this._highestResolutionVersion===s&&(this._recalculateHighestResolutionVersion(),i.oldVersion=s.feature)),i.newVersion=this.feature,i}const s=`Unref feature with no references: ${this.feature?.uid}`;throw new e(s,s,(new Error).stack?.slice(6))}get feature(){return this._highestResolutionVersion?.feature??null}_recalculateHighestResolutionVersion(){if(0===this.versions.length)return void(this._highestResolutionVersion=null);let e=this.versions[0];for(let t=1;t<this.versions.length;t++){const r=this.versions[t];r.resolution<e.resolution&&(e=r)}this._highestResolutionVersion=e}}class o{get isReferenced(){return 0!==this._refCount}get isSingle(){return 1===this._refCount}constructor(e){this._feature=e,this._refCount=1}ref(e){++this._refCount;const r=this._feature;return n.oldVersion=r,r&&Object.defineProperty(e,\"uid\",{value:r.uid,configurable:!0}),t(r,e)||(this._feature=e),n.newVersion=this._feature,n}unref(){i.oldVersion=this._feature;const t=this._refCount;if(!(t>0)){const t=`Unref feature with no references: ${this.feature?.uid}`;throw new e(t,t,(new Error).stack?.slice(6))}return this._refCount=t-1,1===t?(i.newVersion=null,i):(i.newVersion=this._feature,i)}get feature(){return this._feature}}const i={oldVersion:null,newVersion:null},n={oldVersion:null,newVersion:null};export{r as FeatureVersion,s as MultiFeatureReference,o as SingleFeatureReference};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{shuffle as t}from\"../../../../core/arrayUtils.js\";import{baseObjectMemory as e}from\"../../../../core/memoryEstimations.js\";import{signal as s}from\"../../../../core/signal.js\";import{create as i,fromExtent as r,intersects as u,copy as a,positiveInfinity as h,intersection as n}from\"../../../../geometry/support/aaBoundingRect.js\";import{numVertices as f,estimateSize as l,getObjectId as _}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{computeMaxZ as m}from\"../graphics/graphicUtils.js\";const d=16438;class c{constructor(t){this.descriptor=t,this.fetchStatus=F.FETCH_NEEDED,this._numVertices=0,this._featuresMissing=s(!0),this._fetchFailed=s(!1),this._shuffled=!1,this._numFeatures=o,this._emptyFeatureRatio=s(0),this._estimatedSize=-1,this._estimatedUnusedSize=0,this._estimatedUnusedSizeDirty=!1,this._displayingFeatures=null,this.alive=!0,this.filtered=!1,this._features=null,this._featuresLength=s(0),this._featureLimit=s(0),this.fetchingResolution=this.displayingResolution=t.resolution}get featuresMissing(){return this._featuresMissing.value}set featuresMissing(t){this._featuresMissing.value=t}get missingAttributes(){return this._missingAttributes}get fetchFailed(){return this._fetchFailed.value}set fetchFailed(t){this._fetchFailed.value=t}get displayingFeatures(){return this._displayingFeatures}set displayingFeatures(t){this._displayingFeatures=t,this.extentIncludingBorrowedFeatures=null}get perTileMaximumNumberOfFeaturesExceeded(){const t=(this.fetchStatus===F.DONE||this.fetchStatus===F.FULL)&&this.featuresMissing;return!this.filtered&&(t||this.hasFeatureLimit)}get features(){return this._features}get featureLimit(){return this._featureLimit.value}set featureLimit(t){this._featureLimit.value!==t&&(this._featureLimit.value=t,this._estimatedUnusedSizeDirty=!0)}get hasFeatureLimit(){return this.featureLimit!==this._featuresLength.value}get hasAllFeatures(){return!(this.featuresMissing||this.fetchFailed||this.hasFeatureLimit)}get availableFields(){return this._availableFields}setFeatures(t,e,s,i){this._availableFields=s,this._features=t,this._featuresLength.value=t?.length??0,this._shuffled=!1,this._estimatedSize=-1,this._estimatedUnusedSizeDirty=!0,this._missingAttributes=i,t&&t.length>0?(this._emptyFeatureRatio.value=e/(t.length+e),this._numVertices=t.reduce(((t,e)=>t+f(e.geometry)),0)):(this._emptyFeatureRatio.value=0,this._numVertices=0)}computeZQuantizationFactor(){if(this._features&&this._features.length>0){const t=this._features.reduce(((t,{geometry:e})=>Math.max(t,m(e)??0)),0);return Math.floor(t/this.descriptor.planetRadius)+1}return 1}get emptyFeatureRatio(){return this._emptyFeatureRatio.value}get numFeatures(){return this.hasPreciseFeatureCount?this._numFeatures:this._features?this._features.length:0}set numFeatures(t){this._numFeatures=t}get hasPreciseFeatureCount(){return this._numFeatures>o}get needsFeatureCount(){return this._numFeatures===o}get numVertices(){return this._numVertices}get id(){return this.descriptor.id}get estimatedSize(){return this.updateMemoryEstimates(),this._estimatedSize}get estimatedUnusedSize(){return this._estimatedUnusedSize}updateMemoryEstimates(){if(this._estimatedSize<0){if(this._estimatedSize=0,this._estimatedUnusedSize=0,this._features)for(let t=0;t<this._features.length;++t){const e=l(this._features[t]);this._estimatedSize+=e,t>=this.featureLimit&&(this._estimatedUnusedSize+=e)}return!0}if(this._estimatedUnusedSizeDirty){if(this._estimatedUnusedSize=0,this._estimatedUnusedSizeDirty=!1,this._features)for(let t=this.featureLimit;t<this._features.length;++t)this._estimatedUnusedSize+=l(this._features[t]);return!0}return!1}get isFetching(){return this.fetchStatus===F.FETCHING||this.fetchStatus===F.REFETCHING}get isRefetching(){return this.fetchStatus===F.REFETCHING}get needsFetch(){return this.fetchStatus===F.FETCH_NEEDED||this.fetchStatus===F.REFETCH_NEEDED}get needsRefetch(){return this.fetchStatus===F.REFETCH_NEEDED}get isFetched(){return this.fetchStatus===F.DONE||this.fetchStatus===F.FULL}resetFetching(){this.fetchStatus=this.fetchStatus===F.REFETCHING?F.REFETCH_NEEDED:F.FETCH_NEEDED}get needsDisplayUpdate(){return!!this._features&&!S(this._features,this.displayingFeatures,this.featureLimit)}intersects(t){return null==t||!this.descriptor.extent||(r(t,p),u(this.descriptor.extent,p))}intersectionIncludingBorrowed(t,e){const s=null!=this.extentIncludingBorrowedFeatures?this.extentIncludingBorrowedFeatures:this.descriptor.extent;return t||s?(null!=t?(r(t,e),n(e,s,e)):a(e,s),e):(a(e,h),e)}_shuffle(e){this._features&&(this._features.sort(((t,s)=>_(t,e)-_(s,e))),t(this._features,d),this._shuffled=!0,this._estimatedUnusedSizeDirty=!0)}reduceFeatures(t,e,s){if(t<=0)return!1;if(!this._features)return this.featureLimit=0,!1;let i=!1;this.featureLimit=Math.ceil(this.numFeatures*t),this.featureLimit>this._features.length&&(this.featureLimit=this._features.length,this.fetchStatus===F.DONE&&this._features.length>0&&(this.fetchStatus=F.REFETCH_NEEDED,i=!0)),!this._shuffled&&t<1&&this._shuffle(s);const r=Math.max(this.featureLimit,Math.ceil(e*this.numFeatures));return this._features.length>r&&(this._features.length=r,this._featuresLength.value=r,this.featuresMissing=!0,this.fetchStatus===F.FULL&&(this.fetchStatus=F.DONE)),i}get cache(){return new E(this,this._features,this._numFeatures,this._emptyFeatureRatio.value)}set cache(t){this.requestController=null,this._availableFields=t.availableFields,this._features=t.features,this._featuresLength.value=t.features?.length??0,this._numFeatures=t.numFeatures,this._emptyFeatureRatio.value=t.emptyFeatureRatio,this.fetchStatus=t.fetchStatus,this.featuresMissing=t.featuresMissing,this._estimatedSize=-1,this._estimatedUnusedSizeDirty=!0}}const o=-1,g=-2;var F;!function(t){t[t.FETCH_NEEDED=0]=\"FETCH_NEEDED\",t[t.REFETCH_NEEDED=1]=\"REFETCH_NEEDED\",t[t.FETCHING=2]=\"FETCHING\",t[t.REFETCHING=3]=\"REFETCHING\",t[t.DONE=4]=\"DONE\",t[t.FULL=5]=\"FULL\"}(F||(F={}));class E{constructor(t,s,i,r){this.features=s,this.numFeatures=i,this.emptyFeatureRatio=r,this.cachedMemory=e+t.estimatedSize,this.resolution=t.displayingResolution,this.availableFields=t.availableFields,this.fetchStatus=t.fetchStatus,this.featuresMissing=t.featuresMissing}}function S(t,e,s){if(null==e||null==t||s!==e.length||s>t.length)return!1;for(let i=0;i<s;++i)if(t[i]!==e[i])return!1;return!0}const p=i();export{c as FeatureTile,E as FeatureTileCacheItem,F as FetchStatus,g as failedFeatureCount};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Accessor.js\";import{filterInPlace as s}from\"../../../../core/arrayUtils.js\";import\"../../../../core/has.js\";import i from\"../../../../core/Logger.js\";import{getOrCreateMapValue as r}from\"../../../../core/MapUtils.js\";import{isAbortError as a,throwIfAborted as n}from\"../../../../core/promiseUtils.js\";import o from\"../../../../core/ReactiveMap.js\";import{on as u,watch as l}from\"../../../../core/reactiveUtils.js\";import{schedule as h}from\"../../../../core/scheduling.js\";import{signal as d}from\"../../../../core/signal.js\";import{sqlAnd as c}from\"../../../../core/sql.js\";import{property as p}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as f}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as _,equals as m,clone as g,expand as F,toExtent as y}from\"../../../../geometry/support/aaBoundingRect.js\";import{getObjectId as T,hasVertices as x}from\"../../../../layers/graphics/dehydratedFeatures.js\";import E from\"../../../../rest/support/QuantizationParameters.js\";import R from\"../../../../rest/support/Query.js\";import{ViewingMode as v}from\"../../../ViewingMode.js\";import{MultiFeatureReference as b,SingleFeatureReference as C}from\"./featureReference.js\";import{failedFeatureCount as D,FetchStatus as M,FeatureTile as w}from\"./FeatureTile.js\";import{tilesAreRelated as U}from\"../../terrain/tileUtils.js\";import{ImmediateTask as O,TaskPriority as j}from\"../../../support/Scheduler.js\";let A=class extends t{set maximumNumberOfFeatures(e){e=e||1/0;const t=this._get(\"maximumNumberOfFeatures\");e===t||e<1||(this._set(\"maximumNumberOfFeatures\",e),this._maximumFeaturesUpdated(t,e))}set memoryFactor(e){this.memoryFactor!==e&&(this._set(\"memoryFactor\",e),this._setDirty())}set lodFactor(e){this.lodFactor!==e&&(this._set(\"lodFactor\",e),this._supportsResolution&&this.refetch())}get useTileCount(){return this._useTileCount&&null!=this.context.query.queryFeatureCount}set useTileCount(e){this._useTileCount=e,this.notifyChange(\"useTileCount\")}get updating(){return this._dirty||!!this._pendingEdits||this._isFetching||(this.tileDescriptors?.updating??!1)}get memoryForUnusedFeatures(){let e=0;return this._featureTiles.forEach((t=>e+=t.estimatedUnusedSize)),e}get totalVertices(){let e=0;return this._featureTiles.forEach((t=>e+=t.numVertices)),e}get totalFeatures(){let e=0;return this._featureTiles.forEach((t=>e+=t.numFeatures)),e}get hasAllFeatures(){if(this._paused||this.dataUpdating)return!1;for(const e of this._featureTiles.values())if(!this.hasFullGeometries&&0!==e.emptyFeatureRatio||!e.hasAllFeatures)return!1;return!0}get hasFullGeometries(){if(!this._supportsResolution)return!0;return this.tileDescriptors.some(P)||!this.context.capabilities.supportsQuantization&&\"polyline\"!==this.context.geometryType}set filterExtent(e){if(null!=e&&this.context.tilingScheme&&!e.spatialReference.equals(this.context.tilingScheme.spatialReference))return void i.getLogger(this).error(\"#filterExtent=\",\"extent needs to be in the same spatial reference as the tiling scheme\");const t=this._get(\"filterExtent\");if(t===e||null!=t&&e&&t.equals(e))return;const s=null!=e?e.clone():null;this._set(\"filterExtent\",s),this._reclip(s,t)}_updateTileZQuantization(e){if(this.context.viewingMode===v.Global){const t=e.computeZQuantizationFactor();this._zQuantizationFactor.value<t&&(this._zQuantizationFactor.value=t)}}get _tileZQuantization(){return this.context.isDraped?1:this._zQuantizationFactor.value}constructor(e){super(e),this._useTileCount=!1,this.dataUpdating=!1,this.running=!1,this.updatingTotal=0,this.updatingRemaining=0,this.expectedFeatureDiff=0,this.maximumNumberOfFeaturesExceeded=!1,this._fullRatio=1,this._farRatio=1,this._zQuantizationFactor=d(1),this._changes={updates:{adds:new Array,removes:new Array},adds:new Array,removes:new Array},this._frameTask=O,this._featureTiles=new o,this._displayingFeatureReferences=new Map,this._numDisplayingFeatureReferences=0,this._dirty=!1,this._suspended=!0,this._pendingEdits=null,this._applyEditsTilesUpdated=!1,this._isFetching=!1}initialize(){this.addHandles([u((()=>this.tileDescriptors),\"change\",(()=>this._setDirty()),{sync:!0,onListenerAdd:()=>this._setDirty()}),l((()=>this._tileZQuantization),(()=>this.refetch()))]),this._objectIdField=this.context.objectIdField,this.FeatureReferenceClass=this.context.capabilities.supportsMultipleResolutions?b:C;const e=this.context.scheduler;null!=e&&(this._frameTask=e.registerTask(j.FEATURE_TILE_FETCHER,this)),this._setDirty()}destroy(){this._frameTask.remove(),this._featureTiles.forEach((e=>{this._cancelFetchTile(e),this._removeTile(e)})),this._featureTiles.clear(),this._displayingFeatureReferences.clear(),this._pendingEdits?.controller.abort(),this._pendingEdits=null}get _paused(){return this._suspended||!!this._pendingEdits}restart(){this._featureTiles.forEach((e=>{this._cancelFetchTile(e),this._clearTile(e),this._resetFetchTile(e)})),null!=this.context.memoryCache&&this.context.memoryCache.clear(),this._setDirty()}refetch(){this._featureTiles.forEach((e=>{this._cancelFetchTile(e),this._resetFetchTile(e)})),null!=this.context.memoryCache&&this.context.memoryCache.clear(),this._setDirty()}suspend(){this._suspended||(this._suspended=!0,this._pause(),this._setDirty())}resume(){this._suspended&&(this._suspended=!1,this._unpause())}getMissingAttributesForFeature(e){for(const t of this._featureTiles.values()){const s=t.missingAttributes?.get(e);if(null!=s)return s}}_pause(){this._paused&&(this._featureTiles.forEach((e=>this._cancelFetchTile(e))),this._updated())}_unpause(){this._paused||this._setDirty()}get availableFields(){let e=null;return this._featureTiles.forEach((t=>{null!=t.displayingFeatures&&0!==t.displayingFeatures.length&&(null==e?e=new Set(t.availableFields):e.forEach((s=>{t.availableFields?.has(s)||e.delete(s)})))})),null!=e?e:new Set}applyEdits(e){this._pendingEdits||(this._pendingEdits={edits:Promise.resolve(),count:0,controller:new AbortController},this._pause());const t=this._pendingEdits;t.count++;const s=t.edits.then((()=>e.result.catch((e=>{if(a(e))throw e;return null})).then((e=>e?(this._applyEditsDeleteFeatures(e.deletedFeatures),this._applyEditsAddUpdateFeatures(e.addedFeatures,e.updatedFeatures,t.controller.signal).then((()=>e))):e)).then((e=>(0==--t.count&&(this._pendingEdits===t&&(this._pendingEdits=null),null!=this.context.memoryCache&&this.context.memoryCache.clear(),this._applyEditsTilesUpdated=!1,this._unpause()),e)))));return t.edits=s,this._updated(),s}_applyEditsDeleteFeatures(e){if(0===e.length)return;const t=this.context.globalIdField,s=t&&this.availableFields.has(t),r=new Set,a=this._objectIdField;e.forEach((({objectId:e,globalId:n})=>{(!e||e<0)&&t&&n&&(s||i.getLogger(this).errorOncePerTick(`Editing the specified service requires the layer's globalIdField, ${t} to be included the layer's outFields for updates to be reflected in the view`),e=this._objectIdFromGlobalId(n,a,t)),null!=e&&e>=0&&r.add(e)})),this._featureTiles.forEach((e=>{if(!e.features)return;const t=e.features.filter((e=>!r.has(T(e,this._objectIdField))));t.length!==e.features.length&&(this._applyEditsTileUpdated(),e.setFeatures(t,0,e.availableFields,e.missingAttributes),this._updateTileZQuantization(e),this._invalidateCounts())}))}_objectIdFromGlobalId(e,t,s){if(null==e)return null;const i=this.features.find((t=>t.attributes?.[s]===e));return i?T(i,t):null}async _applyEditsAddUpdateFeatures(e,t,s){const{objectIdField:r,globalIdField:a}=this.context,n=a&&this.availableFields.has(a),o=new Set,u=new Set;for(const i of e){const e=i.objectId;null!=e&&o.add(e)}for(const{objectId:h,globalId:d}of t){let e=h;(null==e||e<0)&&a&&(n||i.getLogger(this).errorOncePerTick(`Editing the specified service requires the layer's globalIdField, ${a} to be included the layer's outFields for updates to be reflected in the view`),e=this._objectIdFromGlobalId(d,r,a)),null!=e&&e>=0&&(o.add(e),u.add(e))}if(0===o.size)return;const l=[];this._featureTiles.forEach((e=>{const t=this._applyEditsAddUpdateTile(e,o,u,s);t&&l.push(t)})),this._updated(),await Promise.allSettled(l)}async _applyEditsAddUpdateTile(e,t,s,i){if(!e.features)return;e.fetchingResolution=e.descriptor.resolution;const r=this._createQuery(e);r.resultType=void 0,r.cacheHint=!1,r.objectIds=Array.from(t);const a=await this._queryFeatures(r,i);let n=null;if(s.size>0){const t=e.features.filter((e=>!s.has(T(e,this._objectIdField))));t.length!==e.features.length&&(n=t)}if(a.features.length>0){n||(n=e.features.slice());for(const e of a.features)n.push(e)}n&&(e.hasPreciseFeatureCount&&(e.numFeatures=Math.max(e.numFeatures,n.length)),this._applyEditsTileUpdated(),e.setFeatures(n,0,z(e.availableFields,a.fields),S(e.missingAttributes,a.missingAttributes)),this._updateTileZQuantization(e),this._invalidateCounts())}_applyEditsTileUpdated(){this._applyEditsTilesUpdated||(this._applyEditsTilesUpdated=!0,this._updated())}_queryFeatures(e,t){return this.context.query.queryFeaturesDehydrated(e,{signal:t,timeout:k})}_setDirty(){this._dirty=!0,this._updated()}runTask(e){const t=this._frameTask.processQueue(e);if(!this._dirty||!this.initialized)return t;this._dirty=!1;const s=this._getListOfTiles();if(this._markTilesNotAlive(s),!e.run((()=>this._addTiles(s,e)))||!e.run((()=>this._filterExtentTiles(s,e)))||!e.run((()=>this._removeTiles(s,e)))||e.done)return void this._setDirty();const i=this._sortTiles(s);e.run((()=>this._showTiles(i,e)))&&e.run((()=>this._fetchTiles(i,e)))&&e.run((()=>this._updateMemoryEstimates(i,e)))||this._setDirty(),this._updated(),this.updating||this._updateMaximumNumberOfFeaturesExceeded()}_markTilesNotAlive(e){for(const t of e)t.alive=!1}_addTiles(e,t){return!(this._suspended||!this.tileDescriptors)&&(this.tileDescriptors.forEach((s=>{const i=this._featureTiles.get(s.id);i?i.alive=!0:t.done||(e.push(this._addTile(s)),t.madeProgress())})),t.hasProgressed)}_filterExtentTiles(e,t){for(const s of e){if(t.done)break;s.alive&&(s.filtered=!s.intersects(this.filterExtent),s.filtered&&(this._clearTile(s),t.madeProgress()))}return t.hasProgressed}_removeTiles(e,t){for(let s=e.length-1;s>=0&&!t.done;s--){const i=e[s];i.alive||(this._removeTile(i),s!==e.length-1&&(e[s]=e[e.length-1]),e.pop(),t.madeProgress())}return t.hasProgressed}_sortTiles(e){return e.sort(((e,t)=>e.descriptor.loadPriority-t.descriptor.loadPriority)),e}_showTiles(e,t){const s=this._updateRatio(e),i=e=>{const t=this._fullRatio<1?s(e)*this._farRatio:1;e.reduceFeatures(t,this.memoryFactor,this._objectIdField)&&this._setDirty();const{numFeatures:i,fetchingResolution:r,descriptor:a,isFetched:n}=e;return this._supportsResolution&&i>0&&r!==a.resolution&&n&&(e.fetchStatus=M.REFETCH_NEEDED,this._setDirty()),this._showTile(e)};for(const r of e)if(!t.run((()=>i(r)))){this._setDirty();break}return t.hasProgressed}_fetchTiles(e,t){if(this._paused)return!1;let s=!1;for(const i of e){if(!i.needsFetch)continue;const e=null!=this.context.memoryCache?this.context.memoryCache.pop(i.id):null;if(e?.resolution!==i.displayingResolution){if(this._needsNumFeatures(i)){const e=new AbortController,r=this._fetchTileCount(i,e.signal);this._handleRequest(i,r,e,(()=>i.numFeatures=D)),s=!0,t.madeProgress()}if(t.done)return!0}else i.cache=e,i.numFeatures&&this._notifyDataUpdating(),this._setDirty(),this._scheduleUpdated(),t.madeProgress()}if(s)return t.hasProgressed;for(const r of e)if(r.needsFetch){const e=new AbortController,s=this._fetchTile(r,e.signal);if(this._handleRequest(r,s,e,(e=>{r.setFeatures([],0,null,void 0),this._invalidateCounts(),r.featuresMissing=!1,r.fetchFailed=!0,this.context.logFetchError(i.getLogger(this),e)})),t.madeProgress())return!0}return t.hasProgressed}_updateMemoryEstimates(e,t){return e.some((e=>!t.run((()=>e.updateMemoryEstimates()))&&(this._setDirty(),!0))),t.hasProgressed}_reclip(e,t){if(!this.initialized)return;const s=new Array;this._featureTiles.forEach((i=>{null!=i.displayingFeatures&&0!==i.displayingFeatures.length&&(i.intersectionIncludingBorrowed(t,q),i.intersectionIncludingBorrowed(e,H),m(q,H)||s.push(i))})),this._refreshDisplayingFeatures(s),this._updated()}_refreshDisplayingFeatures(e){const t=new Set,s=this._changes.updates;for(const i of e)if(null!=i.displayingFeatures)for(const e of i.displayingFeatures){const i=T(e,this._objectIdField);if(t.has(i))continue;t.add(i);const r=this._displayingFeatureReferences.get(i).feature;s.removes.push(r),s.adds.push(r)}this._applyChanges()}_updated(){let e=0;if(this._paused||this._featureTiles.forEach((t=>t.isFetching?++e:0)),this._isFetching=e>0,this._set(\"running\",this._dirty),e>0||this._applyEditsTilesUpdated?this._notifyDataUpdating():this._dirty||this._set(\"dataUpdating\",!1),this.updating){let t=0,s=0,i=0,r=0,a=0;const n=this._displayingFeatureReferences.size/this._numDisplayingFeatureReferences;this._featureTiles.forEach((e=>{if(++s,e.isFetching&&e.hasPreciseFeatureCount){const t=this._maximumFeaturesForTile(e)*(1-e.emptyFeatureRatio),s=null!=e.displayingFeatures?e.displayingFeatures.length*n:0;a+=t-s}e.needsFetch?++r:e.numFeatures>0&&(++i,t+=e.numFeatures)})),r+=e;let o=0,u=0;t?(u=t,o=Math.min(r*t/i,t)):(u=s,o=r),a=Math.min(this.maximumNumberOfFeatures-this.features.length,a),this._set(\"updatingTotal\",u),this._set(\"updatingRemaining\",o),this._set(\"expectedFeatureDiff\",a)}else this._set(\"updatingTotal\",0),this._set(\"updatingRemaining\",0),this._set(\"expectedFeatureDiff\",0);this.debugger&&this.debugger.update()}_updateMaximumNumberOfFeaturesExceeded(){for(const{perTileMaximumNumberOfFeaturesExceeded:e}of this._featureTiles.values())if(e)return void this._set(\"maximumNumberOfFeaturesExceeded\",!0);this._set(\"maximumNumberOfFeaturesExceeded\",!1)}_updateRatio(e){const t=I(e),s=e=>1/(1<<Math.max(0,t-e.descriptor.lij[0]));let i=0,r=0;for(const a of e){const e=a.numFeatures;i+=e,r+=e*s(a)}return this._fullRatio=Math.min(1,this.maximumNumberOfFeatures/i),this._farRatio=this.maximumNumberOfFeatures/r,this._scheduleUpdated(),s}_maximumFeaturesUpdated(e,t){e!==t&&(t>e&&this._featureTiles.forEach((e=>{if(!e.featuresMissing)return;const t=this._maximumFeaturesForTile(e);e.features&&(e.features.length>=t||e.fetchStatus===M.FULL)||(this._cancelFetchTile(e),this._resetFetchTile(e))})),this._setDirty())}_addTile(e){const t=new w(e);return this._featureTiles.set(t.id,t),this._resetFetchTile(t),this._referenceDisplayingFeaturesFromRelatedTiles(t),t}_referenceDisplayingFeaturesFromRelatedTiles(e){const t=e.displayingResolution;this._featureTiles.forEach((s=>{if(null!=s.displayingFeatures&&e!==s&&U(e.descriptor.lij,s.descriptor.lij)){null==e.displayingFeatures&&(e.displayingFeatures=[]),e.descriptor.extent&&s.descriptor.extent&&(e.extentIncludingBorrowedFeatures??=g(e.descriptor.extent),F(e.extentIncludingBorrowedFeatures,s.descriptor.extent,e.extentIncludingBorrowedFeatures));for(const i of s.displayingFeatures){e.displayingFeatures.push(i);const s=this._displayingFeatureReferences.get(T(i,this._objectIdField));s.ref(s.feature,t),this._numDisplayingFeatureReferences++}}})),e.featureLimit=null!=e.displayingFeatures?e.displayingFeatures.length:0}_removeTile(e){this._clearTile(e),this._featureTiles.delete(e.id)}_resetFetchTile(e){e.filtered=!e.intersects(this.filterExtent),e.filtered?e.needsFetch&&(e.fetchStatus=M.DONE):e.fetchStatus=M.FETCH_NEEDED}_cancelFetchTile(e){const t=e.requestController;null!=t&&(e.requestController=null,e.resetFetching(),t.abort())}async _fetchTileCount(e,t){return e.numFeatures=await this._fetchCount(e,t),this._updateRatio(this._getListOfTiles()),e.fetchStatus===M.REFETCHING?M.REFETCH_NEEDED:M.FETCH_NEEDED}async _fetchTile(e,t){e.fetchFailed=!1;const s=this._maximumFeaturesForTile(e);if(s<=0)return e.hasPreciseFeatureCount&&0===e.numFeatures||(e.fetchFailed=!0),N(e);const i=this._getMaxRecordCount(e),r=Math.ceil(s/i);if(e.fetchingResolution=e.descriptor.resolution,P(e)||!this.context.capabilities.supportsMaxRecordCountFactor||e.numFeatures<=s&&r>R.MAX_MAX_RECORD_COUNT_FACTOR)return this._fetchPagedTile(e,t);const a=this._createQuery(e);if(a.maxRecordCountFactor=r,e.isRefetching&&e.features&&e.features.length>0){const t=Math.ceil(e.features.length/(1-e.emptyFeatureRatio)/i);a.maxRecordCountFactor=Math.max(t+1,a.maxRecordCountFactor)}const{features:o,exceededTransferLimit:u,fields:l,missingAttributes:h}=await this._queryFeatures(a,t),d=u?a.maxRecordCountFactor>=R.MAX_MAX_RECORD_COUNT_FACTOR?M.FULL:M.DONE:M.FULL;return await this._frameTask.schedule((()=>{e.featuresMissing=e.hasPreciseFeatureCount&&o.length<e.numFeatures||!!u;const t=this._removeEmptyFeatures(o);e.setFeatures(o,t,Q(l),S(void 0,h)),this._updateTileZQuantization(e)}),t),n(t),this._invalidateCounts(),d}async _fetchCount(e,t){return this.context.query.queryFeatureCount(this._createFeatureCountQuery(e),{signal:t})}async _fetchPagedTile(e,t){let s,i=0,r=0,a=0,o=this._maximumFeaturesForTile(e)-a;const u=this._getMaxRecordCount(e);let l,h=null;for(;;){const d=this._createQuery(e),c=this._setPagingParameters(d,i,o,u),{features:p,exceededTransferLimit:f,fields:_,missingAttributes:m}=await this._queryFeatures(d,t);if(await this._frameTask.schedule((()=>{c&&(i+=d.num),a+=p.length,r+=this._removeEmptyFeatures(p),e.featuresMissing=c&&e.hasPreciseFeatureCount&&i<e.numFeatures||!!f,s=s?.concat(p)??p,h=z(h,_),l=S(l,m),e.setFeatures(s,r,h,l),this._updateTileZQuantization(e)}),t),n(t),this._invalidateCounts(),this._setDirty(),o=this._maximumFeaturesForTile(e)-a,!c||!f||o<=0)return f?M.DONE:M.FULL}}_createFeatureCountQuery(e){const t=this._createQuery(e);return this.context.capabilities.supportsCacheHint&&(t.resultType=void 0,t.cacheHint=!0),t}_createQuery(e){const t=this.context.createQuery(),s=P(e);return s||(t.geometry=y(e.descriptor.extent,this.context.tilingScheme.spatialReference)),this._setResolutionParams(t,e),this._useTileQuery(e)?t.resultType=\"tile\":this.context.capabilities.supportsCacheHint&&(t.cacheHint=!0),!s&&this.context.effectiveDisplayFilter&&(t.where=c(t.where,this.context.effectiveDisplayFilter.where)),t}_setPagingParameters(e,t,s,i){return!!this.context.capabilities.supportsPagination&&(e.start=t,s>0&&this.context.capabilities.supportsMaxRecordCountFactor?(e.maxRecordCountFactor=Math.ceil(s/i),e.num=Math.min(e.maxRecordCountFactor*i,s)):e.num=Math.min(i),!0)}_getEffectiveTileResolution(e){if(P(e)||!this._supportsResolution)return null;const t=this.context.viewingMode===v.Global?this.context.tilingScheme.resolutionAtLevel(3):1/0;return Math.min(e.fetchingResolution,t)/this.lodFactor/this._tileZQuantization}get _supportsResolution(){return this.context.capabilities.supportsMultipleResolutions&&\"point\"!==this.context.geometryType}_setResolutionParams(e,t){const s=this._getEffectiveTileResolution(t);null!=s&&(this.context.capabilities.supportsQuantization?e.quantizationParameters=new E({mode:\"view\",originPosition:\"upper-left\",tolerance:s,extent:this.context.fullExtent}):\"polyline\"===this.context.geometryType&&(e.maxAllowableOffset=s))}_removeEmptyFeatures(e){const t=e.length;return s(e,(({geometry:e})=>x(e))),t-e.length}_needsNumFeatures(e){return this.useTileCount&&e.needsFeatureCount&&!P(e)}_getMaxRecordCount(e){const{tileMaxRecordCount:t,maxRecordCount:s}=this.context;return this._useTileQuery(e)&&null!=t&&t>0&&this.context.capabilities.supportsResultType?t:null!=s&&s>0?s:L}_useTileQuery(e){return(!P(e)||!this.context.capabilities.supportsCacheHint)&&this.context.capabilities.supportsResultType}_handleRequest(e,t,s,i){e.fetchStatus=e.needsRefetch?M.REFETCHING:M.FETCHING,e.requestController=s;let r=!1;t.then((t=>{e.requestController=null,e.fetchStatus=t})).catch((t=>{e.requestController===s&&(e.requestController=null,e.fetchStatus=M.DONE),a(t)?r=!0:i(t)})).then((()=>{r||this._setDirty(),this._scheduleUpdated()}))}_scheduleUpdated(){this.hasHandles(\"scheduleUpdated\")||this.addHandles(h((()=>{this.removeHandles(\"scheduleUpdated\"),this._updated()})),\"scheduleUpdated\")}_showTile(e){if(null!=e.displayingFeatures&&!e.needsDisplayUpdate)return!1;const{features:t}=e;if(0===e.featureLimit||!t){const t=null!=e.displayingFeatures&&e.displayingFeatures.length>0;return this._hideTileFeatures(e),e.displayingFeatures=[],t}const s=e.fetchingResolution,{adds:i,updates:r}=this._changes,a=Math.min(e.featureLimit,t.length);e.featureLimit=a;for(let n=0;n<a;++n){const e=t[n],a=T(e,this._objectIdField),o=this._displayingFeatureReferences.get(a);if(o){const{oldVersion:t,newVersion:i}=o.ref(e,s);t!==i&&(t&&r.removes.push(t),i&&r.adds.push(i))}else this._displayingFeatureReferences.set(a,new this.FeatureReferenceClass(e,s)),i.push(e);this._numDisplayingFeatureReferences++}return this._hideTileFeatures(e),e.displayingResolution=e.fetchingResolution,this._applyChanges(),e.displayingFeatures=t.slice(0,a),!0}_hideTile(e){this._cancelFetchTile(e),this._hideTileFeatures(e)}_hideTileFeatures(e){if(null==e.displayingFeatures)return;const{updates:t,removes:s}=this._changes;for(const i of e.displayingFeatures){const r=T(i,this._objectIdField),a=this._displayingFeatureReferences.get(r);if(!a)continue;const{oldVersion:n,newVersion:o}=a.unref(e.displayingResolution);this._numDisplayingFeatureReferences--,n!==o&&(null==o?(this._displayingFeatureReferences.delete(r),n&&s.push(n)):(t.adds.push(o),n&&t.removes.push(n)))}this._applyChanges(),e.displayingFeatures=null}_notifyDataUpdating(){this._get(\"dataUpdating\")||this._set(\"dataUpdating\",!0)}_applyChanges(){const e=this._changes.updates;e.removes.length>0&&(this._notifyDataUpdating(),this.features.removeMany(e.removes),e.removes.length=0),e.adds.length>0&&(this._notifyDataUpdating(),this.features.addMany(e.adds),e.adds.length=0);const t=this._changes.adds,s=this._changes.removes,i=Math.min(t.length,s.length);let r=0;for(;r<i;){const e=Math.min(r+G,i);this._notifyDataUpdating(),this.features.addMany(t.slice(r,e)),this.features.removeMany(s.slice(r,e)),r=e}t.length>i&&(this._notifyDataUpdating(),this.features.addMany(0===r?t:t.slice(r))),s.length>i&&(this._notifyDataUpdating(),this.features.removeMany(0===r?s:s.slice(r))),t.length=0,s.length=0}_clearTile(e){this._hideTile(e),e.features&&null!=this.context.memoryCache&&this.context.memoryCache.put(e.id,e.cache),e.setFeatures(null,0,null,void 0),this._invalidateCounts()}_invalidateCounts(){this.notifyChange(\"totalVertices\"),this.notifyChange(\"totalFeatures\"),this.notifyChange(\"memoryForUnusedFeatures\")}_getListOfTiles(){return Array.from(this._featureTiles.values())}get storedFeatures(){return this._getListOfTiles().reduce(((e,t)=>e+(t.features?t.features.length:0)),0)}get missingTiles(){return Array.from(this._featureTiles.values()).reduce(((e,t)=>e+(t.needsFetch||t.isFetching?1:0)),0)}_maximumFeaturesForTile(e){const t=e.hasPreciseFeatureCount?e.numFeatures:1/0,s=e.hasPreciseFeatureCount?t:this.maximumNumberOfFeatures,i=this._fullRatio<1?this._farRatio:1;return Math.min(Math.ceil(s*i/(1-e.emptyFeatureRatio)),t)}get test(){}};function P(e){return\"dummy-tile-full-extent\"===e.id}function I(e){let t=0;for(const s of e)s.features&&s.features.length>0&&s.alive&&(t=Math.max(t,s.descriptor.lij[0]));return t}function N(e){return e.setFeatures([],0,null,void 0),e.featuresMissing=!1,M.DONE}function Q(e){return null==e?new Set:new Set(e.map((e=>e.name)))}function z(e,t){if(null==e||null==t)return Q(t);const s=new Set;for(const{name:i}of t)e.has(i)&&s.add(i);return s}function S(e,t){if(!t?.length)return e;e??=new Map;const s=()=>new Set;for(const{objectId:i,attribute:a}of t)r(e,i,s).add(a);return e}e([p({constructOnly:!0})],A.prototype,\"features\",void 0),e([p()],A.prototype,\"tileDescriptors\",void 0),e([p({value:1/0})],A.prototype,\"maximumNumberOfFeatures\",null),e([p({value:1})],A.prototype,\"memoryFactor\",null),e([p({value:1})],A.prototype,\"lodFactor\",null),e([p()],A.prototype,\"useTileCount\",null),e([p({readOnly:!0})],A.prototype,\"updating\",null),e([p({readOnly:!0})],A.prototype,\"dataUpdating\",void 0),e([p({readOnly:!0})],A.prototype,\"running\",void 0),e([p({readOnly:!0})],A.prototype,\"updatingTotal\",void 0),e([p({readOnly:!0})],A.prototype,\"updatingRemaining\",void 0),e([p({readOnly:!0})],A.prototype,\"expectedFeatureDiff\",void 0),e([p({readOnly:!0})],A.prototype,\"memoryForUnusedFeatures\",null),e([p({readOnly:!0})],A.prototype,\"maximumNumberOfFeaturesExceeded\",void 0),e([p({readOnly:!0})],A.prototype,\"totalVertices\",null),e([p({readOnly:!0})],A.prototype,\"totalFeatures\",null),e([p({readOnly:!0})],A.prototype,\"hasAllFeatures\",null),e([p({readOnly:!0})],A.prototype,\"hasFullGeometries\",null),e([p()],A.prototype,\"filterExtent\",null),e([p({constructOnly:!0})],A.prototype,\"context\",void 0),e([p()],A.prototype,\"_dirty\",void 0),e([p()],A.prototype,\"_suspended\",void 0),e([p()],A.prototype,\"_pendingEdits\",void 0),e([p()],A.prototype,\"_applyEditsTilesUpdated\",void 0),e([p()],A.prototype,\"_paused\",null),e([p()],A.prototype,\"_isFetching\",void 0),A=e([f(\"esri.views.3d.layers.support.FeatureTileFetcher3D\")],A);const L=2e3,q=_(),H=_(),k=6e5,G=200;export{A as FeatureTileFetcher3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../Color.js\";import t from\"../../../../Graphic.js\";import i from\"../../../../core/Collection.js\";import s from\"../../../../geometry/Polygon.js\";import o from\"../../../../symbols/FillSymbol3DLayer.js\";import r from\"../../../../symbols/PointSymbol3D.js\";import a from\"../../../../symbols/PolygonSymbol3D.js\";import l from\"../../../../symbols/TextSymbol3DLayer.js\";import n from\"../../../../symbols/callouts/LineCallout3D.js\";import h from\"../../../../symbols/callouts/LineCallout3DBorder.js\";import c from\"../../../../symbols/support/Symbol3DVerticalOffset.js\";import{TilingScheme as m}from\"../../terrain/TilingScheme.js\";const p=[[0,179,255],[117,62,128],[0,104,255],[215,189,166],[32,0,193],[98,162,206],[102,112,129],[52,125,0],[142,118,246],[138,83,0],[92,122,255],[122,55,83],[0,142,255],[81,40,179],[0,200,244],[13,24,127],[0,170,147],[19,58,241],[22,44,35]];class y{constructor(e,t,s){this._loadingGraphics=new Map,this._loadedGraphics=new Map,this._pendingGraphics=new Map,this._dataExtentGraphic=null,this._enabled=!0,this._tileFetcher=e,this._view=s,this._tilingScheme=new m(t),this._loadedSymbols=p.map((e=>new a({symbolLayers:new i([new o({material:{color:[e[0],e[1],e[2],.6]},outline:{color:\"black\",size:1}})])}))),this._loadingSymbols=[new a({symbolLayers:new i([new o({material:{color:[200,200,200,.4]},outline:{color:[30,30,30],size:1}})])})],this._pendingSymbols=[new a({symbolLayers:new i([new o({material:{color:[100,100,100,.4]},outline:{color:[30,30,30],size:1}})])})],this._dataExtentSymbol=new a({symbolLayers:new i([new o({material:{color:[0,0,0,0]},outline:{color:\"green\",size:4}})])})}destroy(){this.enabled=!1}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.update()}update(){this._enabled?(this._synchronizeMaps(this._loadingGraphics,{filter:e=>e.isFetching,symbols:this._loadingSymbols}),this._synchronizeMaps(this._loadedGraphics,{filter:e=>!e.isFetching,symbols:this._loadedSymbols}),this._synchronizeMaps(this._pendingGraphics,{filter:e=>!e.isFetching,symbols:this._pendingSymbols}),this.showDataExtent(this._tileFetcher.filterExtent)):(this._loadingGraphics.forEach((e=>{this._view.graphics.removeMany(e)})),this._loadingGraphics.clear(),this._loadedGraphics.forEach((e=>{this._view.graphics.removeMany(e)})),this._loadedGraphics.clear(),this._pendingGraphics.forEach((e=>{this._view.graphics.removeMany(e)})),this._pendingGraphics.clear(),this._dataExtentGraphic&&(this._view.graphics.remove(this._dataExtentGraphic),this._dataExtentGraphic=null))}showDataExtent(e){if(this._dataExtentGraphic&&(this._view.graphics.remove(this._dataExtentGraphic),this._dataExtentGraphic=null),null==e)return;const i=s.fromExtent(e);this._dataExtentGraphic=new t({geometry:i,symbol:this._dataExtentSymbol}),this._view.graphics.add(this._dataExtentGraphic)}_synchronizeMaps(s,o){const a=[];s.forEach(((e,t)=>{const i=this._tileFetcher.test.getFeatureTileById(t);i&&o.filter(i)||(this._view.graphics.removeMany(e),a.push(t))})),a.forEach((e=>s.delete(e))),this._tileFetcher.test.forEachFeatureTile((a=>{if(o.filter(a)&&!s.has(a.id)){const[m,p,y]=a.descriptor.lij;this._tilingScheme.ensureMaxLod(m);const d=this._tilingScheme.getExtentGeometry(m,p,y),_=[new t({geometry:d,symbol:o.symbols[m%o.symbols.length]}),new t({geometry:d.center,symbol:new r({verticalOffset:new c({screenLength:40/.75}),callout:new n({color:new e(\"white\"),border:new h({color:new e(\"black\")})}),symbolLayers:new i([new l({text:`${m}/${p}/${y}`,halo:{color:\"white\",size:1/.75},material:{color:\"black\"},size:16})])})})];s.set(a.id,_),this._view.graphics.addMany(_)}}))}}export{y as FeatureTileFetcher3DDebugger};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{result as i}from\"../../../core/asyncUtils.js\";import r from\"../../../core/Collection.js\";import has from\"../../../core/has.js\";import s from\"../../../core/Error.js\";import{clone as a}from\"../../../core/lang.js\";import o from\"../../../core/Logger.js\";import{destroyMaybe as l,removeMaybe as n,abortMaybe as u}from\"../../../core/maybe.js\";import h from\"../../../core/Promise.js\";import{createAbortError as c,isAbortError as d}from\"../../../core/promiseUtils.js\";import{initial as p,whenOnce as m,watch as f,syncAndInitial as y,sync as _}from\"../../../core/reactiveUtils.js\";import{sqlAnd as g}from\"../../../core/sql.js\";import{property as F}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as x}from\"../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as v}from\"../../../core/support/UpdatingHandles.js\";import{isHostedAgolService as D}from\"../../support/arcgisLayerUrl.js\";import{checkServiceCurrentUserSupport as w}from\"../../support/featureLayerUtils.js\";import{getEffectiveLayerCapabilities as b}from\"../../support/layerUtils.js\";import{projectGeometry as C}from\"../../../portal/support/geometryServiceUtils.js\";import S from\"../../../rest/support/StatisticDefinition.js\";import{FeatureTileDescriptor as E}from\"../../../views/3d/layers/support/FeatureTileDescriptor.js\";import{FeatureTileFetcher3D as T}from\"../../../views/3d/layers/support/FeatureTileFetcher3D.js\";import{FeatureTileFetcher3DDebugger as V}from\"../../../views/3d/layers/support/FeatureTileFetcher3DDebugger.js\";import{debugFlags as H}from\"../../../views/3d/support/debugFlags.js\";let L=class extends(h.EsriPromiseMixin(t)){get dataUpdating(){return this._tileFetcher?.dataUpdating??!1}set extent(e){if(null!=e&&!e.spatialReference.equals(this.layerView.view.spatialReference))return void o.getLogger(this).error(\"#extent=\",\"extent needs to be in the same spatial reference as the view\");const t=this._get(\"extent\");if(t===e)return;if(null!=t&&e&&t.equals(e))return;const i=null!=e?e.clone():null;this._set(\"extent\",i)}get updating(){return!!(this._tileFetcher?.updating||null!=this._fetchDataInfoPromise||\"tiles\"===this.mode&&this.layerView.view.featureTiles?.updating||this._updatingHandles?.updating)}get updatingTotal(){return this.updating&&null!=this._tileFetcher?this._tileFetcher.updatingTotal:0}get updatingRemaining(){return this.updating&&null!=this._tileFetcher?this._tileFetcher.updatingRemaining:0}get expectedFeatureDiff(){return this.updating&&null!=this._tileFetcher?this._tileFetcher.expectedFeatureDiff:0}get memoryForUnusedFeatures(){return null!=this._tileFetcher?this._tileFetcher.memoryForUnusedFeatures:0}get maximumNumberOfFeaturesExceeded(){return!(null==this._tileFetcher||!this._tileFetcher.maximumNumberOfFeaturesExceeded)}get maximumNumberOfFeatures(){return this.displayFeatureLimit?.maximumNumberOfFeatures??0}set maximumNumberOfFeatures(e){e!==this.maximumNumberOfFeatures&&this._overrideIfSome(\"maximumNumberOfFeatures\",e)}get hasMaximumNumberOfFeaturesOverride(){return this._isOverridden(\"maximumNumberOfFeatures\")}get hasAllFeatures(){return this.serviceDataCount===N.noServiceDataCount&&\"snapshot\"===this.mode&&this.hasAllFeaturesInView||this.serviceDataCount===this.graphics.length}get hasAllFeaturesInView(){const e=this.context.effectiveDisplayFilter?.where||null,t=null!=e&&\"1=1\"!==e;return(\"tiles\"!==this.mode||!t)&&(this._tileFetcher?.hasAllFeatures??!1)}get hasFullGeometries(){return this._tileFetcher?.hasFullGeometries??!1}get mode(){const e=this.layerView.layer;if(\"feature\"===e.type&&null!=e.infoFor3D)return\"snapshot\";if(\"catalog-footprint\"===e.type)return\"tiles\";if(this._forceTilesMode)return\"tiles\";const t=this.layerView.view;if(!1===t.qualitySettings?.graphics3D?.snapshotAvailable||this.serviceDataCount===N.noServiceDataCount||this._snapshotLimitExceeded||this.maximumNumberOfFeaturesExceeded||t.quality<1)return\"tiles\";const i=t&&t.featureTiles,r=i&&i.tilingScheme;if(e&&e.minScale&&this.serviceDataExtent&&r){const t=this._approximateExtentSizeAtScale(e.minScale,r);if((this.serviceDataExtent.width/t+this.serviceDataExtent.height/t)/2>N.maxSnapshotMinScaleFactor)return\"tiles\"}return!this.maximumNumberOfFeatures||this.serviceDataCount<=this.maximumNumberOfFeatures?\"snapshot\":\"tiles\"}get maxTotalSnapshotVertices(){const e=this._get(\"maxTotalSnapshotVertices\")||0,t=\"snapshot\"===this.mode&&this._tileFetcher?.totalVertices||0;return Math.max(e,t)}_approximateExtentSizeAtScale(e,t){const i=this.layerView.view,r=Math.ceil((i.width/t.pixelSize+i.height/t.pixelSize)/2),s=t.levels[0];return r*((s.tileSize[0]/(s.scale/e)+s.tileSize[1]/(s.scale/e))/2)}get tileDescriptors(){if(\"snapshot\"===this.mode){const e=new E(0,0,0,this.layerView.view.featureTiles.tilingScheme,\"dummy-tile-full-extent\");return new r([e])}const e=this.layerView.view.featureTiles;return e?e.tiles:new r}get test(){}constructor(e){super(e),this.type=\"feature-tile-3d\",this._updatingHandles=new v,this.serviceDataExtent=null,this.serviceDataCount=N.noServiceDataCount,this._snapshotLimitExceeded=!1,this.displayFeatureLimit=null,this._forceTilesMode=!1,this._suspended=!1,this._tileFetcher=null,this._fetchDataInfoPromise=null,this._fetchDataInfoAbortController=null,this._lifeCycleAbortController=new AbortController}initialize(){this._updatingHandles.add((()=>this.displayFeatureLimit),(e=>this._updatingHandles.addPromise(this._updateSnapshotLimit(e,null,this._lifeCycleAbortController.signal)))),this._updatingHandles.add((()=>this.mode),(()=>this._modeChanged()),p),this._updatingHandles.add((()=>this.mode),((e,t)=>{\"tiles\"===e&&\"snapshot\"===t&&(this._forceTilesMode=!0)}),p),this.addResolvingPromise(Promise.resolve().then((()=>this._verifyCapabilities())).then((()=>this._updatingHandles.addPromise(this._fetchServiceDataInfo()))).then((()=>this._initializeTileFetcher())))}_verifyCapabilities(){const e=this.layerView.layer;if(\"ogc-feature\"!==e.type&&!b(e)?.operations.supportsQuery)throw new s(\"graphicscontroller:query-capability-required\",\"Service requires query capabilities to be used as a feature layer\",{layer:e})}destroy(){this._cancelFetchServiceDataInfo(),this._tileFetcher=l(this._tileFetcher),this._tilesHandle=n(this._tilesHandle),this._lifeCycleAbortController=u(this._lifeCycleAbortController),this._updatingHandles.destroy(),this._set(\"_updatingHandles\",null)}suspend(){this._suspended||(this._suspended=!0,null!=this._tileFetcher&&this._tileFetcher.suspend())}resume(){this._suspended&&(this._suspended=!1,null!=this._tileFetcher&&this._tileFetcher.resume())}restart(){const e=()=>{null!=this._tileFetcher&&this._tileFetcher.restart()};this._updatingHandles.addPromise(this._fetchServiceDataInfo().then(e,e))}refetch(){this._refetch({resetForceTilesMode:!1})}getMissingAttributesForFeature(e){return this._tileFetcher?.getMissingAttributesForFeature(e)}_refetch(e){const t=()=>{null!=this._tileFetcher&&(e.resetForceTilesMode&&(this._forceTilesMode=!1),this._tileFetcher.refetch())};this._updatingHandles.addPromise(this._fetchServiceDataInfo().then(t,t))}_initializeTileFetcher(){const e=this.layerView.view;if(!e)return;const t=m((()=>e.featureTiles?.tilingScheme),this._lifeCycleAbortController.signal);this._updatingHandles.addPromise(t),t.then((()=>{const{layerView:e,tileDescriptors:t}=this,i=e.layer,r=new T({context:this.context,filterExtent:this.extent,tileDescriptors:t,features:this.graphics});this._tileFetcher=r,this._suspended?r.suspend():r.resume();const s=this.layerView.view;s&&this.addHandles(f((()=>s.quality),(e=>r.memoryFactor=e),y));const a=\"polygon\"===this.context.geometryType?\"polygonLodFactor\":\"polyline\"===this.context.geometryType?\"polylineLodFactor\":null;a&&this.addHandles(f((()=>this.layerView.view?.qualitySettings?.graphics3D?.[a]),(e=>r.lodFactor=e||1),p));const o=e=>{r.maximumNumberOfFeatures=e,r.useTileCount=this.serviceDataCount>e},l=e=>{r.useTileCount=e>this.maximumNumberOfFeatures};\"ogc-feature\"!==i.type&&this._updatingHandles.add((()=>i.createQueryVersion),(()=>this._dataFilterChanged())),this._updatingHandles.add((()=>this.context.effectiveDisplayFilter),(()=>this._effectiveDisplayFilterChanged())),this._updatingHandles.add((()=>e.availableFields),((e,t)=>this._availableFieldsChanged(t,e))),this._updatingHandles.add((()=>e.requiredFields),((e,t)=>this._requiredFieldsChanged(t,e))),\"customParameters\"in i&&this._updatingHandles.add((()=>i.customParameters),(()=>this.restart())),this.addHandles([i.on(\"apply-edits\",(e=>this._applyEdits(e))),f((()=>this.extent),(e=>r.filterExtent=e),_),f((()=>this.tileDescriptors),(e=>r.tileDescriptors=e),_),f((()=>this.maximumNumberOfFeatures),o,y),f((()=>this.serviceDataCount),l,y),f((()=>H.FEATURE_TILE_FETCH_SHOW_TILES),(e=>{e&&r&&!r.debugger?(r.debugger=new V(r,s.featureTiles.tilingScheme.toTileInfo(),s),r.debugger.update()):!e&&this._tileFetcher&&r.debugger&&(r.debugger.destroy(),r.debugger=null)}),y)]),this._supportsExceedsLimitQuery||this._updatingHandles.add((()=>this.maxTotalSnapshotVertices),(()=>this._updatingHandles.addPromise(this._updateSnapshotLimit(this.displayFeatureLimit,null,this._lifeCycleAbortController.signal))))})).catch((()=>{}))}_modeChanged(){switch(this.mode){case\"tiles\":this._tilesHandle||(this._tilesHandle=this.layerView.view.featureTiles.addClient());break;default:o.getLogger(this).warn(\"Unhandled feature layer mode \"+this.mode);case\"snapshot\":null!=this._tilesHandle&&(this._tilesHandle.remove(),this._tilesHandle=null)}}_dataFilterChanged(){this._set(\"maxTotalSnapshotVertices\",0),this.notifyChange(\"maxTotalSnapshotVertices\"),this._refetch({resetForceTilesMode:!0})}_effectiveDisplayFilterChanged(){\"snapshot\"!==this.mode&&this._refetch({resetForceTilesMode:!1})}_applyEdits(e){const t=this.layerView.layer;null!=this._tileFetcher&&this._tileFetcher.applyEdits(e).then((e=>{if(e){if(!this._lifeCycleAbortController)throw c();e.exceededTransferLimit&&\"refresh\"in t?t.refresh():(e.deletedFeatures.length||e.updatedFeatures.length||e.addedFeatures.length)&&this._updatingHandles.addPromise(this._updateServiceDataExtent(this._lifeCycleAbortController.signal))}})).catch((e=>{if(!d(e))throw e}))}_availableFieldsChanged(e,t){null!=this._tileFetcher&&P(this._tileFetcher.availableFields,t)&&this._refetch({resetForceTilesMode:!1})}_requiredFieldsChanged(e,t){null!=this._tileFetcher&&P(this._tileFetcher.availableFields,t)&&this.restart()}_createVertexLimitExceededQuery(e){const t=this.layerView.layer,i=t.createQuery();return i.returnGeometry=!1,i.outStatistics=[new S({statisticType:\"exceedslimit\",maxVertexCount:e,outStatisticFieldName:\"exceedslimit\",maxPointCount:1e8,maxRecordCount:1e8})],t.capabilities?.query.supportsCacheHint&&(i.cacheHint=!0),i}_createDataInfoQuery(){const e=this.layerView.layer,t=this.layerView,i=e.createQuery();return i.returnGeometry=!1,i.outSpatialReference=this.layerView.view.spatialReference,e.capabilities?.query.supportsCacheHint&&(i.cacheHint=!0),t.effectiveDisplayFilter&&(i.where=g(i.where,t.effectiveDisplayFilter.where)),i}_fullExtentIsAccurate(){const e=this.layerView.layer;if(\"definitionExpression\"in e&&e.definitionExpression)return!1;switch(e.type){case\"feature\":case\"catalog-footprint\":case\"oriented-imagery\":return D(e.url);case\"csv\":case\"geojson\":case\"ogc-feature\":case\"wfs\":return!0;default:return}}async _updateServiceDataExtent(e){try{await this._tryUpdateServiceDataExtent(e)}catch(t){d(t)||this._set(\"serviceDataExtent\",a(this.layerView.fullExtentInLocalViewSpatialReference))}}async _tryUpdateServiceDataExtent(e){const t=this.layerView,i=t.layer,r=i.capabilities?.query.supportsExtent??!1,s=a(t.fullExtentInLocalViewSpatialReference),o=i.fullExtent,l=this._fullExtentIsAccurate(),n=this.serviceDataCount;if(r&&n<=N.maxFeatureCountForExtent&&(!s||!l)&&\"queryExtent\"in i){const t=this._createDataInfoQuery(),r=await i.queryExtent(t,{timeout:N.queryExtentTimeout,signal:e});this._set(\"serviceDataExtent\",r.extent)}else if(s)this._set(\"serviceDataExtent\",s);else if(null!=o){const r=\"portalItem\"in i?i.portalItem:null,s=await C(o,t.view.spatialReference,r,e);this._set(\"serviceDataExtent\",s)}else this._set(\"serviceDataExtent\",null)}async _updateServiceDataCount(e){const t=this.layerView.layer;if(!(\"queryFeatureCount\"in t)||!has(\"featurelayer-snapshot-enabled\"))return void this._set(\"serviceDataCount\",N.noServiceDataCount);const r=await i(t.queryFeatureCount(this._createDataInfoQuery(),{timeout:N.queryStatisticsTimeout,signal:e}));if(!0===r.ok)this._set(\"serviceDataCount\",r.value);else{if(d(r.error))throw r.error;this._set(\"serviceDataCount\",N.noServiceDataCount)}}get _supportsExceedsLimitQuery(){const e=this.layerView.layer;return null!=e.capabilities&&e.capabilities.operations&&e.capabilities.operations.supportsExceedsLimitStatistics}get _minimumNumberOfVerticesForGeometry(){switch(this.layerView.layer.geometryType){case\"point\":case\"multipoint\":return 1;case\"polygon\":return 4;case\"polyline\":return 2;case\"multipatch\":case\"mesh\":return 3;default:return 0}}async _updateSnapshotLimit(e,t,r){if(null==e?.averageSymbolComplexity)return void(this._snapshotLimitExceeded=!1);const{maximumTotalNumberOfVertices:s,averageSymbolComplexity:a}=e,{verticesPerFeature:o,verticesPerCoordinate:l}=a,n=o<=0,u=this._minimumNumberOfVerticesForGeometry>1;if(!n&&!u)return void(this._snapshotLimitExceeded=!1);0!==o&&null!=t&&await t;const h=Math.min(s,I),c=this.serviceDataCount,p=c!==N.noServiceDataCount;let m=p?Math.ceil((h-c*o)/(l||1)):Math.ceil(h/(l||1));if(u&&(m=Math.min(m,j)),p&&this._minimumNumberOfVerticesForGeometry*c>m)return void(this._snapshotLimitExceeded=!0);if(!this._supportsExceedsLimitQuery||!has(\"featurelayer-snapshot-enabled\"))return void(this._snapshotLimitExceeded=this.maxTotalSnapshotVertices>m);const f=await i(this.layerView.layer.queryFeatures(this._createVertexLimitExceededQuery(m),{timeout:N.queryStatisticsTimeout,signal:r}));if(!1===f.ok){if(d(f.error))throw f.error;return void(this._snapshotLimitExceeded=!1)}const y=f.value.features[0];this._snapshotLimitExceeded=!!y?.attributes&&!!y.attributes.exceedslimit}async _fetchServiceDataInfo(){this._cancelFetchServiceDataInfo(),await w(this.layerView.layer);let e=new AbortController;const t=e.signal,i=this._updateServiceDataCount(t),r=Promise.allSettled([i,this._updateSnapshotLimit(this.displayFeatureLimit,i,t)]),s=r.then((()=>this._updateServiceDataExtent(t))).catch((e=>{d(e)||o.getLogger(this).error(\"#fetchServiceDataInfo()\",e)})).then((()=>{s===this._fetchDataInfoPromise&&(this._fetchDataInfoPromise=null,this._fetchDataInfoAbortController=null),e=null}));return e&&(this._fetchDataInfoPromise=s),this._fetchDataInfoAbortController=e,r.then((()=>{}),(()=>{}))}_cancelFetchServiceDataInfo(){const e=this._fetchDataInfoAbortController;e&&(this._fetchDataInfoAbortController=null,this._fetchDataInfoPromise=null,e.abort())}get performanceInfo(){return{storedFeatures:this._tileFetcher?.storedFeatures??0,totalFeatures:this._tileFetcher?.totalFeatures??0,totalVertices:this._tileFetcher?.totalVertices??0,missingTiles:this._tileFetcher?.missingTiles??0}}};e([F({readOnly:!0})],L.prototype,\"type\",void 0),e([F({constructOnly:!0})],L.prototype,\"graphics\",void 0),e([F({constructOnly:!0})],L.prototype,\"layerView\",void 0),e([F({constructOnly:!0})],L.prototype,\"context\",void 0),e([F({readOnly:!0})],L.prototype,\"dataUpdating\",null),e([F()],L.prototype,\"extent\",null),e([F()],L.prototype,\"updating\",null),e([F({readOnly:!0})],L.prototype,\"_updatingHandles\",void 0),e([F()],L.prototype,\"updatingTotal\",null),e([F()],L.prototype,\"updatingRemaining\",null),e([F()],L.prototype,\"expectedFeatureDiff\",null),e([F()],L.prototype,\"memoryForUnusedFeatures\",null),e([F()],L.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([F({readOnly:!0})],L.prototype,\"serviceDataExtent\",void 0),e([F({readOnly:!0})],L.prototype,\"serviceDataCount\",void 0),e([F()],L.prototype,\"_snapshotLimitExceeded\",void 0),e([F()],L.prototype,\"displayFeatureLimit\",void 0),e([F({type:Number})],L.prototype,\"maximumNumberOfFeatures\",null),e([F({readOnly:!0})],L.prototype,\"hasAllFeatures\",null),e([F({readOnly:!0})],L.prototype,\"hasAllFeaturesInView\",null),e([F({readOnly:!0})],L.prototype,\"hasFullGeometries\",null),e([F()],L.prototype,\"_forceTilesMode\",void 0),e([F({readOnly:!0})],L.prototype,\"mode\",null),e([F({readOnly:!0})],L.prototype,\"maxTotalSnapshotVertices\",null),e([F({readOnly:!0})],L.prototype,\"tileDescriptors\",null),e([F()],L.prototype,\"_tileFetcher\",void 0),e([F()],L.prototype,\"_fetchDataInfoPromise\",void 0),L=e([x(\"esri.layers.graphics.controllers.FeatureTileController3D\")],L);const O=1e4,I=1e6,A=12e3,q=1e4,j=5e6;function P(e,t){if(!t)return!1;for(const i of t)if(!e.has(i))return!0;return!1}var N;!function(e){function t(){e.maxFeatureCountForExtent=O,e.queryStatisticsTimeout=A,e.queryExtentTimeout=q}e.noServiceDataCount=1/0,e.maxSnapshotMinScaleFactor=5,e.reset=t}(N||(N={})),N.reset();export{L as FeatureTileController3D,N as FeatureTileController3DConstants};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{throwIfAborted as e}from\"../../../../core/promiseUtils.js\";import{create as o}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import t from\"../../../../geometry/SpatialReference.js\";import{projectPointToVectorAsync as r}from\"../../../../geometry/projection/projectPointToVector.js\";import{makeDehydratedPoint as i}from\"../../../../layers/graphics/dehydratedPoint.js\";import{getGeometryEffectiveElevationInfo as n}from\"../../../../support/elevationInfoUtils.js\";import{evaluateElevationInfoAtPoint as s,SampleElevationInfo as a}from\"./elevationAlignmentUtils.js\";import{ElevationContext as p}from\"./ElevationContext.js\";import{extractExpressionInfo as f,createContext as c}from\"./featureExpressionInfoUtils.js\";async function l(l,m,d,j,u){const{elevationProvider:v,renderCoordsHelper:g}=l,{elevationInfo:I}=m,{pointsInFeatures:x,spatialReference:y}=j,h=t.fromJSON(y),w=f(I,!0),R=await c(w,h,u);e(u);const S=[],b=new Set,z=new Set,E=new p,P=i(0,0,0,t.WGS84),U=new a,C=o();P.spatialReference=h;const F=l.elevationProvider.spatialReference??l.spatialReference;for(const{objectId:e,points:o}of x){const t=d(e);if(null==t){for(const e of o)S.push(e.z??0);b.add(e);continue}t.isDraped&&z.add(e);const i=t.graphic.geometry;E.setFromElevationInfo(n(i,I)),E.updateFeatureExpressionInfoContext(R,t.graphic,m);for(const{x:e,y:n,z:a}of o)P.x=e,P.y=n,P.z=a??0,await r(P,C,F,0,{signal:u}),s(C,v,E,g,U),S.push(U.z)}return{elevations:S,drapedObjectIds:z,failedObjectIds:b}}export{l as elevationAlignPointsInFeatures};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{addProjViewLocalOrigin as e}from\"../views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js\";import{FloatPassUniform as o}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as i}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{VertexAttribute as r}from\"../views/3d/webgl-engine/lib/VertexAttribute.js\";import{ShaderBuilder as a}from\"../views/webgl/ShaderBuilder.js\";function t(t){const s=new a,{vertex:d,fragment:u,attributes:l,varyings:n}=s;e(d,t);const{isAttributeDriven:c,usesHalfFloat:f}=t;return l.add(r.POSITION,\"vec3\"),l.add(r.UV0,\"vec2\"),c&&(l.add(r.FEATUREATTRIBUTE,\"float\"),n.add(\"attributeValue\",\"float\")),f&&u.constants.add(\"compressionFactor\",\"float\",.25),n.add(\"unitCirclePos\",\"vec2\"),d.uniforms.add(new o(\"radius\",(({resolutionForScale:e,searchRadius:o},{camera:i,screenToWorldRatio:r,overlayStretch:a})=>2*o*(0===e?1:e/r)*i.pixelRatio/i.fullViewport[2]/a))),d.main.add(i`\n    unitCirclePos = uv0;\n\n    vec4 posProj = proj * (view * vec4(${r.POSITION}, 1.0));\n    vec4 quadOffset = vec4(unitCirclePos * radius, 0.0, 0.0);\n\n    ${c?i`attributeValue = ${r.FEATUREATTRIBUTE};`:\"\"}\n    gl_Position = posProj + quadOffset;\n  `),u.main.add(i`\n    float radiusRatioSquared = dot(unitCirclePos, unitCirclePos);\n    if (radiusRatioSquared > 1.0) {\n      fragColor = vec4(0.0);\n    }\n    else {\n      float oneMinusRadiusRatioSquared = 1.0 - radiusRatioSquared;\n      float density = oneMinusRadiusRatioSquared * oneMinusRadiusRatioSquared ${c?i` * attributeValue`:\"\"} ${f?i` * compressionFactor`:\"\"};\n      fragColor = vec4(density);\n    }\n  `),s}const s=Object.freeze(Object.defineProperty({__proto__:null,build:t},Symbol.toStringTag,{value:\"Module\"}));export{s as H,t as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport t from\"../../../request.js\";import{urlToObject as e,join as n}from\"../../../core/urlUtils.js\";import{getJsonType as r}from\"../../../geometry/support/jsonUtils.js\";import{normalizeCentralMeridian as i}from\"../../../geometry/support/normalizeUtils.js\";import{srToRESTValue as a}from\"../../../geometry/support/spatialReferenceUtils.js\";import{mapParameters as o}from\"../../operations/urlUtils.js\";import{parsePBFFeatureQuery as u}from\"./pbfQueryUtils.js\";import{applyFeatureSetZUnitScaling as l}from\"./queryZScale.js\";const s=\"Layer does not support extent calculation.\";function m(t,e){if(e&&\"extent\"===t.type)return`${t.xmin},${t.ymin},${t.xmax},${t.ymax}`;if(e&&\"point\"===t.type)return`${t.x},${t.y}`;const n=t.toJSON();return delete n.spatialReference,JSON.stringify(n)}function y(t,e){const n=t.geometry,i=t.toJSON();delete i.compactGeometryEnabled,delete i.defaultSpatialReferenceEnabled;const o=i;let u,l,s;if(null!=n&&(l=n.spatialReference,s=a(l),o.geometryType=r(n),o.geometry=m(n,t.compactGeometryEnabled),o.inSR=s),i.groupByFieldsForStatistics&&(o.groupByFieldsForStatistics=i.groupByFieldsForStatistics.join(\",\")),i.objectIds&&(o.objectIds=i.objectIds.join(\",\")),i.orderByFields&&(o.orderByFields=i.orderByFields.join(\",\")),!i.outFields||!i.returnDistinctValues&&(e?.returnCountOnly||e?.returnExtentOnly||e?.returnIdsOnly)?delete o.outFields:i.outFields.includes(\"*\")?o.outFields=\"*\":o.outFields=i.outFields.join(\",\"),i.outSR?(o.outSR=a(i.outSR),u=t.outSpatialReference):n&&(i.returnGeometry||i.returnCentroid)&&(o.outSR=o.inSR,u=l),i.returnGeometry&&delete i.returnGeometry,i.outStatistics&&(o.outStatistics=JSON.stringify(i.outStatistics)),i.fullText&&(o.fullText=JSON.stringify(i.fullText)),i.pixelSize&&(o.pixelSize=JSON.stringify(i.pixelSize)),i.quantizationParameters&&(t.defaultSpatialReferenceEnabled&&null!=l&&null!=t.quantizationParameters?.extent&&l.equals(t.quantizationParameters.extent.spatialReference)&&delete i.quantizationParameters.extent.spatialReference,o.quantizationParameters=JSON.stringify(i.quantizationParameters)),i.parameterValues&&(o.parameterValues=JSON.stringify(i.parameterValues)),i.rangeValues&&(o.rangeValues=JSON.stringify(i.rangeValues)),i.dynamicDataSource&&(o.layer=JSON.stringify({source:i.dynamicDataSource}),delete i.dynamicDataSource),i.timeExtent){const t=i.timeExtent,{start:e,end:n}=t;null==e&&null==n||(o.time=e===n?e:`${e??\"null\"},${n??\"null\"}`),delete i.timeExtent}return t.defaultSpatialReferenceEnabled&&null!=l&&null!=u&&l.equals(u)&&(o.defaultSR=o.inSR,delete o.inSR,delete o.outSR),o}async function c(t,e,n,r){const i=null!=e.timeExtent&&e.timeExtent.isEmpty?{data:{features:[]}}:await E(t,e,\"json\",r);return l(e,n,i.data),i}async function f(t,e,n,r){if(null!=e.timeExtent&&e.timeExtent.isEmpty)return{data:n.createFeatureResult()};const i=await d(t,e,r),a=i;return a.data=u(i.data,n),a}function d(t,e,n){return E(t,e,\"pbf\",n)}function p(t,e,n){return null!=e.timeExtent&&e.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):E(t,e,\"json\",n,{returnIdsOnly:!0})}function S(t,e,n){return null!=e.timeExtent&&e.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):E(t,e,\"json\",n,{returnIdsOnly:!0,returnCountOnly:!0})}async function x(t,e,n){if(null!=e.timeExtent&&e.timeExtent.isEmpty)return{data:{count:0,extent:null}};const r=await E(t,e,\"json\",n,{returnExtentOnly:!0,returnCountOnly:!0}),i=r.data;if(i.hasOwnProperty(\"extent\"))return r;if(i.features)throw new Error(s);if(i.hasOwnProperty(\"count\"))throw new Error(s);return r}async function E(r,a,u,l={},s={}){const m=\"string\"==typeof r?e(r):r,c=a.geometry?[a.geometry]:[],f=await i(c,null,{signal:l.signal}),d=f?.[0];null!=d&&((a=a.clone()).geometry=d);const p=o({...m.query,f:u,...s,...y(a,s)});return t(n(m.path,g(a,s)?\"query3d\":\"query\"),{...l,responseType:\"pbf\"===u?\"array-buffer\":\"json\",query:{...p,...l.query}})}function g(t,e){return null!=t.formatOf3DObjects&&!(e.returnCountOnly||e.returnExtentOnly||e.returnIdsOnly)}export{m as encodeGeometry,c as executeQuery,S as executeQueryForCount,x as executeQueryForExtent,p as executeQueryForIds,f as executeQueryPBF,d as executeQueryPBFBuffer,y as queryToQueryStringParameters,E as runQuery};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport r from\"../../config.js\";import e from\"../../core/Error.js\";import t from\"../Portal.js\";import{project as o}from\"../../rest/geometryService/project.js\";import i from\"../../rest/support/ProjectParameters.js\";async function n(o=null,i){if(r.geometryServiceUrl)return r.geometryServiceUrl;if(!o)throw new e(\"internal:geometry-service-url-not-configured\");let n;n=\"portal\"in o?o.portal||t.getDefault():o,await n.load({signal:i});const a=n.helperServices?.geometry?.url;if(!a)throw new e(\"internal:geometry-service-url-not-configured\");return a}async function a(r,t,a=null,l){const c=await n(a,l),s=new i({geometries:[r],outSpatialReference:t}),m=await o(c,s,{signal:l});if(m&&Array.isArray(m)&&1===m.length)return m[0];throw new e(\"internal:geometry-service-projection-failed\")}export{n as getGeometryServiceURL,a as projectGeometry};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{project as e}from\"../../../../geometry/support/webMercatorUtils.js\";import{projectGeometry as t}from\"../../../../portal/support/geometryServiceUtils.js\";async function r(r){const l=r.view.spatialReference,n=r.layer.fullExtent,o=null!=n&&n.spatialReference;if(null==n||!o)return null;if(o.equals(l))return n.clone();const u=e(n,l);if(null!=u)return u;if(r.view.state.isLocal)try{const e=await t(n,l,r.layer.portalItem);return r.destroyed||null==e?null:e}catch{return null}return null}export{r as toViewIfLocal};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{throwIfAborted as n}from\"../../../../core/promiseUtils.js\";import{loadArcade as e}from\"../../../../support/arcadeOnDemand.js\";async function r(r,a,s){if(null==r||0===a.candidates.length)return t;const i=r.graphics3DGraphicsByObjectID??r.graphics3DGraphics,c=[],o=[],{renderer:d}=r,p=null!=d&&\"arcadeRequired\"in d&&d.arcadeRequired?e():null,l=async(n,{graphic:e,graphics3DSymbol:t})=>{const a=await p,i=await r.getRenderingInfoAsync(e,d,a,{signal:s});return null==i?[]:t.queryForSnapping(n,g,i,s)},{candidates:u,spatialReference:g}=a;for(let n=0;n<u.length;++n){const e=u[n],{objectId:r}=e,t=\"number\"==typeof r?i?.get(r):void 0;if(null==t)continue;const{graphics3DSymbol:a}=t;a.symbologySnappingSupported&&(c.push(l(e,t)),o.push(n))}if(0===c.length)return t;const h=await Promise.all(c);n(s);const f=[],m=[];for(let n=0;n<h.length;++n){const e=h[n],r=o[n];for(const n of e)f.push(n),m.push(r)}return{candidates:f,sourceCandidateIndices:m}}const t={candidates:[],sourceCandidateIndices:[]};export{r as queryForSymbologySnapping};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Evented.js\";import{ObservableChangesType as t}from\"../../../core/ObservableChangesType.js\";import{signal as s}from\"../../../core/signal.js\";class r extends e{constructor(){super(...arguments),this._set=new Set,this._length=s(0)}clear(){if(this._set.size>0){const e=this.toArray();this._set.clear(),this.emit(\"after-changes\",{type:t.REMOVE}),this.emit(\"change\",{added:[],removed:e})}}get length(){return this._length.value}addMany(e){if(0!==e.length){for(const t of e)this._set.add(t);this._length.value=this._set.size,this.emit(\"after-changes\",{type:t.ADD}),this.emit(\"change\",{added:e,removed:[]})}}remove(e){this._set.delete(e)&&(this._length.value=this._set.size,this.emit(\"after-changes\",{type:t.REMOVE}),this.emit(\"change\",{added:[],removed:[e]}))}removeMany(e){const s=[];for(const t of e)this._set.delete(t)&&s.push(t);s.length>0&&(this._length.value=this._set.size,this.emit(\"after-changes\",{type:t.REMOVE}),this.emit(\"change\",{added:[],removed:s}))}toArray(){return Array.from(this._set.values())}find(e){for(const t of this._set.values())if(e(t))return t}some(e){for(const t of this._set.values())if(e(t))return!0;return!1}forEach(e){this._set.forEach((t=>e(t)))}}export{r as EventedSet};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/arrayUtils.js\";import t from\"../../../core/Error.js\";import r from\"../../../core/Evented.js\";import s from\"../../../core/Logger.js\";import{create as o,fromRect as i}from\"../../../geometry/support/aaBoundingBox.js\";import{create as n}from\"../../../geometry/support/aaBoundingRect.js\";import{getBoundsOptimizedGeometry as u}from\"../featureConversionUtils.js\";import{BoundsStore as a}from\"./BoundsStore.js\";import{cleanFromGeometryEngine as d}from\"./geometryUtils.js\";import{optimizedFeatureQueryEngineAdapter as h}from\"./optimizedFeatureQueryEngineAdapter.js\";const m=o();class f{constructor(e){this.geometryInfo=e,this._boundsStore=new a,this._featuresById=new Map,this._usedMemory=0,this.events=new r,this.featureAdapter=h}get usedMemory(){return this._usedMemory}get geometryType(){return this.geometryInfo.geometryType}get hasM(){return this.geometryInfo.hasM}get hasZ(){return this.geometryInfo.hasZ}get numFeatures(){return this._featuresById.size}get fullBounds(){return this._boundsStore.fullBounds}get storeStatistics(){let e=0;return this._featuresById.forEach((t=>{null!=t.geometry&&t.geometry.coords&&(e+=t.geometry.coords.length)})),{featureCount:this._featuresById.size,vertexCount:e/(this.hasZ?this.hasM?4:3:this.hasM?3:2)}}getFullExtent(e){if(null==this.fullBounds)return null;const[t,r,s,o]=this.fullBounds;return{xmin:t,ymin:r,xmax:s,ymax:o,spatialReference:d(e)}}add(e){this._add(e),this._emitChanged()}addMany(e){for(const t of e)this._add(t);this._emitChanged()}upsertMany(t){const r=t.map((e=>this._upsert(e)));return this._emitChanged(),r.filter(e)}clear(){this._featuresById.clear(),this._boundsStore.clear(),this._emitChanged(),this._usedMemory=0}removeById(e){const t=this._featuresById.get(e);return t?(this._remove(t),this._emitChanged(),t):null}removeManyById(e){this._boundsStore.invalidateIndex();for(const t of e){const e=this._featuresById.get(t);e&&this._remove(e)}this._emitChanged()}forEachBounds(e,t){for(const r of e){const e=this._boundsStore.get(r.objectId);e&&t(i(m,e))}}getFeature(e){return this._featuresById.get(e)}has(e){return this._featuresById.has(e)}forEach(e){this._featuresById.forEach((t=>e(t)))}forEachInBounds(e,t){this._boundsStore.forEachInBounds(e,(e=>{t(this._featuresById.get(e))}))}_emitChanged(){this.events.emit(\"changed\",void 0)}_add(e){if(!e)return;const r=e.objectId;if(null==r)return void s.getLogger(\"esri.layers.graphics.data.FeatureStore\").error(new t(\"featurestore:invalid-feature\",\"feature id is missing\",{feature:e}));const o=this._featuresById.get(r);let i;if(o?(e.displayId=o.displayId,i=this._boundsStore.get(r),this._boundsStore.delete(r),this._usedMemory-=this.estimateFeatureUsedMemory?.(o)??0):null!=this.onFeatureAdd&&this.onFeatureAdd(e),!e.geometry?.coords?.length)return this._boundsStore.set(r,null),void this._featuresById.set(r,e);i=u(null!=i?i:n(),e.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),null!=i&&this._boundsStore.set(r,i),this._featuresById.set(r,e),this._usedMemory+=this.estimateFeatureUsedMemory?.(e)??0}_upsert(e){const r=e?.objectId;if(null==r)return s.getLogger(\"esri.layers.graphics.data.FeatureStore\").error(new t(\"featurestore:invalid-feature\",\"feature id is missing\",{feature:e})),null;const o=this._featuresById.get(r);if(!o)return this._add(e),e;this._usedMemory-=this.estimateFeatureUsedMemory?.(o)??0;const{geometry:i,attributes:a}=e;for(const t in a)o.attributes[t]=a[t];return i&&(o.geometry=i,this._boundsStore.set(r,u(n(),i,this.geometryInfo.hasZ,this.geometryInfo.hasM)??null)),this._usedMemory+=this.estimateFeatureUsedMemory?.(o)??0,o}_remove(e){null!=this.onFeatureRemove&&this.onFeatureRemove(e);const t=e.objectId;return this._boundsStore.delete(t),this._featuresById.delete(t),this._usedMemory-=this.estimateFeatureUsedMemory?.(e)??0,e}}export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{H as s}from\"../../../../chunks/Heatmap.glsl.js\";import{PrimitiveType as t}from\"../../../webgl/enums.js\";import{NoParameters as i}from\"../../../webgl/NoParameters.js\";import{makePipelineState as o,premultipliedAlphaToPremultipliedAlpha as l,defaultColorWrite as n}from\"../../../webgl/renderState.js\";class a extends i{constructor(){super(...arguments),this.colorRamp=null,this.densityMap=null,this.searchRadius=1,this.fieldTotal=0,this.minDensity=0,this.maxDensity=100}}class m extends r{constructor(r,i){super(r,i,new e(s,(()=>import(\"./Heatmap.glsl.js\")))),this.primitiveType=t.TRIANGLE_STRIP}initializePipeline(){return o({blending:l,colorWrite:n,depthTest:null,depthWrite:null})}}export{a as HeatmapPassParameters,m as HeatmapTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{parameter as o}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as s}from\"../materials/DefaultTechniqueConfiguration.js\";class r extends s{constructor(){super(...arguments),this.usesHalfFloat=!1}}e([o()],r.prototype,\"usesHalfFloat\",void 0);export{r as HeatmapTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{disposeMaybe as e}from\"../../../../core/maybe.js\";import{watch as r}from\"../../../../core/reactiveUtils.js\";import{property as a}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as i}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{createQuadVAO as s}from\"./glUtil3D.js\";import{SortedRenderGeometryRenderer as o}from\"./SortedRenderGeometryRenderer.js\";import{HeatmapPassParameters as n,HeatmapTechnique as h}from\"../shaders/HeatmapTechnique.js\";import{HeatmapTechniqueConfiguration as p}from\"../shaders/HeatmapTechniqueConfiguration.js\";import{TextureWrapMode as m,PixelType as c,FramebufferBit as l}from\"../../../webgl/enums.js\";import{FramebufferObject as d}from\"../../../webgl/FramebufferObject.js\";import{Texture as u}from\"../../../webgl/Texture.js\";import{TextureDescriptor as y}from\"../../../webgl/TextureDescriptor.js\";import{vertexCount as _}from\"../../../webgl/Util.js\";let g=class extends o{constructor(t){super(t),this.pixelRatio=1,this._colorRampData=new Uint8ClampedArray(4),this.type=\"draped-heatmap\",this._heatmapParameters=new n,this._configuration=new p;const e=new y;e.pixelFormat=t.pixelFormat,e.internalFormat=t.internalFormat,e.dataType=t.dataType,e.samplingMode=t.samplingMode,e.wrapMode=m.CLAMP_TO_EDGE;const r=t.rendererContext.rctx;this._densityMap=new d(r,e),this._quad=s(r),this._configuration.usesHalfFloat=t.dataType!==c.FLOAT,t.rendererContext.pluginContext.techniques.precompile(h,this._configuration)}initialize(){const t=this._colorRampData,e=new y(t.length/4,1);e.wrapMode=m.CLAMP_TO_EDGE,this._colorRamp=new u(this.rctx,e,t),this._heatmapParameters.densityMap=this._densityMap.colorTexture,this.addHandles(r((()=>[this.colorRampData,this.minDensity,this.maxDensity,this.fieldTotal,this.pixelRatio,this.searchRadius]),(()=>this.rendererContext.notifyContentChanged())))}destroy(){this._densityMap=e(this._densityMap),this._quad=e(this._quad),this._colorRamp=e(this._colorRamp)}get searchRadius(){return this._heatmapParameters.searchRadius}set searchRadius(t){t!==this._heatmapParameters.searchRadius&&(this._heatmapParameters.searchRadius=t,this.notifyChange(\"searchRadius\"))}get minDensity(){return this._heatmapParameters.minDensity}set minDensity(t){t!==this._heatmapParameters.minDensity&&(this._heatmapParameters.minDensity=t,this.notifyChange(\"minDensity\"))}get maxDensity(){return this._heatmapParameters.maxDensity}set maxDensity(t){t!==this._heatmapParameters.maxDensity&&(this._heatmapParameters.maxDensity=t,this.notifyChange(\"maxDensity\"))}get fieldTotal(){return this._heatmapParameters.fieldTotal}set fieldTotal(t){this._heatmapParameters.fieldTotal=t,this.notifyChange(\"fieldTotal\")}get colorRampData(){return this._colorRampData}set colorRampData(t){const{colorRamp:e}=this._heatmapParameters;if(null!=e&&t!==this._colorRampData){const r=e.descriptor.width,a=t.length/4;a!==r&&e.resize(a,1),e.setData(t)}this._colorRampData=t}get _colorRamp(){return this._heatmapParameters.colorRamp}set _colorRamp(t){this._heatmapParameters.colorRamp=t}get hasHighlights(){return!1}get hasWater(){return!1}get rendersOccludedDraped(){return!1}render(t){const e=this.sortedRenderers;if(0===e.length)return;const r=this.rctx.getBoundFramebufferObject(),a=this.rctx.getViewport(),{pixelRatio:i}=this,s=Math.ceil(a.width*i),o=Math.ceil(a.height*i);this._densityMap.resize(s,o),this.rctx.bindFramebuffer(this._densityMap),this.rctx.setViewport(0,0,s,o),this.rctx.clear(l.COLOR);let n=!1;if(e.forAll((e=>{const r=e.acquireTechniques(t);r&&(e.render(t,r),n=!0)})),this.rctx.bindFramebuffer(r),this.rctx.setViewport(a.x,a.y,a.width,a.height),!n)return;this.rctx.bindVAO(this._quad);const p=this.rendererContext.pluginContext.techniques.get(h,this._configuration);this.rctx.bindTechnique(p,t.bind,this._heatmapParameters),this.rctx.drawArrays(p.primitiveType,0,_(this._quad,\"geometry\"))}};t([a()],g.prototype,\"searchRadius\",null),t([a()],g.prototype,\"minDensity\",null),t([a()],g.prototype,\"maxDensity\",null),t([a()],g.prototype,\"fieldTotal\",null),t([a()],g.prototype,\"pixelRatio\",void 0),t([a()],g.prototype,\"colorRampData\",null),t([a({constructOnly:!0})],g.prototype,\"dataType\",void 0),t([a({constructOnly:!0})],g.prototype,\"samplingMode\",void 0),t([a({constructOnly:!0})],g.prototype,\"pixelFormat\",void 0),t([a({constructOnly:!0})],g.prototype,\"internalFormat\",void 0),t([a()],g.prototype,\"_colorRampData\",void 0),g=t([i(\"esri.views.3d.webgl-engine.lib.DrapedHeatmapRenderer\")],g);export{g as DrapedHeatmapRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{MaterialParameters as s}from\"../lib/Material.js\";import{H as t}from\"../../../../chunks/HeatmapDensity.glsl.js\";import{makePipelineState as o,weightedAdd as i,defaultColorWrite as l}from\"../../../webgl/renderState.js\";class a extends s{constructor(){super(...arguments),this.searchRadius=128,this.resolutionForScale=0}}class n extends r{constructor(r,s){super(r,s,new e(t,(()=>import(\"./HeatmapDensity.glsl.js\"))))}initializePipeline(){return o({blending:i,colorWrite:l,depthTest:null,depthWrite:null})}destroy(){super.destroy()}}export{a as HeatmapDensityPassParameters,n as HeatmapDensityTechnique};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{parameter as e}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{DefaultTechniqueConfiguration as i}from\"../materials/DefaultTechniqueConfiguration.js\";class o extends i{constructor(){super(...arguments),this.isAttributeDriven=!1,this.usesHalfFloat=!1}}t([e()],o.prototype,\"isAttributeDriven\",void 0),t([e()],o.prototype,\"usesHalfFloat\",void 0);export{o as HeatmapDensityTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{set as t,squaredDistance as e}from\"../../../../core/libs/gl-matrix-2/math/vec2.js\";import{create as r}from\"../../../../core/libs/gl-matrix-2/factories/vec2f64.js\";import{newLayout as s}from\"../../support/buffer/InterleavedLayout.js\";import{ShaderOutput as i}from\"../core/shaderLibrary/ShaderOutput.js\";import o from\"../lib/GLMaterial.js\";import{Material as a}from\"../lib/Material.js\";import{RenderSlot as n}from\"../lib/RenderSlot.js\";import{VertexAttribute as u}from\"../lib/VertexAttribute.js\";import{writePosition as l,writeBufferFloat as c}from\"./internal/bufferWriterUtils.js\";import{HeatmapDensityPassParameters as f,HeatmapDensityTechnique as m}from\"../shaders/HeatmapDensityTechnique.js\";import{HeatmapDensityTechniqueConfiguration as p}from\"../shaders/HeatmapDensityTechniqueConfiguration.js\";const h=2;class T extends f{constructor(){super(...arguments),this.isAttributeDriven=!1,this.usesHalfFloats=!1}}class g extends a{constructor(t){super(t,T),this.produces=new Map([[n.DRAPED_MATERIAL,t=>t===i.Color]]),this._configuration=new p}getConfiguration(){return this._configuration.isAttributeDriven=this.parameters.isAttributeDriven,this._configuration.usesHalfFloat=this.parameters.usesHalfFloats,this._configuration}get visible(){return!0}createGLMaterial(t){return new d(t)}intersect(){}intersectDraped(r,s,i,o,a,n){const l=r.attributes.get(u.POSITION),{parameters:c}=this,{searchRadius:f}=c,{screenToWorldRatio:m}=r,p=f*m+h*m,T=p*p,g=l.data.length/l.size;for(let u=0;u<g;u++){const r=u*l.size,s=t(j,l.data[r],l.data[r+1]);e(s,o)<T&&a(n.dist,n.normal,-1,!1)}}createBufferWriter(){return new b(this.parameters.isAttributeDriven?I:A)}}class d extends o{beginSlot(t){return this.getTechnique(m,t)}}class b{constructor(t){this.vertexBufferLayout=t}elementCount(t){return t.get(u.POSITION).indices.length*v}write(t,e,r,s,i,o){l(r.get(u.POSITION),t,i.position,o,v);const a=r.get(u.POSITION).indices.length,n=i.uv0;let f=o;for(let u=0;u<a;++u)n.setValues(f++,-1,-1),n.setValues(f++,1,-1),n.setValues(f++,1,1),n.setValues(f++,1,1),n.setValues(f++,-1,1),n.setValues(f++,-1,-1);const m=u.FEATUREATTRIBUTE in i?i.featureAttribute:null;m&&c(r.get(u.FEATUREATTRIBUTE),m,o,v)}}const A=s().vec3f(u.POSITION).vec2f(u.UV0),I=A.clone().f32(u.FEATUREATTRIBUTE),v=6,j=r();export{g as HeatmapDensityMaterial,T as Parameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{isSome as t}from\"../../../../core/arrayUtils.js\";import{makeHandle as r}from\"../../../../core/handleUtils.js\";import\"../../../../core/has.js\";import i from\"../../../../core/Logger.js\";import{estimateAttributesMemory as a,estimateFixedArrayMemory as s,estimateNumberMemory as o}from\"../../../../core/memoryEstimations.js\";import n from\"../../../../core/Promise.js\";import{initial as l,sync as p,watch as d}from\"../../../../core/reactiveUtils.js\";import{pt2px as u}from\"../../../../core/screenUtils.js\";import{property as m}from\"../../../../core/accessorSupport/decorators/property.js\";import{subclass as h}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{create as c}from\"../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{UpdatingHandles as y}from\"../../../../core/support/UpdatingHandles.js\";import{projectPointToVector as _}from\"../../../../geometry/projection/projectPointToVector.js\";import{getContinuousIndexArray as g}from\"../../../../geometry/support/Indices.js\";import{getResolutionForScale as f}from\"../../../../geometry/support/scaleUtils.js\";import{getObjectId as R}from\"../../../../layers/graphics/dehydratedFeatures.js\";import{convertFromPoint as F}from\"../../../../layers/graphics/featureConversionUtils.js\";import{OptimizedFeature as b}from\"../../../../layers/graphics/OptimizedFeature.js\";import v from\"../../../../layers/graphics/OptimizedGeometry.js\";import S from\"../../../../layers/graphics/data/FeatureStore.js\";import{isNumericField as w}from\"../../../../layers/support/fieldUtils.js\";import{generateGradient as P}from\"../../../../renderers/support/heatmapUtils.js\";import{DrapeSourceType as j}from\"../interfaces.js\";import{DisplayFeatureLimit as T}from\"../graphics/DisplayFeatureLimit.js\";import{GraphicsCorePerformanceInfo as V}from\"../graphics/GraphicsCorePerformanceInfo.js\";import{FeatureVisibilityFilter as G}from\"./FeatureVisibilityFilter.js\";import{emptyHighlightHandle as x}from\"./highlightUtils.js\";import{drapedZ as I}from\"../../terrain/OverlayRenderer.js\";import{Attribute as M}from\"../../webgl-engine/lib/Attribute.js\";import{ContentObjectType as A}from\"../../webgl-engine/lib/ContentObjectType.js\";import{DrapedHeatmapRenderer as N}from\"../../webgl-engine/lib/DrapedHeatmapRenderer.js\";import{Geometry as O}from\"../../webgl-engine/lib/Geometry.js\";import{DirtyOperation as H,DirtyState as U}from\"../../webgl-engine/lib/ModelDirtyTypes.js\";import{RenderGeometry as E}from\"../../webgl-engine/lib/RenderGeometry.js\";import{UpdatePolicy as L}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{VertexAttribute as D}from\"../../webgl-engine/lib/VertexAttribute.js\";import{HeatmapDensityMaterial as C}from\"../../webgl-engine/materials/HeatmapDensityMaterial.js\";import{scaleBoundsPredicate as B,isScaleRangeActive as W}from\"../../../support/layerViewUtils.js\";import{PixelType as Z,PixelFormat as $}from\"../../../webgl/enums.js\";import{loadHeatmapTextureConfiguration as q,fallBackHeatmapConfiguration as z}from\"../../../webgl/heatmapTextureUtils.js\";const Y=112;let k=class extends n{constructor(e){super(e),this.type=\"heatmap\",this.preferredUpdatePolicy=L.ASYNC,this.dataExtent=null,this.drapeSourceType=j.Features,this._renderGeometries=new Map,this._fieldTotal=0,this._drapeSourceRenderer=null,this._dataType=Z.HALF_FLOAT,this._pixelFormat=$.RGBA,this._updatingHandles=new y}initialize(){let e;try{e=q(this._renderView.renderingContext,i.getLogger(this))}catch(u){this.addResolvingPromise(Promise.reject(u)),e=z}const{dataType:t,samplingMode:a,pixelFormat:s,internalFormat:o}=e;this._featureStore=new S({geometryType:\"esriGeometryPoint\",hasZ:this.hasZ,hasM:this.hasM}),this._dataType=t,this._pixelFormat=s;const n=t!==Z.FLOAT;this._drapeSourceRenderer=this.view.basemapTerrain.overlayManager.registerDrapeSource(this,N,{...this._rendererParameters,dataType:t,samplingMode:a,pixelFormat:s,internalFormat:o}),this._material=new C({usesHalfFloats:n}),this._materialWithField=new C({usesHalfFloats:n,isAttributeDriven:!0}),this._filterVisibility=new G({context:{configuration:this.owner,featureStore:this.featureStore,getFeatureCount:()=>this._loadedPointGraphics.length,setAllFeaturesVisibility:e=>this._setAllFeaturesVisibility(e),clearFeaturesVisibility:()=>this._setAllFeaturesVisibility(!0),updateFeatureVisibilities:e=>this._updateFeatureVisibilities(e)}}),this._updatingHandles.addOnCollectionChange((()=>this._loadedPointGraphics),(e=>this._onLoadedFeaturesChange(e)),l),this._updatingHandles.addWhen((()=>this._materialParameters),(e=>this._forEachMaterial((t=>t.setParameters(e)))),l),this._updatingHandles.add((()=>this._rendererParameters),(e=>this._drapeSourceRenderer.set(e))),this._updatingHandles.add((()=>this._heatmapRendererField),(()=>{this._recreate()}),p),this._updatingHandles.add((()=>({fieldName:this._heatmapRendererFieldName,numeric:this._heatmapRendererFieldIsNumeric})),(({fieldName:e,numeric:t})=>{if(null!=e&&t){let t=0;this._featureStore.forEach((r=>t+=r.attributes[e]??0)),this._fieldTotal=t}else this._fieldTotal=this._featureStore.numFeatures}),l),this.addHandles([d((()=>({fieldName:this._heatmapRendererFieldName,field:this._heatmapRendererField})),(({fieldName:e,field:t})=>{e&&!t&&i.getLogger(this).warn(`Heatmap renderer field '${e}' for layer '${this.layer.title??this.layer.id}' not found`)})),d((()=>({field:this._heatmapRendererField,numeric:this._heatmapRendererFieldIsNumeric})),(({field:e,numeric:t})=>{null==e||t||i.getLogger(this).warn(`Heatmap renderer field '${e.name}' for layer '${this.layer.title??this.layer.id}' does not contain numeric values and cannot be used to drive the heatmap density`)})),r((()=>this.view.basemapTerrain.overlayManager.unregisterDrapeSource(this)))])}destroy(){this._renderGeometries.clear(),this._material=null,this._materialWithField=null,this._featureStore.clear(),this._featureStore=null,this._updatingHandles.destroy()}get layer(){return this.owner.layer}get featureStore(){return this._featureStore}get updating(){return this._updatingHandles.updating||this.filterVisibility.updating}get updatingRemaining(){return 0}get suspendInfo(){return{}}get legendEnabled(){return!0}get filterVisibility(){return this._filterVisibility}get displayFeatureLimit(){const e=this.owner?.view?.quality??1,t=this.owner?.view?.qualitySettings,r=t?Math.ceil(t.heatmap.maxTotalNumberOfFeatures*e):0;return new T(r*6,r)}get hasZ(){return\"hasZ\"in this.layer&&this.layer.hasZ}get hasM(){return\"hasM\"in this.layer&&this.layer.hasM}get view(){return this.owner.view}get fullOpacity(){return this.owner.fullOpacity}get updatePolicy(){return this.owner.updatePolicy}get scaleVisibilitySuspended(){if(!this._isScaleRangeActive)return!1;const{minScale:e,maxScale:t}=this.layer.effectiveScaleRange,{scale:r}=this.view;return!B(r,e??0,t??0)}get usedMemory(){const e=this.usedMemoryPerFeature*this._featureStore.numFeatures,t=this._pixelFormat===$.RED?1:4,r=this._dataType===Z.FLOAT?4:2,i=Math.ceil((this._overlayRenderer?.overlays[0]?.resolution??0)*this._densityMapPixelRatio)??0;return i*i*t*r+e}get usedMemoryPerFeature(){const e=this._loadedPointGraphics.find((()=>!0));if(null==e)return 0;const t=a(e),r=6;return r*s([0,0,0],o)+r*s([0,0],o)+(this._heatmapRendererFieldIsNumeric?r*o:0)+t}get loadedFeatures(){return this._featureStore.numFeatures}get unprocessedMemoryEstimate(){return 0}get performanceInfo(){return new V(this._visibleFeatures,0,0)}get renderer(){return this._heatmapRenderer}get _overlayRenderer(){return this.view.basemapTerrain.overlayManager.renderer}get _overlaySpatialReference(){return this._overlayRenderer.spatialReference}get _rendererParameters(){return{...this._radiusParameter,...this._densityParameters,...this._colorRampParameter,...this._pixelRatioParameter}}get _materialParameters(){return{...this._radiusParameter,...this._resolutionForScaleParameter}}get _densityParameters(){const e=this._heatmapRenderer;if(null==e)return null;const{minDensity:t,maxDensity:r}=e;return{minDensity:t,maxDensity:r,fieldTotal:this._fieldTotal}}get _radiusParameter(){const e=this._heatmapRenderer;return e?{searchRadius:u(this._clampSearchRadius(e.radius))}:null}get _resolutionForScaleParameter(){const e=this._heatmapRenderer;if(!e)return null;const{referenceScale:t}=e;return{resolutionForScale:0===t?0:f(t,this.view.spatialReference)}}get _colorRampParameter(){const e=this._heatmapRenderer;return e?{colorRampData:P(e.colorStops)}:null}get _pixelRatioParameter(){return{pixelRatio:this._densityMapPixelRatio}}get _densityMapPixelRatio(){return this.owner?.view?.qualitySettings.heatmap.pixelRatio??1}get _renderView(){return this.view._stage.renderView}get _featuresArePoints(){return\"point\"===this.layer.geometryType}get _loadedPointGraphics(){return this.owner.loadedGraphics}get _heatmapRenderer(){const e=this.layer.renderer;return\"heatmap\"===e?.type?e:null}get _heatmapRendererFieldName(){return this._heatmapRenderer?.field}get _heatmapRendererField(){const e=this._heatmapRendererFieldName;return null!=e?this.layer.fieldsIndex.get(e):null}get _heatmapRendererFieldIsNumeric(){const e=this._heatmapRendererField;return null!=e&&w(e)}get _isScaleRangeActive(){const{layer:e}=this;if(!(\"effectiveScaleRange\"in e))return!1;const{minScale:t,maxScale:r}=e.effectiveScaleRange;return W(t,r)}get _visibleFeatures(){let e=0;return this._renderGeometries.forEach((t=>{t.visible&&++e})),e}async whenGraphicBounds(){return null}computeAttachmentOrigin(){return null}highlight(){return x}maskOccludee(){return r()}setObjectIdVisibility(){}refreshFilter(){this.filterVisibility.reapply()}_onLoadedFeaturesChange(e){if(!this._featuresArePoints)return;const{objectIdField:r}=this.layer;this._featureStore.removeManyById(e.removed.map((e=>R(e,r)))),this._featureStore.addMany(e.added.map((e=>{const{attributes:t,centroid:i,geometry:a}=e,s=new b(F(new v,a),t,i?F(new v,i):null,R(e,r));return s.displayId=e.uid,s})));const i=e.added,a=e.removed;this._fieldTotal+=this._computeFieldTotalChange(i,a);const s=a.map((({uid:e})=>{const t=this._renderGeometries.get(e);return this._renderGeometries.delete(e),t})).filter(t),o=i.map((e=>{const t=this._pointGraphicToRenderGeometry(e);return this._renderGeometries.set(e.uid,t),t}));s.length>0&&this._drapeSourceRenderer.removeGeometries(s,H.REMOVE),o.length>0&&this._drapeSourceRenderer.addGeometries(o,H.ADD),(o.length>0||s.length>0)&&(this.filterVisibility.reapply(),this._renderView.requestRender())}_recreate(){if(!this._loadedPointGraphics)return;const e=this._loadedPointGraphics.toArray();this._onLoadedFeaturesChange({added:e,removed:e})}_pointGraphicToRenderGeometry(e){const t=this._heatmapRendererFieldName,r=null!=t?this._materialWithField:this._material,i=c();_(e.geometry,i,this._overlaySpatialReference),i[2]=I;const a=g(1),s=[[D.POSITION,new M(i,a,i.length)]],o=this._heatmapRendererFieldIsNumeric;null!=t&&s.push([D.FEATUREATTRIBUTE,new M([o?e.attributes[t]??0:0],a,1)]);const n=new E(new O(r,s,null,A.Point),{layerUid:this.layer.uid,graphicUid:e.uid});return n.visible=this.filterVisibility.defaultVisibility,n}_forEachMaterial(e){e(this._material),e(this._materialWithField)}_computeFieldTotalChange(e,t){if(null==this._heatmapRendererFieldName||!this._heatmapRendererFieldIsNumeric)return e.length-t.length;const r=this._heatmapRendererFieldName,i=(e,t)=>e+(t.attributes[r]??0);return e.reduce(i,0)-t.reduce(i,0)}_clampSearchRadius(e){return e>Y&&i.getLogger(this).warnOnce(`SceneView supports a maximum radius of ${Y} pt for HeatmapRenderer.`),Math.min(e,Y)}_updateFeatureVisibilities(e){const t=[];this._featureStore.forEach((({objectId:r,displayId:i})=>{const a=e(r),s=this._renderGeometries.get(i);s&&s.visible!==a&&(t.push(s),s.visible=a)})),this._drapeSourceRenderer.modifyGeometries(t,U.VISIBILITY)}_setAllFeaturesVisibility(e){const t=[];for(const r of this._renderGeometries.values())r.visible!==e&&(t.push(r),r.visible=e);this._drapeSourceRenderer.modifyGeometries(t,U.VISIBILITY)}get test(){}};e([m()],k.prototype,\"type\",void 0),e([m({constructOnly:!0})],k.prototype,\"owner\",void 0),e([m()],k.prototype,\"layer\",null),e([m()],k.prototype,\"featureStore\",null),e([m()],k.prototype,\"updating\",null),e([m()],k.prototype,\"updatingRemaining\",null),e([m()],k.prototype,\"suspendInfo\",null),e([m()],k.prototype,\"legendEnabled\",null),e([m()],k.prototype,\"filterVisibility\",null),e([m()],k.prototype,\"displayFeatureLimit\",null),e([m()],k.prototype,\"preferredUpdatePolicy\",void 0),e([m()],k.prototype,\"hasZ\",null),e([m()],k.prototype,\"hasM\",null),e([m()],k.prototype,\"dataExtent\",void 0),e([m()],k.prototype,\"view\",null),e([m()],k.prototype,\"fullOpacity\",null),e([m()],k.prototype,\"updatePolicy\",null),e([m()],k.prototype,\"drapeSourceType\",void 0),e([m()],k.prototype,\"scaleVisibilitySuspended\",null),e([m()],k.prototype,\"renderer\",null),e([m()],k.prototype,\"_featureStore\",void 0),e([m()],k.prototype,\"_filterVisibility\",void 0),e([m()],k.prototype,\"_overlayRenderer\",null),e([m()],k.prototype,\"_overlaySpatialReference\",null),e([m()],k.prototype,\"_rendererParameters\",null),e([m()],k.prototype,\"_materialParameters\",null),e([m()],k.prototype,\"_densityParameters\",null),e([m()],k.prototype,\"_radiusParameter\",null),e([m()],k.prototype,\"_resolutionForScaleParameter\",null),e([m()],k.prototype,\"_colorRampParameter\",null),e([m()],k.prototype,\"_pixelRatioParameter\",null),e([m()],k.prototype,\"_densityMapPixelRatio\",null),e([m()],k.prototype,\"_renderGeometries\",void 0),e([m()],k.prototype,\"_material\",void 0),e([m()],k.prototype,\"_materialWithField\",void 0),e([m()],k.prototype,\"_renderView\",null),e([m()],k.prototype,\"_featuresArePoints\",null),e([m()],k.prototype,\"_loadedPointGraphics\",null),e([m()],k.prototype,\"_heatmapRenderer\",null),e([m()],k.prototype,\"_heatmapRendererFieldName\",null),e([m()],k.prototype,\"_heatmapRendererField\",null),e([m()],k.prototype,\"_heatmapRendererFieldIsNumeric\",null),e([m()],k.prototype,\"_fieldTotal\",void 0),e([m()],k.prototype,\"_drapeSourceRenderer\",void 0),e([m()],k.prototype,\"_isScaleRangeActive\",null),k=e([h(\"esri.views.3d.layers.support.HeatmapFeatureProcessor\")],k);export{k as HeatmapFeatureProcessor,Y as maxRadiusPt};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Error.js\";import{destroyMaybe as r}from\"../../../../core/maybe.js\";import i from\"../../../../core/Promise.js\";import{initial as s,watch as o,sync as n,whenOnce as a}from\"../../../../core/reactiveUtils.js\";import{property as l}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as p}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as h}from\"../../../../core/support/UpdatingHandles.js\";import{FeatureTileController3D as u}from\"../../../../layers/graphics/controllers/FeatureTileController3D.js\";import{symbolHasExtrudeSymbolLayer as c}from\"../../../../symbols/support/utils.js\";import{elevationAlignPointsInFeatures as d}from\"./elevationAlignPointsInFeatures.js\";import{Graphics3DFeatureProcessor as y}from\"./Graphics3DFeatureProcessor.js\";import{QueryEngine as g}from\"./QueryEngine.js\";import{QueryEngineContext as m}from\"./QueryEngineContext.js\";import{queryForSymbologySnapping as f}from\"./queryForSymbologySnapping.js\";import{HeatmapFeatureProcessor as E}from\"../support/HeatmapFeatureProcessor.js\";import{LayerViewPerformanceInfo as w}from\"../support/LayerViewPerformanceInfo.js\";import{UpdatePolicy as C}from\"../../webgl-engine/lib/UpdatePolicy.js\";import{TaskPriority as b}from\"../../../support/Scheduler.js\";let O=class extends i{constructor(e){super(e),this._dataUpdatingState=_.NONE,this.graphicsQuery={queryForSymbologySnapping:async(e,t)=>this.symbologySnappingSupported?f(this.graphics3DProcessor,e,t):{candidates:[],sourceCandidateIndices:[]},executeQuery:(e,t)=>this.queryEngine.executeQuery(e,t),executeQueryForIds:(e,t)=>this.queryEngine.executeQueryForIds(e,t),executeQueryForCount:(e,t)=>this.queryEngine.executeQueryForCount(e,t),executeQueryForExtent:(e,t)=>this.queryEngine.executeQueryForExtent(e,t),executeQueryForLatestObservations:(e,t)=>this.queryEngine.executeQueryForLatestObservations(e,t)},this.controller=null,this.updatingHandles=new h,this._controllerCreated=!1,this._pendingController=null}initialize(){this.addResolvingPromise(this._initializeController()),this.updatingHandles.add((()=>this.layer.renderer),(e=>this._recreateProcessor(e)),s),this.updatingHandles.add((()=>this.updatePolicy),(e=>this.processor.preferredUpdatePolicy=e));const{layer:e,view:t,hasM:r,hasZ:i}=this,{spatialReference:o,resourceController:n}=t,a=new m(o,e,n,(()=>this.processor.featureStore),i,r);this.queryEngine=new g({context:a,priority:b.FEATURE_QUERY_ENGINE})}destroy(){this.removeAllHandles(),this.updatingHandles.destroy(),this._destroyPendingController(),this.controller=r(this.controller),this.processor=r(this.processor),this.queryEngine=r(this.queryEngine),this.loadedGraphics=null}_destroyPendingController(){this._pendingController=r(this._pendingController)}get updating(){return this.updatingHandles.updating||!this._controllerCreated||this.controller?.updating||this.processor?.updating}get legendEnabled(){return this.processor.legendEnabled}get layer(){return this.layerView.layer}get view(){return this.layerView.view}get hasZ(){return this.layerView.hasZ}get hasM(){return this.layerView.hasM}get fullOpacity(){return this.layerView.fullOpacity}get suspended(){return this.layerView.suspended}get filter(){return\"filter\"in this.layerView?this.layerView.filter:null}get effectiveDisplayFilter(){return\"effectiveDisplayFilter\"in this.layerView?this.layerView.effectiveDisplayFilter:null}get slicePlaneEnabled(){return this.layerView.slicePlaneEnabled}get featureSpatialReference(){return\"featureSpatialReference\"in this.layerView?this.layerView.featureSpatialReference:null}get graphics3DProcessor(){return\"graphics-3d\"===this.processor?.type?this.processor:null}get heatmapProcessor(){return\"heatmap\"===this.processor?.type?this.processor:null}get hasAllFeatures(){return!(!this.controller||!(\"hasAllFeatures\"in this.controller))&&this.controller.hasAllFeatures}get hasAllFeaturesInView(){return!(!this.controller||!(\"hasAllFeaturesInView\"in this.controller))&&this.controller.hasAllFeaturesInView}get hasFullGeometries(){return!(!this.controller||!(\"hasFullGeometries\"in this.controller))&&this.controller.hasFullGeometries}get symbologySnappingSupported(){return this.layer?.renderer?.symbols?.some(c)??!1}get updatePolicy(){return C.SYNC}get scaleVisibilitySuspended(){return this.processor?.scaleVisibilitySuspended}get timeExtent(){return\"timeExtent\"in this.layerView?this.layerView.timeExtent:null}get dataUpdating(){return this._dataUpdatingState!==_.NONE}get suspendInfo(){return this.processor?.suspendInfo??{}}forEachGraphic(e){this.loadedGraphics.forEach(e)}findGraphic(e){return this.loadedGraphics.find(e)}queryObjectIds(e,t){return this.layerView.queryObjectIds(e,t)}whenGraphicBounds(e,t){return this.processor?.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.processor?.computeAttachmentOrigin(e,t)}async elevationAlignPointsInFeatures(e,r){const i=this.graphics3DProcessor;if(null==i)throw new t(\"featurelayerview3d:missing-processor\",\"A Graphics3D processor is needed to resolve graphics elevation.\");return d(this.view,this.layer,(e=>i.getGraphics3DGraphicByObjectId(e)),e,r)}highlight(e,t){return this.processor.highlight(e,this.layer.objectIdField,t)}maskOccludee(e){return this.processor.maskOccludee(e)}async _initializeController(){const e=this.createController();this._pendingController=e,this._setupDataUpdating(e),await e.when(),this._setControllerWhenInitialized(e)}_setupDataUpdating(e){\"dataUpdating\"in e&&this.addHandles([o((()=>e.dataUpdating),(e=>{e&&this._dataUpdatingState===_.NONE?this._dataUpdatingState=_.CONTROLLER:e||this._dataUpdatingState!==_.CONTROLLER||(this._dataUpdatingState=_.NONE)}),n),o((()=>!!this.graphics3DProcessor?.dataUpdating),(t=>{t&&this._dataUpdatingState===_.CONTROLLER?this._dataUpdatingState=_.CORE:t||this._dataUpdatingState!==_.CORE||(this._dataUpdatingState=e.dataUpdating?_.CONTROLLER:_.NONE)}),n)])}async _setControllerWhenInitialized(e){try{await this.when()}catch(t){}this._controllerCreated=!0,this.isResolved()&&!this.destroyed?(await a((()=>this.view?.basemapTerrain?.ready)),this.beforeSetController(e),this._pendingController=null,this.controller=e,this.loadedGraphics=e.graphics):this._destroyPendingController()}_recreateProcessor(e){const t=\"heatmap\"===e?.type,r=\"heatmap\"===this.processor?.type,i=this.processor;if(i&&t===r)return;const s=t?new E({owner:this}):new y({owner:this,frustumVisibilityEnabled:!0,scaleVisibilityEnabled:!0,filterVisibilityEnabled:!0,timeExtentEnabled:!0,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!0,preferredUpdatePolicy:this.updatePolicy,updateClippingExtent:e=>this._updateClippingExtent(e)});this.processor=s,i?.destroy(),this.queryEngine?.clear(),this.addResolvingPromise(s.when())}_updateClippingExtent(e){if(this.clippingExtent=e,!this.controller)return!1;switch(this.controller.type){case\"stream\":return!1;case\"feature-tile-3d\":return this.controller.extent=e,!0}}get usedMemory(){return this.processor?.usedMemory??0}get performanceInfo(){const e=this.controller instanceof u?this.controller:null;return new w(this.usedMemory,this.loadedGraphics?.length,e?.serviceDataCount??-1,e?.maximumNumberOfFeatures??-1,0,this.processor.performanceInfo)}};var _;e([l()],O.prototype,\"updating\",null),e([l()],O.prototype,\"legendEnabled\",null),e([l()],O.prototype,\"layerView\",void 0),e([l()],O.prototype,\"layer\",null),e([l()],O.prototype,\"view\",null),e([l()],O.prototype,\"hasZ\",null),e([l()],O.prototype,\"hasM\",null),e([l()],O.prototype,\"fullOpacity\",null),e([l()],O.prototype,\"suspended\",null),e([l()],O.prototype,\"filter\",null),e([l()],O.prototype,\"effectiveDisplayFilter\",null),e([l()],O.prototype,\"slicePlaneEnabled\",null),e([l()],O.prototype,\"featureSpatialReference\",null),e([l()],O.prototype,\"loadedGraphics\",void 0),e([l()],O.prototype,\"graphics3DProcessor\",null),e([l()],O.prototype,\"heatmapProcessor\",null),e([l()],O.prototype,\"hasAllFeatures\",null),e([l()],O.prototype,\"hasAllFeaturesInView\",null),e([l()],O.prototype,\"hasFullGeometries\",null),e([l()],O.prototype,\"symbologySnappingSupported\",null),e([l()],O.prototype,\"updatePolicy\",null),e([l()],O.prototype,\"scaleVisibilitySuspended\",null),e([l()],O.prototype,\"timeExtent\",null),e([l()],O.prototype,\"_dataUpdatingState\",void 0),e([l({readOnly:!0})],O.prototype,\"dataUpdating\",null),e([l()],O.prototype,\"controller\",void 0),e([l()],O.prototype,\"processor\",void 0),e([l()],O.prototype,\"updatingHandles\",void 0),e([l()],O.prototype,\"_controllerCreated\",void 0),O=e([p(\"esri.views.3d.layers.graphics.Graphics3DGraphicsPipeline\")],O),function(e){e[e.NONE=0]=\"NONE\",e[e.CONTROLLER=1]=\"CONTROLLER\",e[e.CORE=2]=\"CORE\"}(_||(_={}));export{O as Graphics3DGraphicsPipeline};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nfunction t(n){const o={};for(const e in n){if(\"declaredClass\"===e)continue;const r=n[e];if(null!=r&&\"function\"!=typeof r)if(Array.isArray(r)){o[e]=[];for(let n=0;n<r.length;n++)o[e][n]=t(r[n])}else\"object\"==typeof r?r.toJSON&&(o[e]=JSON.stringify(r)):o[e]=r}return o}export{t as mapParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{ScreenSpacePass as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.glsl.js\";import{FloatPassUniform as i}from\"../views/3d/webgl-engine/core/shaderModules/FloatPassUniform.js\";import{glsl as s}from\"../views/3d/webgl-engine/core/shaderModules/glsl.js\";import{Texture2DPassUniform as r}from\"../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform.js\";import{ShaderBuilder as n}from\"../views/webgl/ShaderBuilder.js\";function t(t){const o=new n;return o.include(e),o.fragment.uniforms.add(new r(\"densityMap\",(e=>e.densityMap)),new r(\"tex\",(e=>e.colorRamp)),new i(\"densityNormalizer\",(e=>1/(e.maxDensity-e.minDensity))),new i(\"minDensity\",(e=>e.minDensity)),new i(\"densityMultiplier\",(e=>3/(e.searchRadius*e.searchRadius*Math.PI)*(t.usesHalfFloat?4:1)))).main.add(s`float density = texture(densityMap, uv).r * densityMultiplier;\nfloat densityRatio = (density - minDensity) * densityNormalizer;\nfragColor = texture(tex, vec2(clamp(densityRatio, 0.0, 1.0), 0.5));`),o}const o=Object.freeze(Object.defineProperty({__proto__:null,build:t},Symbol.toStringTag,{value:\"Module\"}));export{o as H,t as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Error.js\";import{destroyMaybe as r}from\"../../../core/maybe.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import{hydrateGraphic as n}from\"../../../layers/graphics/hydratedFeatures.js\";import{combineTimeExtent as p}from\"../../../layers/support/timeSupport.js\";import a from\"../../../rest/support/Query.js\";import{toViewIfLocal as o}from\"./support/projectExtentUtils.js\";import{UpdatePolicy as l}from\"../webgl-engine/lib/UpdatePolicy.js\";import{defaultHighlightName as u}from\"../../support/HighlightDefaults.js\";const h=h=>{let y=class extends h{constructor(){super(...arguments),this.highlightOptions=null,this.updatePolicy=l.SYNC,this.slicePlaneEnabled=!1,this.fullExtentInLocalViewSpatialReference=null,this.supportsHeightUnitConversion=!0}initialize(){const e=this.layer;\"isTable\"in e&&e.isTable?this.addResolvingPromise(Promise.reject(new t(\"featurelayerview:table-not-supported\",\"table feature layer can't be displayed\",{layer:e}))):(this.addResolvingPromise(this._validateGeometryType()),this.addResolvingPromise((async()=>{const e=await o(this);if(this.destroyed)return;this.fullExtentInLocalViewSpatialReference=e;const t=await this.createGraphicsPipeline();this.destroyed?t.destroy():(this.graphicsPipeline=t,await t.when())})()),this.notifyChange(\"updating\"))}destroy(){this.graphicsPipeline=r(this.graphicsPipeline)}get dataUpdating(){return!!this.graphicsPipeline?.dataUpdating}get legendEnabled(){return this.canResume()&&this.graphicsPipeline?.legendEnabled}get visibleAtCurrentScale(){return!this.graphicsPipeline?.scaleVisibilitySuspended}get symbologySnappingSupported(){return this.graphicsPipeline.symbologySnappingSupported}get hasAllFeatures(){return this.graphicsPipeline.hasAllFeatures}get hasAllFeaturesInView(){return this.graphicsPipeline.hasAllFeaturesInView}get hasFullGeometries(){return this.graphicsPipeline.hasFullGeometries}get timeExtent(){return p(this.layer,this.view?.timeExtent,this._get(\"timeExtent\"))}getHit(e){const t=this.graphicsPipeline.findGraphic((t=>t.uid===e));if(null==t)return null;const r=n(t,this.layer);return{type:\"graphic\",graphic:r,layer:r.layer}}whenGraphicBounds(e,t){return this.graphicsPipeline?.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.graphicsPipeline?.computeAttachmentOrigin(e,t)}async elevationAlignPointsInFeatures(e,t){return this.graphicsPipeline.elevationAlignPointsInFeatures(e,t)}async queryForSymbologySnapping(e,t){return this.graphicsPipeline.graphicsQuery.queryForSymbologySnapping(e,t)}queryFeatures(e,t){return this.graphicsPipeline.graphicsQuery.executeQuery(this._ensureQuery(e),t?.signal)}queryObjectIds(e,t){return this.graphicsPipeline.graphicsQuery.executeQueryForIds(this._ensureQuery(e),t?.signal)}queryFeatureCount(e,t){return this.graphicsPipeline.graphicsQuery.executeQueryForCount(this._ensureQuery(e),t?.signal)}queryExtent(e,t){return this.graphicsPipeline.graphicsQuery.executeQueryForExtent(this._ensureQuery(e),t?.signal)}_ensureQuery(e){return null==e?this.createQuery():a.from(e)}highlight(e,t){return this.graphicsPipeline.highlight(e,t?.name??u)}maskOccludee(e){return this.graphicsPipeline.maskOccludee(e)}getSuspendInfo(){return{...super.getSuspendInfo(),...this.graphicsPipeline.suspendInfo}}isUpdating(){return!(!this.graphicsPipeline||this.graphicsPipeline.destroyed)&&!(!this.graphicsPipeline?.updating&&this.view?.basemapTerrain?.ready)}async _validateGeometryType(){switch(this.layer.geometryType){case\"multipatch\":case\"multipoint\":throw new t(\"featurelayerview3d:unsupported-geometry-type\",\"Unsupported geometry type ${geometryType}\",{geometryType:this.layer.geometryType})}}get performanceInfo(){return this.graphicsPipeline.performanceInfo}queryAttributeBins(){throw new Error(\"Not implemented\")}queryAggregates(){throw new Error(\"Not implemented\")}};return e([i()],y.prototype,\"graphicsPipeline\",void 0),e([i({readOnly:!0})],y.prototype,\"dataUpdating\",null),e([i()],y.prototype,\"highlightOptions\",void 0),e([i()],y.prototype,\"suspended\",void 0),e([i({readOnly:!0})],y.prototype,\"legendEnabled\",null),e([i({readOnly:!0})],y.prototype,\"visibleAtCurrentScale\",null),e([i()],y.prototype,\"updating\",void 0),e([i({readOnly:!0})],y.prototype,\"updatePolicy\",void 0),e([i({type:Boolean})],y.prototype,\"slicePlaneEnabled\",void 0),e([i({readOnly:!0})],y.prototype,\"suspendInfo\",void 0),e([i()],y.prototype,\"symbologySnappingSupported\",null),e([i({readOnly:!0})],y.prototype,\"hasAllFeatures\",null),e([i({readOnly:!0})],y.prototype,\"hasAllFeaturesInView\",null),e([i({readOnly:!0})],y.prototype,\"hasFullGeometries\",null),e([i({readOnly:!0})],y.prototype,\"timeExtent\",null),y=e([s(\"esri.views.3d.layers.FeatureLikeLayerView3D\")],y),y};export{h as FeatureLikeLayerView3D};\n"],"names":["l","constructor","e","t","r","o","this","dataType","samplingMode","pixelFormat","internalFormat","n","i","textureFloatLinear","s","colorBufferFloat","f","capabilities","u","textureFloat","_","textureHalfFloat","c","floatBlend","m","driverTest","floatBufferBlend","result","p","d","R","h","R32F","b","R16F","warnOnce","FLOAT","LINEAR","NEAREST","RED","RGBA","a","HALF_FLOAT","minX","minY","maxX","maxY","search","_indexInvalid","_boundsToLoad","_boundsById","Map","_idByBounds","_index","has","_loadIndex","Array","size","forEach","clear","load","length","from","Set","filter","fullBounds","values","Math","min","max","valid","delete","get","remove","forEachInBounds","invalidateIndex","set","push","feature","resolution","refCount","isReferenced","versions","isSingle","_highestResolutionVersion","ref","oldVersion","Object","defineProperty","value","uid","configurable","newVersion","unref","_recalculateHighestResolutionVersion","Error","stack","slice","_refCount","_feature","descriptor","fetchStatus","F","FETCH_NEEDED","_numVertices","_featuresMissing","_fetchFailed","_shuffled","_numFeatures","_emptyFeatureRatio","_estimatedSize","_estimatedUnusedSize","_estimatedUnusedSizeDirty","_displayingFeatures","alive","filtered","_features","_featuresLength","_featureLimit","fetchingResolution","displayingResolution","featuresMissing","missingAttributes","_missingAttributes","fetchFailed","displayingFeatures","extentIncludingBorrowedFeatures","perTileMaximumNumberOfFeaturesExceeded","DONE","FULL","hasFeatureLimit","features","featureLimit","hasAllFeatures","availableFields","_availableFields","setFeatures","reduce","geometry","computeZQuantizationFactor","_ref","floor","planetRadius","emptyFeatureRatio","numFeatures","hasPreciseFeatureCount","needsFeatureCount","numVertices","id","estimatedSize","updateMemoryEstimates","estimatedUnusedSize","isFetching","FETCHING","REFETCHING","isRefetching","needsFetch","REFETCH_NEEDED","needsRefetch","isFetched","resetFetching","needsDisplayUpdate","S","intersects","extent","intersectionIncludingBorrowed","_shuffle","sort","reduceFeatures","ceil","cache","E","requestController","cachedMemory","A","maximumNumberOfFeatures","_get","_set","_maximumFeaturesUpdated","memoryFactor","_setDirty","lodFactor","_supportsResolution","refetch","useTileCount","_useTileCount","context","query","queryFeatureCount","notifyChange","updating","_dirty","_pendingEdits","_isFetching","tileDescriptors","memoryForUnusedFeatures","_featureTiles","totalVertices","totalFeatures","_paused","dataUpdating","hasFullGeometries","some","P","supportsQuantization","geometryType","filterExtent","tilingScheme","spatialReference","equals","getLogger","error","clone","_reclip","_updateTileZQuantization","viewingMode","v","Global","_zQuantizationFactor","_tileZQuantization","isDraped","super","running","updatingTotal","updatingRemaining","expectedFeatureDiff","maximumNumberOfFeaturesExceeded","_fullRatio","_farRatio","_changes","updates","adds","removes","_frameTask","O","_displayingFeatureReferences","_numDisplayingFeatureReferences","_suspended","_applyEditsTilesUpdated","initialize","addHandles","sync","onListenerAdd","_objectIdField","objectIdField","FeatureReferenceClass","supportsMultipleResolutions","C","scheduler","registerTask","j","FEATURE_TILE_FETCHER","destroy","_cancelFetchTile","_removeTile","controller","abort","restart","_clearTile","_resetFetchTile","memoryCache","suspend","_pause","resume","_unpause","getMissingAttributesForFeature","_updated","applyEdits","edits","Promise","resolve","count","AbortController","then","catch","_applyEditsDeleteFeatures","deletedFeatures","_applyEditsAddUpdateFeatures","addedFeatures","updatedFeatures","signal","globalIdField","objectId","globalId","errorOncePerTick","_objectIdFromGlobalId","add","T","_applyEditsTileUpdated","_invalidateCounts","find","attributes","_applyEditsAddUpdateTile","allSettled","_createQuery","resultType","cacheHint","objectIds","_queryFeatures","z","fields","queryFeaturesDehydrated","timeout","k","runTask","processQueue","initialized","_getListOfTiles","_markTilesNotAlive","run","_addTiles","_filterExtentTiles","_removeTiles","done","_sortTiles","_showTiles","_fetchTiles","_updateMemoryEstimates","_updateMaximumNumberOfFeaturesExceeded","_addTile","madeProgress","hasProgressed","pop","loadPriority","_updateRatio","M","_showTile","_needsNumFeatures","_fetchTileCount","_handleRequest","_notifyDataUpdating","_scheduleUpdated","_fetchTile","logFetchError","q","H","_refreshDisplayingFeatures","_applyChanges","_maximumFeaturesForTile","debugger","update","lij","I","w","_referenceDisplayingFeaturesFromRelatedTiles","U","g","_fetchCount","N","_getMaxRecordCount","supportsMaxRecordCountFactor","MAX_MAX_RECORD_COUNT_FACTOR","_fetchPagedTile","maxRecordCountFactor","exceededTransferLimit","schedule","_removeEmptyFeatures","Q","_createFeatureCountQuery","_setPagingParameters","num","concat","supportsCacheHint","createQuery","y","_setResolutionParams","_useTileQuery","effectiveDisplayFilter","where","supportsPagination","start","_getEffectiveTileResolution","resolutionAtLevel","quantizationParameters","mode","originPosition","tolerance","fullExtent","maxAllowableOffset","_ref2","x","tileMaxRecordCount","maxRecordCount","supportsResultType","L","hasHandles","removeHandles","_hideTileFeatures","_hideTile","removeMany","addMany","G","put","storedFeatures","missingTiles","test","map","name","attribute","constructOnly","prototype","readOnly","_loadingGraphics","_loadedGraphics","_pendingGraphics","_dataExtentGraphic","_enabled","_tileFetcher","_view","_tilingScheme","_loadedSymbols","symbolLayers","material","color","outline","_loadingSymbols","_pendingSymbols","_dataExtentSymbol","enabled","_synchronizeMaps","symbols","showDataExtent","graphics","fromExtent","symbol","getFeatureTileById","forEachFeatureTile","ensureMaxLod","getExtentGeometry","center","verticalOffset","screenLength","callout","border","text","halo","EsriPromiseMixin","layerView","view","_fetchDataInfoPromise","featureTiles","_updatingHandles","displayFeatureLimit","_overrideIfSome","hasMaximumNumberOfFeaturesOverride","_isOverridden","serviceDataCount","noServiceDataCount","hasAllFeaturesInView","layer","type","infoFor3D","_forceTilesMode","qualitySettings","graphics3D","snapshotAvailable","_snapshotLimitExceeded","quality","minScale","serviceDataExtent","_approximateExtentSizeAtScale","width","height","maxSnapshotMinScaleFactor","maxTotalSnapshotVertices","pixelSize","levels","tileSize","scale","tiles","_fetchDataInfoAbortController","_lifeCycleAbortController","addPromise","_updateSnapshotLimit","_modeChanged","addResolvingPromise","_verifyCapabilities","_fetchServiceDataInfo","_initializeTileFetcher","operations","supportsQuery","_cancelFetchServiceDataInfo","_tilesHandle","_refetch","resetForceTilesMode","createQueryVersion","_dataFilterChanged","_effectiveDisplayFilterChanged","_availableFieldsChanged","requiredFields","_requiredFieldsChanged","customParameters","on","_applyEdits","FEATURE_TILE_FETCH_SHOW_TILES","V","toTileInfo","_supportsExceedsLimitQuery","addClient","warn","refresh","_updateServiceDataExtent","_createVertexLimitExceededQuery","returnGeometry","outStatistics","statisticType","maxVertexCount","outStatisticFieldName","maxPointCount","_createDataInfoQuery","outSpatialReference","_fullExtentIsAccurate","definitionExpression","D","url","_tryUpdateServiceDataExtent","fullExtentInLocalViewSpatialReference","supportsExtent","maxFeatureCountForExtent","queryExtent","queryExtentTimeout","portalItem","_updateServiceDataCount","queryStatisticsTimeout","ok","supportsExceedsLimitStatistics","_minimumNumberOfVerticesForGeometry","averageSymbolComplexity","maximumTotalNumberOfVertices","verticesPerFeature","verticesPerCoordinate","queryFeatures","exceedslimit","performanceInfo","Number","reset","async","elevationProvider","renderCoordsHelper","elevationInfo","pointsInFeatures","fromJSON","WGS84","points","graphic","setFromElevationInfo","updateFeatureExpressionInfoContext","elevations","drapedObjectIds","failedObjectIds","vertex","fragment","varyings","isAttributeDriven","usesHalfFloat","POSITION","UV0","FEATUREATTRIBUTE","constants","uniforms","resolutionForScale","searchRadius","camera","screenToWorldRatio","overlayStretch","pixelRatio","fullViewport","main","freeze","__proto__","build","Symbol","toStringTag","toJSON","compactGeometryEnabled","defaultSpatialReferenceEnabled","xmin","ymin","xmax","ymax","JSON","stringify","inSR","groupByFieldsForStatistics","join","orderByFields","outFields","returnDistinctValues","returnCountOnly","returnExtentOnly","returnIdsOnly","includes","outSR","returnCentroid","fullText","parameterValues","rangeValues","dynamicDataSource","source","timeExtent","end","time","defaultSR","isEmpty","data","createFeatureResult","hasOwnProperty","arguments","undefined","path","formatOf3DObjects","responseType","geometryServiceUrl","portal","getDefault","helperServices","geometries","isArray","state","isLocal","destroyed","candidates","graphics3DGraphicsByObjectID","graphics3DGraphics","renderer","arcadeRequired","graphics3DSymbol","getRenderingInfoAsync","queryForSnapping","symbologySnappingSupported","all","sourceCandidateIndices","_length","toArray","emit","REMOVE","added","removed","ADD","geometryInfo","_boundsStore","_featuresById","_usedMemory","events","featureAdapter","usedMemory","hasM","hasZ","storeStatistics","coords","featureCount","vertexCount","getFullExtent","_add","_emitChanged","upsertMany","_upsert","removeById","_remove","removeManyById","forEachBounds","getFeature","displayId","estimateFeatureUsedMemory","onFeatureAdd","onFeatureRemove","colorRamp","densityMap","fieldTotal","minDensity","maxDensity","primitiveType","TRIANGLE_STRIP","initializePipeline","blending","colorWrite","depthTest","depthWrite","_colorRampData","Uint8ClampedArray","_heatmapParameters","_configuration","wrapMode","CLAMP_TO_EDGE","rendererContext","rctx","_densityMap","_quad","pluginContext","techniques","precompile","_colorRamp","colorTexture","colorRampData","notifyContentChanged","resize","setData","hasHighlights","hasWater","rendersOccludedDraped","render","sortedRenderers","getBoundFramebufferObject","getViewport","bindFramebuffer","setViewport","COLOR","forAll","acquireTechniques","bindVAO","bindTechnique","bind","drawArrays","usesHalfFloats","produces","DRAPED_MATERIAL","Color","getConfiguration","parameters","visible","createGLMaterial","intersect","intersectDraped","dist","normal","createBufferWriter","beginSlot","getTechnique","vertexBufferLayout","elementCount","indices","write","position","uv0","setValues","featureAttribute","vec3f","vec2f","f32","preferredUpdatePolicy","ASYNC","dataExtent","drapeSourceType","Features","_renderGeometries","_fieldTotal","_drapeSourceRenderer","_dataType","Z","_pixelFormat","$","_renderView","renderingContext","reject","_featureStore","basemapTerrain","overlayManager","registerDrapeSource","_rendererParameters","_material","_materialWithField","_filterVisibility","configuration","owner","featureStore","getFeatureCount","_loadedPointGraphics","setAllFeaturesVisibility","_setAllFeaturesVisibility","clearFeaturesVisibility","updateFeatureVisibilities","_updateFeatureVisibilities","addOnCollectionChange","_onLoadedFeaturesChange","addWhen","_materialParameters","_forEachMaterial","setParameters","_heatmapRendererField","_recreate","fieldName","_heatmapRendererFieldName","numeric","_heatmapRendererFieldIsNumeric","field","title","_ref3","unregisterDrapeSource","filterVisibility","suspendInfo","legendEnabled","heatmap","maxTotalNumberOfFeatures","fullOpacity","updatePolicy","scaleVisibilitySuspended","_isScaleRangeActive","maxScale","effectiveScaleRange","B","usedMemoryPerFeature","_overlayRenderer","overlays","_densityMapPixelRatio","loadedFeatures","unprocessedMemoryEstimate","_visibleFeatures","_heatmapRenderer","_overlaySpatialReference","_radiusParameter","_densityParameters","_colorRampParameter","_pixelRatioParameter","_resolutionForScaleParameter","_clampSearchRadius","radius","referenceScale","colorStops","_stage","renderView","_featuresArePoints","loadedGraphics","fieldsIndex","W","whenGraphicBounds","computeAttachmentOrigin","highlight","maskOccludee","setObjectIdVisibility","refreshFilter","reapply","centroid","_computeFieldTotalChange","_ref4","_pointGraphicToRenderGeometry","removeGeometries","addGeometries","requestRender","Point","layerUid","graphicUid","defaultVisibility","_ref5","modifyGeometries","VISIBILITY","_dataUpdatingState","NONE","graphicsQuery","queryForSymbologySnapping","graphics3DProcessor","executeQuery","queryEngine","executeQueryForIds","executeQueryForCount","executeQueryForExtent","executeQueryForLatestObservations","updatingHandles","_controllerCreated","_pendingController","_initializeController","_recreateProcessor","processor","resourceController","priority","FEATURE_QUERY_ENGINE","removeAllHandles","_destroyPendingController","suspended","slicePlaneEnabled","featureSpatialReference","heatmapProcessor","SYNC","forEachGraphic","findGraphic","queryObjectIds","elevationAlignPointsInFeatures","getGraphics3DGraphicByObjectId","createController","_setupDataUpdating","when","_setControllerWhenInitialized","CONTROLLER","CORE","isResolved","ready","beforeSetController","frustumVisibilityEnabled","scaleVisibilityEnabled","filterVisibilityEnabled","timeExtentEnabled","elevationAlignmentEnabled","elevationFeatureExpressionEnabled","updateClippingExtent","_updateClippingExtent","clippingExtent","include","PI","highlightOptions","supportsHeightUnitConversion","isTable","_validateGeometryType","createGraphicsPipeline","graphicsPipeline","canResume","visibleAtCurrentScale","getHit","_ensureQuery","getSuspendInfo","isUpdating","queryAttributeBins","queryAggregates","Boolean"],"sourceRoot":""}