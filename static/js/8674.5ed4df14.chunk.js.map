{"version":3,"file":"static/js/8674.5ed4df14.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/widgets/OrientedImageryViewer/components/OverlayLayersListViewModel.js","../node_modules/@arcgis/core/widgets/OrientedImageryViewer/components/OverlayLayersList.js","../node_modules/@arcgis/core/widgets/OrientedImageryViewer/components/ImageOverlays.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../core/Logger.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import\"../../../core/Error.js\";import{subclass as s}from\"../../../core/accessorSupport/decorators/subclass.js\";import t from\"../../LayerList/LayerListViewModel.js\";import{isValidOverlayLayer as r}from\"../dataCaptureUtils.js\";let o=class extends t{_compileList(){const e=this.view?.map?.allLayers;if(!e)return;const s=e.filter(r);this._watchLayersListMode(s);const t=this._getViewableLayers(s);t?.length?(this._createNewItems(t),this._removeItems(t),this._sortItems(t)):this._removeAllItems()}};o=e([s(\"esri.widgets.OrientedImageryViewer.components.OverlayLayersListViewModel\")],o);const i=o;export{i as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import{watch as e,syncAndInitial as t}from\"../../../core/reactiveUtils.js\";import{property as i}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as r}from\"../../../core/accessorSupport/decorators/subclass.js\";import s from\"../../LayerList.js\";import p from\"./OverlayLayersListViewModel.js\";let a=class extends s{constructor(){super(...arguments),this._rootListEl=null,this.viewModel=new p,this.selectionMode=\"multiple\",this.visibilityAppearance=void 0}initialize(){super.initialize(),this.addHandles([e((()=>this._rootListEl),(()=>{this._rootListEl&&(this._rootListEl.selectionAppearance=\"icon\")}),t)])}};o([i()],a.prototype,\"_rootListEl\",void 0),o([i()],a.prototype,\"viewModel\",void 0),o([i()],a.prototype,\"selectionMode\",void 0),o([i()],a.prototype,\"visibilityAppearance\",void 0),a=o([r(\"esri.widgets.OrientedImageryViewer.components.OverlayLayersList\")],a);const l=a;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Collection.js\";import s from\"../../../core/Identifiable.js\";import{watch as a,on as i,syncAndInitial as o}from\"../../../core/reactiveUtils.js\";import{property as r}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{isEditableLayer as n}from\"../../../layers/support/editableLayers.js\";import c from\"../../../support/actions/ActionToggle.js\";import d from\"../../Widget.js\";import{css as h}from\"../css.js\";import{isValidDataCaptureLayer as p}from\"../dataCaptureUtils.js\";import m from\"./OverlayLayersList.js\";import{loadCalciteComponents as y}from\"../../support/componentsUtils.js\";import{globalCss as u}from\"../../support/globalCss.js\";import\"../../support/widgetUtils.js\";import{tsx as g}from\"../../support/jsxFactory.js\";let L=class extends(s.IdentifiableMixin(d)){constructor(e){super(e),this._previousAction=null,this.closed=!1,this.dataCaptureEnabled=!1,this.dataCaptureLayer=null,this.imageGeometryField=null,this.imageReferenceField=null,this.layerList=new m({selectionMode:\"multiple\"}),this.messages=null,this.overlayedLayers=new t,this.showCameraLocations=!1,this.showMapFeatures=!1,this._createSelectedItemsHandle=()=>{this.removeHandles(\"selected-items\"),this.addHandles(this._trackLayerSelectionChanges(),\"selected-items\")},this._createDataCaptureLayerHandle=()=>a((()=>({dataCaptureLayer:this.dataCaptureLayer,operationalItems:this.layerList.operationalItems})),(({dataCaptureLayer:e,operationalItems:t},s)=>{if(!e&&s?.dataCaptureLayer){const e=t.find((e=>e.layer===s.dataCaptureLayer));e&&e.actionsSections?.items.forEach((e=>{e.items.forEach((e=>{\"create-features\"===e.id&&(e.value=!1)}))}))}}),o),this._handleSelectedItemsChange=({added:e,removed:t})=>{e.forEach((e=>{this.overlayedLayers.includes(e.layer)||this.onLayerSelected?.(e)})),t.forEach((e=>{this.overlayedLayers.includes(e.layer)&&this.onLayerDeselected?.(e)})),this.overlayedLayers.removeAll(),this.overlayedLayers.addMany(this.layerList.selectedItems.items.map((e=>e.layer)))},this._layerListTriggerActionHandle=()=>i((()=>this.layerList),\"trigger-action\",(e=>{const{action:t,item:{layer:s}}=e;if(this._resetPreviousAction(t),\"create-features\"===t.id)this._toggleDataCaptureLayer(t,s)})),this._resetPreviousAction=e=>{\"toggle\"===this._previousAction?.type&&this._previousAction!==e&&(this._previousAction.value=!1,this._previousAction=null)},this._toggleDataCaptureLayer=(e,t)=>{this._previousAction=e;const s=e.value;this.dataCaptureLayer=s?t:null,this.onDataCaptureLayerChanged?.(this.dataCaptureLayer)},this._trackLayerSelectionChanges=()=>i((()=>this.layerList.selectedItems),\"change\",this._handleSelectedItemsChange),this._watchLayerListForListItemCreatedFunction=()=>a((()=>({layerList:this.layerList,listItemCreatedFunction:this._listItemCreatedFunction})),(()=>{this.layerList.listItemCreatedFunction=this._listItemCreatedFunction}),o),this._watchSelectedItems=()=>a((()=>this.layerList.selectedItems),this._createSelectedItemsHandle,o)}initialize(){this.addHandles([this._watchSelectedItems(),this._layerListTriggerActionHandle(),this._watchLayerListForListItemCreatedFunction(),this._createDataCaptureLayerHandle()])}loadDependencies(){return y({list:()=>import(\"@esri/calcite-components/dist/components/calcite-list\"),\"list-item\":()=>import(\"@esri/calcite-components/dist/components/calcite-list-item\"),panel:()=>import(\"@esri/calcite-components/dist/components/calcite-panel\"),switch:()=>import(\"@esri/calcite-components/dist/components/calcite-switch\")})}get _listItemCreatedFunction(){const{dataCaptureEnabled:e,imageGeometryField:t,imageReferenceField:s}=this;return e&&t&&s?async e=>{const{item:a}=e,i=a.layer,{dataCaptureLayer:o,overlayedLayers:r,messages:{createFeaturesFromImage:l},layerList:c}=this,d=r.includes(i),{selectedItems:h}=c;if(C(d,h,a),await(i?.load()),!i||!p(i,t,s)||!n(i))return;const m=o===i,y=_(l,a,h,m);m&&(this._previousAction=y)}:null}get view(){return this.layerList?.view}set view(e){this.layerList.view=e}_renderCameraLocationsSwitch(e){return g(\"calcite-list-item\",{bind:this,label:this.messages.overlayCameraLocations,onclick:this._toggleShowCameraLocations},g(\"calcite-switch\",{bind:this,checked:e,class:h.overlaysSwitch,onchange:this._toggleShowCameraLocations,scale:\"s\",slot:\"actions-end\"}))}_renderOverlayMapFeatures(e){return g(\"calcite-list-item\",{bind:this,label:this.messages?.overlayMapFeatures,onclick:this._toggleShowMapFeatures},g(\"calcite-switch\",{bind:this,checked:e,class:h.overlaysSwitch,onchange:this._toggleShowMapFeatures,scale:\"s\",slot:\"actions-end\"}))}_renderList(e){return e?g(\"div\",{class:h.imageOverlaysLayerList},this.layerList.render()):null}_renderPanel(){const{closed:e,messages:t,showCameraLocations:s,showMapFeatures:a}=this;return g(\"calcite-panel\",{bind:this,closable:!0,closed:e,heading:t.imageOverlays,onCalcitePanelClose:this.onImageOverlaysClosed},g(\"calcite-list\",{label:t.imageOverlays},this._renderCameraLocationsSwitch(s),this._renderOverlayMapFeatures(a)),this._renderList(a))}_toggleShowCameraLocations(e){e.stopPropagation(),this.showCameraLocations=!this.showCameraLocations,this.onShowCameraLocationsChanged?.(this.showCameraLocations)}_toggleShowMapFeatures(e){e.stopPropagation(),this.showMapFeatures=!this.showMapFeatures,this.onShowMapFeaturesChanged?.(this.showMapFeatures)}render(){const e=this.layerList.operationalItems.items.length,t=this.showMapFeatures&&0===e,s=this.showMapFeatures&&e>0,a={[u.widget]:!0,[h.imageOverlaysNoResult]:t,[h.imageOverlaysIncreasedHeight]:s,[h.imageOverlays]:!t&&!s};return g(\"div\",{class:this.classes(a)},this._renderPanel())}};e([r()],L.prototype,\"_previousAction\",void 0),e([r()],L.prototype,\"_listItemCreatedFunction\",null),e([r()],L.prototype,\"closed\",void 0),e([r()],L.prototype,\"dataCaptureEnabled\",void 0),e([r()],L.prototype,\"dataCaptureLayer\",void 0),e([r()],L.prototype,\"imageGeometryField\",void 0),e([r()],L.prototype,\"imageReferenceField\",void 0),e([r()],L.prototype,\"layerList\",void 0),e([r()],L.prototype,\"messages\",void 0),e([r()],L.prototype,\"onDataCaptureLayerChanged\",void 0),e([r()],L.prototype,\"onImageOverlaysClosed\",void 0),e([r()],L.prototype,\"onLayerDeselected\",void 0),e([r()],L.prototype,\"onLayerSelected\",void 0),e([r()],L.prototype,\"onShowCameraLocationsChanged\",void 0),e([r()],L.prototype,\"onShowMapFeaturesChanged\",void 0),e([r()],L.prototype,\"overlayedLayers\",void 0),e([r()],L.prototype,\"showCameraLocations\",void 0),e([r()],L.prototype,\"showMapFeatures\",void 0),e([r()],L.prototype,\"view\",null),L=e([l(\"esri.widgets.OrientedImageryViewer.components.ImageOverlays\")],L);const v=L;function C(e,t,s){e&&t.items.push(s)}function w(e,s){const a=new t;a.add(e),s.actionsSections=new t([a])}function _(e,t,s,i=!1){const r=new c({icon:\"pencil\",id:\"create-features\",title:e,value:i});return t.addHandles(a((()=>s.includes(t)),(e=>{r.visible=e}),o)),w(r,t),r}export{v as default};\n"],"names":["o","t","_compileList","e","this","view","map","allLayers","s","filter","r","_watchLayersListMode","_getViewableLayers","length","_createNewItems","_removeItems","_sortItems","_removeAllItems","i","a","constructor","super","arguments","_rootListEl","viewModel","p","selectionMode","visibilityAppearance","initialize","addHandles","selectionAppearance","prototype","l","L","IdentifiableMixin","d","_previousAction","closed","dataCaptureEnabled","dataCaptureLayer","imageGeometryField","imageReferenceField","layerList","m","messages","overlayedLayers","showCameraLocations","showMapFeatures","_createSelectedItemsHandle","removeHandles","_trackLayerSelectionChanges","_createDataCaptureLayerHandle","operationalItems","_ref","find","layer","actionsSections","items","forEach","id","value","_handleSelectedItemsChange","_ref2","added","removed","includes","onLayerSelected","onLayerDeselected","removeAll","addMany","selectedItems","_layerListTriggerActionHandle","action","item","_resetPreviousAction","_toggleDataCaptureLayer","type","onDataCaptureLayerChanged","_watchLayerListForListItemCreatedFunction","listItemCreatedFunction","_listItemCreatedFunction","_watchSelectedItems","loadDependencies","y","list","list-item","panel","switch","async","createFeaturesFromImage","c","h","push","C","load","n","undefined","icon","title","visible","add","w","_","_renderCameraLocationsSwitch","g","bind","label","overlayCameraLocations","onclick","_toggleShowCameraLocations","checked","class","overlaysSwitch","onchange","scale","slot","_renderOverlayMapFeatures","overlayMapFeatures","_toggleShowMapFeatures","_renderList","imageOverlaysLayerList","render","_renderPanel","closable","heading","imageOverlays","onCalcitePanelClose","onImageOverlaysClosed","stopPropagation","onShowCameraLocationsChanged","onShowMapFeaturesChanged","u","widget","imageOverlaysNoResult","imageOverlaysIncreasedHeight","classes","v"],"sourceRoot":""}