"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[42989],{42989:(e,t,a)=>{a.d(t,{default:()=>M});var r=a(35143),s=a(31633),n=a(46053),i=(a(81806),a(76460),a(47249),a(85842)),c=a(25329),u=a(63544),m=(a(11265),a(39839)),l=a(39348);const o=e=>{let t=class extends e{constructor(){super(...arguments),this.messages=null,this.pixelMeasurementUnit="meters",this.pixelAreaMeasurementUnit="square-meters"}copyMeasurementResult(e){let t,a;switch(e){case"area":t={measurement:this.getConvertedAreaString("measurement"),accuracy:this.getConvertedAreaString("accuracy")},a="{measurement} \xb1 {accuracy}";break;case"distance":t={measurement:this.getConvertedDistanceString("measurement"),accuracy:this.getConvertedDistanceString("accuracy")},a="{measurement} \xb1 {accuracy}";break;case"height":t={measurement:this.getConvertedHeightString("measurement"),accuracy:this.getConvertedHeightString("accuracy")},a="{measurement} \xb1 {accuracy}"}const r=(0,l.V)(a,t);(0,m.lW)(r)}getConvertedAreaString(e){const{oiViewModel:t,measurementUnitMessages:a,pixelAreaMeasurementUnit:r,messages:s}=this,{areaMeasurementResult:n,areaMeasurementAccuracy:i}=t;return(0,m.uH)(e,n,i,a,r)??s.startMeasurement}getConvertedDistanceString(e){const{oiViewModel:t,measurementUnitMessages:a,pixelMeasurementUnit:r,messages:s}=this,{distanceAccuracyArray:n,distanceMeasurementResult:i}=t;return(0,m.EH)(e,i,n,a,r)??s.startMeasurement}getAccuracy(e){let t,a;switch(e){case"area":return t={accuracy:this.getConvertedAreaString("accuracy")},a="\xb1 {accuracy}",(0,l.V)(a,t);case"distance":return t={accuracy:this.getConvertedDistanceString("accuracy")},a="\xb1 {accuracy}",(0,l.V)(a,t);case"height":return t={accuracy:this.getConvertedHeightString("accuracy")},a="\xb1 {accuracy}",(0,l.V)(a,t)}}getConvertedHeightString(e){const{oiViewModel:t,measurementUnitMessages:a,pixelMeasurementUnit:r,messages:s}=this,{heightMeasurementAccuracy:n,heightMeasurementResult:i}=t;return(0,m.wv)(e,i,n,a,r)??s.startMeasurement}handleLengthMeasurementUnitChange(e){this.pixelMeasurementUnit=e}handleAreaMeasurementUnitChange(e){this.pixelAreaMeasurementUnit=e}};return(0,r._)([(0,n.MZ)()],t.prototype,"messages",void 0),(0,r._)([(0,n.MZ)()],t.prototype,"measurementUnitMessages",void 0),(0,r._)([(0,n.MZ)()],t.prototype,"measurementType",void 0),(0,r._)([(0,n.MZ)()],t.prototype,"pixelMeasurementUnit",void 0),(0,r._)([(0,n.MZ)()],t.prototype,"pixelAreaMeasurementUnit",void 0),(0,r._)([(0,n.MZ)()],t.prototype,"oiViewModel",void 0),t=(0,r._)([(0,i.$)("esri.widgets.OrientedImageryViewer.mixins.ImageMeasurementMixin")],t),t};var h=a(94126),d=a(54761),g=a(47370);let p=class extends(o(c.default)){constructor(e){super(e)}loadDependencies(){return(0,h.W)({action:()=>Promise.resolve().then(a.bind(a,85375)),panel:()=>Promise.resolve().then(a.bind(a,32647)),button:()=>Promise.resolve().then(a.bind(a,43285)),table:()=>a.e(64985).then(a.bind(a,64985)),icon:()=>Promise.resolve().then(a.bind(a,16702)),"table-row":()=>a.e(95286).then(a.bind(a,95286)),"table-header":()=>a.e(88227).then(a.bind(a,88227)),"table-cell":()=>a.e(64012).then(a.bind(a,64012))})}get _measurementResult(){const{measurementType:e,oiViewModel:t}=this,{areaMeasurementResult:a,heightMeasurementResult:r,distanceMeasurementResult:s}=t;switch(e){case"area":return a;case"height":return r;case"distance":return s}}get _measurementAccuracy(){const{measurementType:e,oiViewModel:t}=this,{areaMeasurementAccuracy:a,heightMeasurementAccuracy:r,distanceAccuracyArray:s}=t;switch(e){case"area":return a;case"height":return r;case"distance":return s}}get _measurementUnit(){const{measurementType:e,pixelAreaMeasurementUnit:t,pixelMeasurementUnit:a}=this;return"area"===e?t:a}get _measurementUnitOptions(){const{measurementType:e}=this;return"area"===e?s.z3:s.GB}_convertedMeasurement(){const{measurementType:e}=this;switch(e){case"area":return this.getConvertedAreaString("measurement");case"height":return this.getConvertedHeightString("measurement");case"distance":return this.getConvertedDistanceString("measurement")}}_measurementUnitChangeHandler(e){const{measurementType:t}=this;"area"===t?this.pixelAreaMeasurementUnit=e:this.pixelMeasurementUnit=e}_renderUnitSelect(){const{_measurementUnit:e,_measurementResult:t,_measurementUnitOptions:a}=this;return t?(0,d.K)("div",{class:u.AH.measurementsBar},(0,d.K)(g.t,{options:a,selectLabel:"",value:e,onChange:e=>this._measurementUnitChangeHandler(e)}),t?(0,d.K)("calcite-action",{bind:this,icon:"copy-to-clipboard",label:"copy",onclick:()=>this.copyMeasurementResult(this.measurementType),scale:"s",text:""}):null):null}_renderMeasurementResults(){const{_measurementResult:e,_measurementAccuracy:t,messages:a,measurementType:r}=this;return e?(0,d.K)("calcite-table",{bordered:!0,caption:a.measurementTable,class:u.AH.measurementsTable,scale:"s"},(0,d.K)("calcite-table-row",{slot:"table-header"},(0,d.K)("calcite-table-header",{alignment:"center",heading:a.value}),(0,d.K)("calcite-table-header",{alignment:"center",heading:a.accuracy})),(0,d.K)("calcite-table-row",null,(0,d.K)("calcite-table-cell",{alignment:"center"},this._convertedMeasurement()),(0,d.K)("calcite-table-cell",{alignment:"center"},"distance"===r&&Array.isArray(t)&&t?.length||"area"===r&&t||"height"===r&&t?this.getAccuracy(this.measurementType):(0,d.K)("calcite-icon",{icon:"hourglass-active",scale:"s"})))):null}_renderNewMeasurementButton(){const{messages:e,measurementType:t}=this;return(0,d.K)("calcite-button",{class:u.AH.measurementsButton,onclick:()=>this.oiViewModel.initializeMeasurement(t)},e.newMeasurement)}_renderStartMeasurementMessage(){const{oiViewModel:{displayNewMeasurementButton:e},messages:t,_measurementResult:a}=this;return!e&&!a&&(0,d.K)("div",{class:u.AH.measurementDisplay,key:`start-measurement-${this.measurementType}`},t.startMeasurement)}render(){return(0,d.K)("calcite-panel",{class:u.AH.measurementResults,key:`measurement-result-container-${this.measurementType}`},this._renderStartMeasurementMessage(),this._renderNewMeasurementButton(),this._renderUnitSelect(),this._renderMeasurementResults())}};(0,r._)([(0,n.MZ)()],p.prototype,"_measurementResult",null),(0,r._)([(0,n.MZ)()],p.prototype,"_measurementAccuracy",null),(0,r._)([(0,n.MZ)()],p.prototype,"_measurementUnit",null),(0,r._)([(0,n.MZ)()],p.prototype,"_measurementUnitOptions",null),p=(0,r._)([(0,i.$)("esri.widgets.OrientedImageryViewer.components.ImageMeasurementWidget")],p);const M=p}}]);
//# sourceMappingURL=42989.8ea3193f.chunk.js.map