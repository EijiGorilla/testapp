{"version":3,"file":"static/js/88877.6c648c3a.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/widgets/Editor/Workflow.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Error.js\";import s from\"../../core/Evented.js\";import{throwIfNotAbortError as i,createResolver as n}from\"../../core/promiseUtils.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as r}from\"../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as a}from\"../../core/support/UpdatingHandles.js\";let p=class extends s.EventedAccessor{constructor(t){super(t),this._indexHistory=[],this._lastStepIndex=-1,this._stepIndex=-1,this._updatingHandles=new a,this._handleKeys={afterCommit:\"after-commit\",beforeCommit:\"before-commit\"},this.data=void 0,this.started=!1,this.steps=[],this.type=null,this._pendingOperation=null}destroy(){this._updatingHandles.destroy()}get hasNextStep(){const{steps:t}=this;return!!(t&&this._stepIndex<t.filter((t=>!t.parent)).length-1)}get hasPreviousStep(){return this._stepIndex>0}get reliesOnOwnerAdminPrivileges(){return!1}get hasInvalidFormTemplate(){return!1}get shouldShowAttachments(){return!1}get shouldAllowAttachmentEditing(){return!1}get stepId(){const{steps:t}=this,e=t&&t[this._stepIndex];return e&&e.id}get helpMessage(){}get hasPendingEdits(){return!1}get keyboardCancellationEnabled(){return!0}get updating(){return this._updatingHandles.updating}async back(t=()=>Promise.resolve(!0)){if(this.hasPendingEdits){if(!await t())return}this.hasPreviousStep?await this.previous({cancelCurrentStep:!0}):await this.cancel({force:!0})}async cancel(t={force:!0}){return!1!==t.force?this._cancel(t):new Promise(((s,i)=>{this.emit(\"cancel-request\",{controller:{allow:()=>{this._cancel({...t,force:!0}).then(s)},deny:()=>i(new e(\"workflow:cancel-denied\",\"Request to cancel workflow was denied.\"))}})}))}async commit(){this.removeHandles(this._handleKeys.beforeCommit),this.onCommit&&await this.onCommit(this.data),this.removeHandles(this._handleKeys.afterCommit),this.emit(\"commit\")}async go(t){const{steps:e}=this,s=e.findIndex((e=>e.id===t));this._indexHistory.push(this._stepIndex),await this._go(s)}async next(){this._indexHistory.push(this._stepIndex),await this._go(this._stepIndex+1)}async previous(t={cancelCurrentStep:!1}){await this._go(this._indexHistory.pop(),t.cancelCurrentStep)}async reset(){await this._cancel({emitCancelEvent:!1}),await this.start()}async save(){await this.commit(),await this.reset()}async start(){this._set(\"started\",!0);const t=-1===this._stepIndex?0:this._stepIndex;await this._go(t)}async _cancel({emitCancelEvent:t=!0,error:e}={}){this.started&&(this._set(\"started\",!1),await this._transaction((()=>this.steps[this._stepIndex]?.tearDown({canceled:!0})))),this.removeHandles([this._handleKeys.afterCommit,this._handleKeys.beforeCommit]),this._resetIndexing(t),t&&this.emit(\"cancel\",{error:e})}_go(t=-1,e=!1){return this._transaction((async()=>{const{steps:s}=this;if(!(t<=-1||t>=s.length)){if(!this.started)return this._stepIndex=t,void this._notifyStepProps();this._lastStepIndex>-1&&await s[this._lastStepIndex].tearDown({canceled:e});try{await s[t].setUp()}catch(n){i(n)}this._lastStepIndex=t,this._stepIndex=t,this._notifyStepProps()}}))}async _transaction(t){const e=this._pendingOperation,s=n(),i=(e??Promise.resolve()).then((()=>s.promise));this._pendingOperation=i,this._updatingHandles.addPromise(i);try{e&&await e,await t()}finally{s.resolve(),i===this._pendingOperation&&(this._pendingOperation=null)}}_resetIndexing(t=!0){this._stepIndex=-1,this._lastStepIndex=-1,this._indexHistory.length=0,t&&this._notifyStepProps()}_notifyStepProps(){this.notifyChange(\"stepId\"),this.notifyChange(\"hasPreviousStep\"),this.notifyChange(\"hasNextStep\")}};t([o()],p.prototype,\"data\",void 0),t([o()],p.prototype,\"hasNextStep\",null),t([o()],p.prototype,\"hasPreviousStep\",null),t([o()],p.prototype,\"onCommit\",void 0),t([o()],p.prototype,\"reliesOnOwnerAdminPrivileges\",null),t([o()],p.prototype,\"hasInvalidFormTemplate\",null),t([o()],p.prototype,\"shouldShowAttachments\",null),t([o()],p.prototype,\"shouldAllowAttachmentEditing\",null),t([o()],p.prototype,\"started\",void 0),t([o({readOnly:!0})],p.prototype,\"stepId\",null),t([o()],p.prototype,\"steps\",void 0),t([o({readOnly:!0})],p.prototype,\"type\",void 0),t([o()],p.prototype,\"helpMessage\",null),t([o()],p.prototype,\"hasPendingEdits\",null),t([o()],p.prototype,\"keyboardCancellationEnabled\",null),t([o()],p.prototype,\"updating\",null),p=t([r(\"esri.widgets.Editor.Workflow\")],p);const h=p;export{h as default};\n"],"names":["p","s","EventedAccessor","constructor","t","super","this","_indexHistory","_lastStepIndex","_stepIndex","_updatingHandles","a","_handleKeys","afterCommit","beforeCommit","data","started","steps","type","_pendingOperation","destroy","hasNextStep","filter","parent","length","hasPreviousStep","reliesOnOwnerAdminPrivileges","hasInvalidFormTemplate","shouldShowAttachments","shouldAllowAttachmentEditing","stepId","e","id","helpMessage","hasPendingEdits","keyboardCancellationEnabled","updating","back","arguments","undefined","Promise","resolve","previous","cancelCurrentStep","cancel","force","_cancel","i","emit","controller","allow","then","deny","commit","removeHandles","onCommit","go","findIndex","push","_go","next","pop","reset","emitCancelEvent","start","save","_set","error","_transaction","tearDown","canceled","_resetIndexing","async","_notifyStepProps","setUp","n","promise","addPromise","notifyChange","o","prototype","readOnly","r","h"],"sourceRoot":""}