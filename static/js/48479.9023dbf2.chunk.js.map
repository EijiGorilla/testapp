{"version":3,"file":"static/js/48479.9023dbf2.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/support/ImageElement.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/media/MediaElementControllerControlPoints.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/media/MediaElementControllerShape.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/media/mediaElementUtils.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/media/MediaElementManipulator3D.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/ManipulatedObject3DMediaElement.js","../node_modules/@arcgis/core/layers/support/VideoElement.js","../node_modules/@arcgis/core/portal/support/resourceExtension.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../request.js\";import o from\"../../core/Error.js\";import{getImageData as r}from\"../../core/imageUtils.js\";import{isAbsolute as i,isDataProtocol as n,isBlobProtocol as s,dataToBlob as a,join as m}from\"../../core/urlUtils.js\";import{generateUUID as l}from\"../../core/uuid.js\";import{property as c}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{reader as p}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as u}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as h}from\"../../core/accessorSupport/decorators/writer.js\";import d from\"./MediaElementBase.js\";import{mediaElementUrlProperty as g,mediaTypeProperty as f}from\"./mediaUtils.js\";import{getResourceContentExtension as y}from\"../../portal/support/resourceExtension.js\";import{ImageElementSymbol as v}from\"../../support/mediaLayerUtils.js\";import{f as j,t as I,i as b,M as w}from\"../../chunks/persistableUrlUtils.js\";var E;let U=class extends d{constructor(t){super(t),this.animationOptions=null,this.content=null,this.image=null,this.type=\"image\",this[E]=!0,this.image=null}load(){const t=this.image;if(\"string\"==typeof t){const e=r(t).then((t=>{this._set(\"content\",t)}));this.addResolvingPromise(e)}else if(t instanceof HTMLImageElement){const e=t.decode().then((()=>{this._set(\"content\",t)}));this.addResolvingPromise(e)}else t?this._set(\"content\",t):this.addResolvingPromise(Promise.reject(new o(\"image-element:invalid-image-type\",\"Invalid image type\",{image:t})));return Promise.resolve(this)}get contentWidth(){return null==this.content?0:this.content instanceof HTMLImageElement?this.content.naturalWidth:this.content.width}get contentHeight(){return null==this.content?0:this.content instanceof HTMLImageElement?this.content.naturalHeight:this.content.height}readImage(t,e,o){return j(e.url,o)}writeImage(t,e,o,r){if(null==t)return;const n=r?.portalItem,s=r?.resources;if(!n||!s)return void(\"string\"==typeof t&&(e[o]=I(t,r)));const a=L(t)?t:null;if(a){if(null==b(a))return void(e[o]=a);const t=I(a,{...r,verifyItemRelativeUrls:r?.verifyItemRelativeUrls?{writtenUrls:r.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},w.NO);if(n&&t&&!i(t))return s.toKeep.push({resource:n.resourceFromPath(t),compress:!1}),void(e[o]=t)}e[o]=\"<pending>\",s.pendingOperations.push(M(t).then((t=>{const r=R(t,n);e[o]=r.itemRelativeUrl,s.toAdd.push({resource:r,content:{type:\"blob\",blob:t},compress:!1,finish:t=>{this.image=t.url}})})))}};E=v,t([c()],U.prototype,\"animationOptions\",void 0),t([c({readOnly:!0})],U.prototype,\"content\",void 0),t([c({readOnly:!0})],U.prototype,\"contentWidth\",null),t([c({readOnly:!0})],U.prototype,\"contentHeight\",null),t([c(g)],U.prototype,\"image\",void 0),t([p(\"image\",[\"url\"])],U.prototype,\"readImage\",null),t([h(\"image\")],U.prototype,\"writeImage\",null),t([c(f)],U.prototype,\"type\",void 0),U=t([u(\"esri.layers.support.ImageElement\")],U);const H=U;function L(t){return\"string\"==typeof t&&!n(t)&&!s(t)}async function M(t){if(\"string\"==typeof t){if(n(t))return a(t);return(await e(t,{responseType:\"blob\"})).data}return new Promise((e=>P(t).toBlob(e)))}function P(t){if(t instanceof HTMLCanvasElement)return t;const e=t instanceof HTMLImageElement?t.naturalWidth:t.width,o=t instanceof HTMLImageElement?t.naturalHeight:t.height,r=document.createElement(\"canvas\"),i=r.getContext(\"2d\");return r.width=e,r.height=o,t instanceof HTMLImageElement?i.drawImage(t,0,0,t.width,t.height):t instanceof ImageData&&i.putImageData(t,0,0),r}function R(t,e){const o=l(),r=`${m(\"media\",o)}.${y({type:\"blob\",blob:t})}`;return e.resourceFromPath(r)}export{H as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import{isSome as o}from\"../../../../../core/arrayUtils.js\";import{destroyHandle as r}from\"../../../../../core/handleUtils.js\";import{initial as n}from\"../../../../../core/reactiveUtils.js\";import{property as i}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as a}from\"../../../../../core/support/UpdatingHandles.js\";import p from\"../../../../../geometry/Point.js\";import l from\"../../../../../geometry/Polygon.js\";import{initializeProjection as c,project as m}from\"../../../../../geometry/projection.js\";import{ControlPointOperations as d}from\"./ControlPointOperations.js\";import{EditGeometry as h}from\"../../../../interactive/editGeometry/EditGeometry.js\";let g=class extends t{get operations(){return this._operations}get updating(){return this._updatingHandles.updating}constructor(e){super(e),this._updatingHandles=new a}initialize(){this.addHandles([r(this._updatingHandles),this._updatingHandles.add((()=>{const e=this.element.georeference;return\"control-points\"===e?.type?e.controlPoints:null}),(e=>this._elementControlPointsChanged(e)),n)])}_elementControlPointsChanged(e){const t=e?.map((({mapPoint:e})=>e)).filter(o),r=this.view.spatialReference;this._updatingHandles.addPromise(this._whenProjected(t,r,(e=>{if(!e)return void this._replaceOperations(null);const{_operations:t}=this,o=new l({rings:[e.map((({x:e,y:t})=>[e,t]))],spatialReference:r});if(t?.trySetGeometry(o))return void this.onModifiedExternally();const n=this.view.state.viewingMode;this._replaceOperations(new d(h.fromGeometry(o,n),n,(e=>this._operationsGeometryChanged(e))))})))}_operationsGeometryChanged(e){const{element:{georeference:t},_operations:r}=this;if(!r||!t||\"control-points\"!==t.type||!t.controlPoints)return;const n=r.data.geometry,i=t.controlPoints.map((({mapPoint:e})=>e)).filter(o);if(n.rings[0]?.length!==i.length)return;const s=n.rings[0].map((([e,t])=>new p({x:e,y:t,spatialReference:n.spatialReference}))),a=i.map((({spatialReference:e})=>e));this._updatingHandles.addPromise(this._whenProjected(s,a,(t=>this._updateElementControlPoints(t,e))))}_updateElementControlPoints(e,t){const{georeference:o}=this.element;if(!o||!e||\"control-points\"!==o.type||o.controlPoints?.length!==e?.length)return;const r=o.controlPoints;if(r?.length===e.length)for(let n=0;n<r.length;n++)t&&(r[n].sourcePoint=o.toSource(e[n])),r[n].mapPoint=e[n]}async _whenProjected(e,t,o){if(!e)return void o(e);const{_operations:r,element:{georeference:n}}=this,i=e.map((({spatialReference:e})=>e)),s=Array.isArray(t)?t:new Array(i.length).fill(t);await c(Array.from(i).map(((e,t)=>({source:e,dest:s[t]}))));const a=e.map(((e,t)=>m(e,s[t])));r===this._operations&&n===this.element.georeference&&o(a)}_replaceOperations(e){this._operations&&(this.removeHandles(this._operations),this._operations.destroy()),this._operations=e}};e([i({constructOnly:!0})],g.prototype,\"view\",void 0),e([i({constructOnly:!0})],g.prototype,\"layer\",void 0),e([i({constructOnly:!0})],g.prototype,\"element\",void 0),e([i({constructOnly:!0})],g.prototype,\"onModifiedExternally\",void 0),e([i()],g.prototype,\"_operations\",void 0),e([i()],g.prototype,\"operations\",null),e([i()],g.prototype,\"updating\",null),g=e([s(\"esri.views.3d.interactive.editingTools.media.MediaElementControllerControlPoints\")],g);export{g as MediaElementControllerControlPoints};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import{destroyHandle as o}from\"../../../../../core/handleUtils.js\";import{initial as r}from\"../../../../../core/reactiveUtils.js\";import{property as i}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{UpdatingHandles as n}from\"../../../../../core/support/UpdatingHandles.js\";import{projectWithZConversion as a}from\"../../../../../geometry/projection.js\";import{EditGeometryOperations as d}from\"../../../../interactive/editGeometry/EditGeometryOperations.js\";let p=class extends t{get operations(){return this._operations}get updating(){return this._updatingHandles.updating}constructor(e){super(e),this._updatingHandles=new n}initialize(){this.addHandles([o(this._updatingHandles),this._updatingHandles.add((()=>this.element.georeference?.coords),(e=>this._elementCoordinatesChanged(e)),r)])}_elementCoordinatesChanged(e){this._updatedElementCoordinates!==e&&this._updatingHandles.addPromise(this._whenProjected(e,this.view.spatialReference,(e=>{if(!e)return void this._replaceOperations(null);const{_operations:t}=this;t?.trySetGeometry(e)?this.onModifiedExternally():this._replaceOperations(d.fromGeometry(e,this.view.state.viewingMode))})))}_operationsGeometryChanged(){const{element:{georeference:e},_operations:t}=this;if(!t||!e)return;const o=t.data.geometry;if(!e.coords)return void this._updateElementCoordinates(o);const r=e.coords.spatialReference;this._updatingHandles.addPromise(this._whenProjected(o,r,(e=>this._updateElementCoordinates(e))))}_updateElementCoordinates(e){const{georeference:t}=this.element;t&&(t.coords=e,this._updatedElementCoordinates=t.coords)}async _whenProjected(e,t,o){if(!e)return void o(e);const{_operations:r,element:{georeference:i}}=this,s=await a(e,t);r===this._operations&&i===this.element.georeference&&o(s)}_replaceOperations(e){this._operations&&(this.removeHandles(this._operations),this._operations.destroy()),this._operations=e,e&&this.addHandles(e.data.on(\"change\",(()=>this._operationsGeometryChanged())),e),this.onModifiedExternally()}};e([i({constructOnly:!0})],p.prototype,\"view\",void 0),e([i({constructOnly:!0})],p.prototype,\"layer\",void 0),e([i({constructOnly:!0})],p.prototype,\"element\",void 0),e([i({constructOnly:!0})],p.prototype,\"onModifiedExternally\",void 0),e([i()],p.prototype,\"_operations\",void 0),e([i()],p.prototype,\"operations\",null),e([i()],p.prototype,\"updating\",null),p=e([s(\"esri.views.3d.interactive.editingTools.media.MediaElementControllerShape\")],p);export{p as MediaElementControllerShape};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../../layers/support/ImageElement.js\";import n from\"../../../../../layers/support/VideoElement.js\";function r(e,n,r){return t(e.allLayerViews.find((e=>e.layer===n)),r)}function t(r,t){if(!r||\"media-3d\"!==r.type||r.suspended)return!1;const s=r.layer.source;return!!s&&(s instanceof e||s instanceof n?s===t:\"hasElement\"in s&&s.hasElement(t))}export{t as isMediaElementVisibleLayerView,r as isMediaElementVisibleView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../../chunks/tslib.es6.js\";import t from\"../../../../../core/Accessor.js\";import o from\"../../../../../core/Evented.js\";import{watch as r,sync as s}from\"../../../../../core/reactiveUtils.js\";import{property as i}from\"../../../../../core/accessorSupport/decorators/property.js\";import\"../../../../../core/has.js\";import\"../../../../../core/Logger.js\";import\"../../../../../core/RandomLCG.js\";import{subclass as n}from\"../../../../../core/accessorSupport/decorators/subclass.js\";import{j as c}from\"../../../../../chunks/vec32.js\";import{create as l}from\"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectPointToVector as a}from\"../../../../../geometry/projection/projectPointToVector.js\";import{isMediaElementVisibleView as p}from\"./mediaElementUtils.js\";let m=class extends t{grabbableForEvent(){return!0}constructor(e){super(e),this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.grabbing=!1,this.dragging=!1,this.hovering=!0,this.selected=!1,this.cursor=null,this.consumesClicks=!0,this.events=new o.EventEmitter,this.addHandles(r((()=>this.selected),(e=>this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"})),s))}destroy(){this._set(\"view\",null)}intersectionDistance(e){const{view:t,layer:o,element:r}=this;if(!p(t,o,r))return null;const s=t.toMap(e,{include:{layer:o,element:r}});return s&&a(s,d,t.renderSpatialReference)?c(d,t.state.camera.eye):null}onElevationChange(){}onViewChange(){}};e([i({constructOnly:!0,nonNullable:!0})],m.prototype,\"element\",void 0),e([i({constructOnly:!0,nonNullable:!0})],m.prototype,\"layer\",void 0),e([i({constructOnly:!0,nonNullable:!0})],m.prototype,\"view\",void 0),e([i()],m.prototype,\"interactive\",void 0),e([i()],m.prototype,\"selectable\",void 0),e([i()],m.prototype,\"grabbable\",void 0),e([i()],m.prototype,\"grabbing\",void 0),e([i()],m.prototype,\"dragging\",void 0),e([i()],m.prototype,\"hovering\",void 0),e([i()],m.prototype,\"selected\",void 0),e([i()],m.prototype,\"cursor\",void 0),m=e([n(\"esri.views.3d.interactive.editingTools.media.MediaElementManipulator3D\")],m);const d=l();export{m as MediaElementManipulator3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import t from\"../../../../core/Evented.js\";import{destroyHandle as o}from\"../../../../core/handleUtils.js\";import{watch as r,on as i,syncAndInitial as l}from\"../../../../core/reactiveUtils.js\";import{property as n}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{MediaElementControllerControlPoints as a}from\"./media/MediaElementControllerControlPoints.js\";import{MediaElementControllerShape as p}from\"./media/MediaElementControllerShape.js\";import{MediaElementManipulator3D as m}from\"./media/MediaElementManipulator3D.js\";import{isMediaElementVisibleLayerView as c}from\"./media/mediaElementUtils.js\";const d=Symbol();let u=class extends t.EventedAccessor{get operations(){return this._controller?.operations}get elevationInfo(){return{mode:\"on-the-ground\",offset:0}}get _layerView(){const e=this.view.allLayerViews.find((e=>e.layer===this.layer));return\"media-3d\"===e?.type?e:null}get visible(){return c(this._layerView,this.element)}get isDraped(){return!0}get origin(){return null}get updating(){return!!this._controller?.updating}get _controllerClass(){return\"transform\"===this.tool||\"control-points\"!==this.element.georeference?.type?p:a}constructor(e){super(e),this.tool=\"transform\"}initialize(){this.addHandles([r((()=>this._controllerClass),(e=>this._updateController(e)),l),i((()=>this._layerView),\"element-render-changed\",(({element:e})=>{this.element===e&&this.emit(\"committed\")}))])}toMap(e){const{layer:t,element:o}=this;return this.view.toMap(e,{include:{layer:t,element:o}})}createManipulator(e){const{view:t,layer:o,element:r}=this;return new m({view:t,layer:o,element:r,...e})}_updateController(e){if(this._controller&&this._controller instanceof e)return;this.removeHandles(d);const{view:t,layer:r,element:i}=this,l=()=>{this.emit(\"modified-externally\")};this._controller=new e({view:t,layer:r,element:i,onModifiedExternally:l}),l(),this.addHandles(o(this._controller),d)}};e([n({constructOnly:!0})],u.prototype,\"view\",void 0),e([n({constructOnly:!0})],u.prototype,\"layer\",void 0),e([n({constructOnly:!0})],u.prototype,\"element\",void 0),e([n()],u.prototype,\"tool\",void 0),e([n()],u.prototype,\"_controller\",void 0),e([n()],u.prototype,\"elevationInfo\",null),e([n()],u.prototype,\"_layerView\",null),e([n()],u.prototype,\"visible\",null),e([n()],u.prototype,\"updating\",null),e([n()],u.prototype,\"_controllerClass\",null),u=e([s(\"esri.views.3d.interactive.editingTools.ManipulatedObject3DMediaElement\")],u);export{u as ManipulatedObject3DMediaElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../request.js\";import o from\"../../core/Error.js\";import{once as r}from\"../../core/events.js\";import s from\"../../core/Logger.js\";import{clamp as i}from\"../../core/mathUtils.js\";import{whenOnce as n}from\"../../core/reactiveUtils.js\";import{isAbsolute as l,makeAbsolute as a,getProxyRule as c,addProxy as d,isBlobProtocol as p,isDataProtocol as m}from\"../../core/urlUtils.js\";import{property as u}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/RandomLCG.js\";import{subclass as h}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as v}from\"../../core/accessorSupport/decorators/writer.js\";import y from\"./MediaElementBase.js\";import{mediaElementUrlProperty as g,mediaTypeProperty as f}from\"./mediaUtils.js\";import{VideoElementSymbol as j}from\"../../support/mediaLayerUtils.js\";import{i as w}from\"../../chunks/persistableUrlUtils.js\";var U;let b=class extends y{constructor(e){super(e),this.autoplay=!0,this.content=null,this.controller=null,this.type=\"video\",this[U]=!0}load(){const e=this.video;return\"string\"==typeof e?this.addResolvingPromise(Promise.all([this._preProcessVideoUrl(e),import(\"../video/VideoController.js\")]).then((async([e,{default:t}])=>{this.controller=new t,this.controller.playerUrl=e,await n((()=>this.controller?.element)),this.controller.loop=!0,this.controller.muted=!0,this.controller.playsInline=!0,this.controller.crossOrigin=\"anonymous\",await n((()=>\"can-play\"===this.controller?.state)),await this.controller.play(),this.autoplay||this.controller.pause(),this._set(\"content\",this.controller.element)}))):e instanceof HTMLVideoElement?this.addResolvingPromise(this._loadVideo(e).then((()=>{this._set(\"content\",e)}))):this.addResolvingPromise(Promise.reject(new o(\"video-element:invalid-video-type\",\"Invalid video type\",{video:e}))),Promise.resolve(this)}get contentWidth(){return this.content?.videoWidth??0}get contentHeight(){return this.content?.videoHeight??0}get currentTime(){return this.controller?.currentTime}set currentTime(e){if(!this.controller)return;const t=i(e,0,this.controller.duration);this.controller?.setCurrentTime(t)}get duration(){return this.controller?.duration}set video(e){\"not-loaded\"===this.loadStatus?this._set(\"video\",e):s.getLogger(this).error(\"#video\",\"video cannot be changed after the element is loaded.\")}writeVideo(e,t,r,s){if(!e)return void(s?.messages&&s.messages.push(new o(\"video-element:unsupported-video\",\"video source is missing\")));const i=V(e)?e:null;if(!i)return void(s?.messages&&s.messages.push(new o(\"video-element:unsupported-video\",\"video source must be an absolute url\")));!l(i)&&s?.blockedRelativeUrls&&s.blockedRelativeUrls.push(i);const n=a(i);!w(n)?t[r]=n:s?.messages&&s.messages.push(new o(\"video-element:unsupported-video\",\"video source cannot be an item resource\"))}async _preProcessVideoUrl(e){if(c(e))return d(e);try{return await t(e,{method:\"head\"}),e}catch{return d(e,!0)}}_loadVideo(e){return new Promise(((t,o)=>{const s=r(e,\"canplay\",(()=>{this.removeHandles(\"canplay\"),this.autoplay?e.play().then(t,o):t()}));this.addHandles(s,\"canplay\"),\"anonymous\"!==e.crossOrigin&&(e.crossOrigin=\"anonymous\",p(e.src)||(e.src=e.src))}))}};U=j,e([u()],b.prototype,\"autoplay\",void 0),e([u({readOnly:!0})],b.prototype,\"content\",void 0),e([u({readOnly:!0})],b.prototype,\"contentWidth\",null),e([u({readOnly:!0})],b.prototype,\"contentHeight\",null),e([u()],b.prototype,\"controller\",void 0),e([u({type:Number})],b.prototype,\"currentTime\",null),e([u({type:Number})],b.prototype,\"duration\",null),e([u(g)],b.prototype,\"video\",null),e([v(\"video\")],b.prototype,\"writeVideo\",null),e([u(f)],b.prototype,\"type\",void 0),b=e([h(\"esri.layers.support.VideoElement\")],b);const P=b;function V(e){return\"string\"==typeof e&&!m(e)&&!p(e)}export{P as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{getPathExtension as i}from\"../../core/urlUtils.js\";function p(i){return o[t(i)]||e}function t(i){return\"json\"===i.type?\"application/json\":\"blob\"===i.type?i.blob.type:n(i.url)}function n(p){const t=i(p);return g[t]||a}const o={},a=\"text/plain\",e=o[a],g={png:\"image/png\",jpeg:\"image/jpeg\",jpg:\"image/jpg\",bmp:\"image/bmp\",gif:\"image/gif\",json:\"application/json\",txt:\"text/plain\",xml:\"application/xml\",svg:\"image/svg+xml\",zip:\"application/zip\",pbf:\"application/vnd.mapbox-vector-tile\",gz:\"application/gzip\",\"bin.gz\":\"application/octet-stream\"};for(const l in g)o[g[l]]=l;export{p as getResourceContentExtension};\n"],"names":["E","U","d","constructor","t","super","this","animationOptions","content","image","type","load","e","r","then","_set","addResolvingPromise","HTMLImageElement","decode","Promise","reject","o","resolve","contentWidth","naturalWidth","width","contentHeight","naturalHeight","height","readImage","j","url","writeImage","n","portalItem","s","resources","I","a","L","b","verifyItemRelativeUrls","writtenUrls","rootPath","w","NO","i","toKeep","push","resource","resourceFromPath","compress","pendingOperations","async","responseType","data","HTMLCanvasElement","document","createElement","getContext","drawImage","ImageData","putImageData","P","toBlob","M","l","m","y","blob","R","itemRelativeUrl","toAdd","finish","v","c","prototype","readOnly","g","p","h","f","u","H","operations","_operations","updating","_updatingHandles","initialize","addHandles","add","element","georeference","controlPoints","_elementControlPointsChanged","map","_ref","mapPoint","filter","view","spatialReference","addPromise","_whenProjected","_replaceOperations","rings","_ref2","x","trySetGeometry","onModifiedExternally","state","viewingMode","fromGeometry","_operationsGeometryChanged","geometry","_ref3","length","_ref4","_ref5","_updateElementControlPoints","sourcePoint","toSource","_ref6","Array","isArray","fill","from","source","dest","removeHandles","destroy","constructOnly","coords","_elementCoordinatesChanged","_updatedElementCoordinates","_updateElementCoordinates","on","allLayerViews","find","layer","suspended","hasElement","grabbableForEvent","interactive","selectable","grabbable","grabbing","dragging","hovering","selected","cursor","consumesClicks","events","EventEmitter","emit","action","intersectionDistance","toMap","include","renderSpatialReference","camera","eye","onElevationChange","onViewChange","nonNullable","Symbol","EventedAccessor","_controller","elevationInfo","mode","offset","_layerView","visible","isDraped","origin","_controllerClass","tool","_updateController","createManipulator","autoplay","controller","video","all","_preProcessVideoUrl","default","playerUrl","loop","muted","playsInline","crossOrigin","play","pause","HTMLVideoElement","_loadVideo","videoWidth","videoHeight","currentTime","duration","setCurrentTime","loadStatus","getLogger","error","writeVideo","messages","V","blockedRelativeUrls","method","src","Number","png","jpeg","jpg","bmp","gif","json","txt","xml","svg","zip","pbf","gz"],"sourceRoot":""}