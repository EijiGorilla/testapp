"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[53680,80775],{53680:(e,r,n)=>{n.d(r,{AC:()=>t,DW:()=>l,Hj:()=>v,Ih:()=>y,Jy:()=>d,OW:()=>g,Rv:()=>u,UJ:()=>o,_i:()=>c,d8:()=>p,fs:()=>f,kc:()=>w,ke:()=>b,mE:()=>a,wx:()=>s});var i=n(50076);async function t(e,r){const{layer:n,view:t,forBinning:a,filter:s}=e;if(!n||!t)throw new i.default(`${r}:missing-parameters`,"'layer' and 'view' parameters are required");await n.load();const o="featureReduction"in n?n.featureReduction:null;if(a){if("binning"!==o?.type)throw new i.default(`${r}:invalid-parameters`,"'layer' must have 'featureReduction' property defined with 'binning' type when 'forBinning' parameter is true");if(s)throw new i.default(`${r}:invalid-parameters`,"'filter' parameter is not supported when 'forBinning' parameter is true")}return e}async function a(e){const{layer:r,forBinning:n,renderer:t}=e;await r.load();const a="featureReduction"in r?r.featureReduction:null,s=t?.clone()??(n&&"binning"===a?.type?a?.renderer?.clone():"renderer"in r?r.renderer?.clone():null);if(!s)throw new i.default("get-renderer-to-update:invalid-parameters","renderer not available");return s}function s(e,r,n){const i=e?.authoringInfo?.visualVariables;return i?.find((e=>"reference-size"===n?e.type===r&&"reference-size"===e.theme:e.type===r))}function o(e){if(!e)return null;const r=e.type,n="visualVariables"in e?e.visualVariables:null,i=n?.find(y),t=n?.find(g),a=e.authoringInfo,o=s(e,"color"),l=s(e,"size"),u=s(e,"size","reference-size");if("class-breaks"===r){if("univariate-color-size"===a?.type)return"univariate-color-size";if(i)return t?l?.units?"color-size-age":o?.units?"color-age-size":"color-size":o?.units?"color-age":u?"color-size":"color-continuous";if(t)return l?.units?"size-age":"size-continuous";if(e.classBreakInfos.length>1)return"class-breaks-color"===a?.type?"color-class-breaks":"class-breaks-size"===a?.type?"size-class-breaks":null;if(u)return"size-continuous"}return"unique-value"===r?e.valueExpression?"predominance"===a?.type?"predominance":"relationship"===a?.type?t||u?"relationship-size":"relationship":t||u?"type-size":"type":t?l?.units?"type-size-age":"type-size":u?"type-size":"type":"pie-chart"===r?"pie-chart":"dot-density"===r?"dot-density":null}function l(e){return!!e.visualVariables?.some(z)}function u(e){return!!e.visualVariables?.some(m)}function c(e){return e?.findIndex(z)??-1}function d(e){return e?.findIndex(g)??-1}function f(e){return e?.findIndex(y)??-1}function p(e){return e?.findIndex(h)??-1}function w(e){return e?.findIndex(m)??-1}function y(e){return"color"===e.type}function h(e){return"opacity"===e.type}function g(e){return"size"===e.type&&"outline"!==e.target&&"$view.scale"!==e.valueExpression}function z(e){return"size"===e.type&&"outline"===e.target}function m(e){return"size"===e.type&&"$view.scale"===e.valueExpression&&"outline"!==e.target&&Array.isArray(e.stops)}function b(e,r,n){const i=e.visualVariables,t=n(i);if(!r||Array.isArray(r)&&!r.length)return;Array.isArray(r)||(r=[r]);const a=r.map((e=>e.clone()));i?t>-1?i.splice(t,1,...a):i.push(...a):e.visualVariables=a}function v(e,r,n){const i=r?.visualVariables.find((e=>e.type===n)),t=s(e,n);t&&i&&(t.minSliderValue=i.minSliderValue,t.maxSliderValue=i.maxSliderValue,"size"===n&&"reference-size"===t.theme&&(t.sizeStops=i.sizeStops?.map((e=>e.clone())),t.referenceSizeScale=i.referenceSizeScale))}},80775:(e,r,n)=>{n.r(r),n.d(r,{regenerateRenderer:()=>a});var i=n(50076),t=n(53680);async function a(e){const r=await(0,t.mE)(e);switch((0,t.UJ)(r)){case"color-continuous":{const{regenerateContinuousRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(89132),n.e(51006),n.e(39289),n.e(25356),n.e(84689)]).then(n.bind(n,25356));return(await r(e)).renderer}case"color-class-breaks":{const{regenerateClassBreaksRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(89132),n.e(51006),n.e(39289),n.e(25356),n.e(84689)]).then(n.bind(n,25356));return(await r(e)).renderer}case"color-age":{const{regenerateAgeRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(89132),n.e(51006),n.e(39289),n.e(25356),n.e(84689)]).then(n.bind(n,25356));return(await r(e)).renderer}case"size-continuous":{const{regenerateContinuousRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(51006),n.e(87990)]).then(n.bind(n,87990));return(await r(e)).renderer}case"size-class-breaks":{const{regenerateClassBreaksRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(51006),n.e(87990)]).then(n.bind(n,87990));return(await r(e)).renderer}case"size-age":{const{regenerateAgeRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(51006),n.e(87990)]).then(n.bind(n,87990));return(await r(e)).renderer}case"color-size":{const{regenerateContinuousRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(89132),n.e(51006),n.e(39289),n.e(25356),n.e(84689)]).then(n.bind(n,25356)),i=(await r(e)).renderer.clone();return await s(e,i)}case"type":{const{regenerateRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(89132),n.e(51006),n.e(53151),n.e(85685)]).then(n.bind(n,53151));return(await r(e)).renderer}case"type-size":{const{regenerateRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(89132),n.e(51006),n.e(53151),n.e(85685)]).then(n.bind(n,53151)),i=(await r(e)).renderer.clone();return await s(e,i)}case"predominance":{const{regenerateRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(89132),n.e(51006),n.e(87990),n.e(53151),n.e(16079)]).then(n.bind(n,38460));return(await r(e)).renderer}case"relationship":{const{regenerateRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(89132),n.e(51006),n.e(53151),n.e(35382)]).then(n.bind(n,13001));return(await r(e)).renderer}case"relationship-size":{const{regenerateRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(89132),n.e(51006),n.e(53151),n.e(35382)]).then(n.bind(n,13001)),i=(await r(e)).renderer.clone();return await s(e,i)}case"pie-chart":{const{regenerateRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(89132),n.e(51006),n.e(87990),n.e(5185)]).then(n.bind(n,5185));return(await r(e)).renderer}case"dot-density":{const{regenerateRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(89132),n.e(51006),n.e(95401)]).then(n.bind(n,17782));return(await r(e)).renderer}case"univariate-color-size":{const{regenerateRenderer:r}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(89132),n.e(51006),n.e(87990),n.e(39289),n.e(25356),n.e(74145)]).then(n.bind(n,96526));return(await r(e)).renderer}default:throw new i.default("regenerate-renderer:invalid-parameters","renderer type not supported")}}async function s(e,r){const{regenerateVisualVariables:i,updateRendererWithReferenceSize:a}=await Promise.all([n.e(89122),n.e(72003),n.e(39729),n.e(90704),n.e(11563),n.e(51006),n.e(87990)]).then(n.bind(n,87990)),{visualVariables:s,authoringInfo:o,isGrid:l}=await i({...e,renderer:r});(0,t.ke)(r,s,t.Jy),(0,t.Hj)(r,o,"size");const u=(0,t.wx)(r,"size","reference-size");return u?await a({layer:e.layer,renderer:r,sizeStops:u.sizeStops,view:e.view,forBinning:e.forBinning,sizeOptimizationEnabled:(0,t.Rv)(r),isGrid:l}):r}}}]);
//# sourceMappingURL=80775.9f3f6bd8.chunk.js.map