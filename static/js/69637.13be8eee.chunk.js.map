{"version":3,"file":"static/js/69637.13be8eee.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/views/3d/layers/support/DefinitionExpressionSceneLayerView.js","../node_modules/@arcgis/core/views/3d/layers/I3SPointsWorkerHandle.js","../node_modules/@arcgis/core/views/3d/layers/i3s/I3SGraphicsMap.js","../node_modules/@arcgis/core/views/3d/layers/SceneLayerGraphicsView3D.js","../node_modules/@arcgis/core/views/3d/layers/support/TemporalSceneLayerView.js","../node_modules/@arcgis/core/core/maybeUpdating.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import e from\"../../../../core/Logger.js\";import{property as i}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/RandomLCG.js\";import{subclass as s}from\"../../../../core/accessorSupport/decorators/subclass.js\";import o from\"../../../../core/sql/WhereClause.js\";import{findFieldsCaseInsensitive as n}from\"../i3s/I3SUtil.js\";const t=t=>{let p=class extends t{constructor(){super(...arguments),this._definitionExpressionErrors=0,this._maxDefinitionExpressionErrors=20,this.logError=r=>{this._definitionExpressionErrors<this._maxDefinitionExpressionErrors&&e.getLogger(this).error(\"Error while evaluating definitionExpression: \"+r),this._definitionExpressionErrors++,this._definitionExpressionErrors===this._maxDefinitionExpressionErrors&&e.getLogger(this).error(\"Further errors are ignored\")}}get parsedDefinitionExpression(){if(!this.i3slayer?.definitionExpression)return null;try{const r=o.create(this.i3slayer.definitionExpression,{fieldsIndex:this.i3slayer.fieldsIndex});if(!r.isStandardized)return e.getLogger(this).error(\"definitionExpression is using non standard function\"),null;const i=[],s=r.fieldNames;return n(s,this.i3slayer.fields,{missingFields:i}),i.length>0?(e.getLogger(this).error(`definitionExpression references unknown fields: ${i.join(\", \")}`),null):(this._definitionExpressionErrors=0,r)}catch(r){return e.getLogger(this).error(\"Failed to parse definitionExpression: \"+r),null}}get definitionExpressionFields(){return this.parsedDefinitionExpression?this.parsedDefinitionExpression.fieldNames:[]}_evaluateClause(r,e){try{return r.testFeature(e)}catch(i){return this.logError(i),!1}}_addDefinitionExpressionToQuery(r){if(!this.parsedDefinitionExpression)return r;const e=this.i3slayer.definitionExpression,i=r.clone();return i.where?i.where=`(${e}) AND (${i.where})`:i.where=e,i}};return r([i({readOnly:!0})],p.prototype,\"parsedDefinitionExpression\",null),r([i({readOnly:!0})],p.prototype,\"definitionExpressionFields\",null),p=r([s(\"esri.views.3d.layers.support.DefinitionExpressionSceneLayerView\")],p),p};export{t as DefinitionExpressionSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{WorkerHandle as e}from\"../../../core/workers/WorkerHandle.js\";class r extends e{constructor(e){super(\"SceneLayerWorker\",\"dracoDecompressPointCloudData\",{dracoDecompressPointCloudData:e=>[e.geometryBuffer]},e,{hasInitialize:!0})}}export{r as I3SPointsWorkerHandle};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Evented.js\";import\"../../../../core/has.js\";import{findInMap as t,someMap as s}from\"../../../../core/MapUtils.js\";class i extends e{constructor(e,t){super(),this._updateAndCompare=e,this._notifyUpdated=t,this._nodes=new Map,this._graphics=new Map,this._duplicates=new Map}clear(){if(this._graphics.size>0){const e=this.toArray();this._graphics.clear(),this.emit(\"change\",{added:[],removed:e})}this._nodes.clear()}get length(){return this._graphics.size}get(e){return this._graphics.get(e)}getNode(e){return this._nodes.get(e)}hasNode(e){return this._nodes.has(e)}nodes(){return this._nodes.values()}addNode(e,t){this._nodes.set(e,t);const s=t.graphics;if(0===s.length)return;const i=new Set;for(let o=0;o<s.length;o++){const t=s[o],n=t.objectId,h=this._graphics.get(n);if(h){i.add(n),t!==h&&(s[o]=h);const r=this._duplicates.get(n);r?r.push(e):this._duplicates.set(n,[h.nodeIndex,e])}else t.nodeIndex=e,this._graphics.set(n,t)}i.size&&this._updateForeignGraphics(t);const n=i.size>0?s.filter((e=>!i.has(e.objectId))):s;n.length>0&&this.emit(\"change\",{added:n,removed:[]})}removeNode(e){const t=this._nodes.get(e);if(!t)return;this._nodes.delete(e);const s=new Set,i=[];for(const n of t.graphics){const t=n.objectId,o=this._graphics.get(t);if(!o)continue;const h=this._duplicates.get(t);if(h){const i=h.indexOf(e);if(-1===i)continue;if(h.splice(i,1),o.nodeIndex===e){let e=this.getNode(h[0]);for(let t=1;t<h.length;t++){const s=this.getNode(h[t]);(null==e||null!=s&&s.node.level>e.node.level)&&(e=s)}null!=e&&s.add(e)}1===h.length&&this._duplicates.delete(t)}else this._graphics.delete(t),i.push(n)}i.length>0&&this.emit(\"change\",{added:[],removed:i}),s.forEach((e=>this._updateForeignGraphics(e)))}_updateForeignGraphics(e){const t=[],s=e.node.index,i=e.node.level;let n=0;for(;n<e.graphics.length;){const o=e.graphics[n].nodeIndex;if(o===s){n++;continue}let h=1;for(;n+h<e.graphics.length&&e.graphics[n+h].nodeIndex===o;)h++;const r=this.getNode(o);if(null!=r&&r.node.level>i)n+=h;else{for(let i=n;i<n+h;i++){const n=e.graphics[i];n.nodeIndex=s,this._updateAndCompare(n,e,i)&&t.push(n)}n+=h}}t.length>0&&this._notifyUpdated(t)}toArray(){return Array.from(this._graphics.values())}find(e){return t(this._graphics,e)}some(e){return s(this._graphics,e)}forEach(e){this._graphics.forEach((t=>e(t)))}forEachNode(e){this._nodes.forEach(((t,s)=>e(t,s)))}get nodeCount(){return this._nodes.size}_checkInvariants(){const e=new Map;this._nodes.forEach(((t,s)=>{t.graphics.forEach((t=>{e.set(t.objectId,1+(e.get(t.objectId)??0)),this._duplicates.get(t.objectId)}))})),e.forEach(((e,t)=>{const s=this._graphics.get(t);if(!s)return;if(!this._nodes.get(s.nodeIndex))return;const i=this._duplicates.get(t);i&&i.forEach((e=>{this._nodes.get(e)}))}))}}export{i as I3SGraphicsMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import{binaryIndexOf as t}from\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import r from\"../../../core/Logger.js\";import{destroyMaybe as i}from\"../../../core/maybe.js\";import{estimateNumberArrayMemory as s}from\"../../../core/memoryEstimations.js\";import{initial as o,watch as a}from\"../../../core/reactiveUtils.js\";import{generateUID as n}from\"../../../core/uid.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import{subclass as d}from\"../../../core/accessorSupport/decorators/subclass.js\";import{i as u}from\"../../../chunks/vec32.js\";import{ZEROS as h,create as p}from\"../../../core/libs/gl-matrix-2/factories/vec3f64.js\";import{projectBuffer as c}from\"../../../geometry/projection/projectBuffer.js\";import{projectVectorToVector as m}from\"../../../geometry/projection/projectVectorToVector.js\";import{extentContainsCoords3D as g,extentContainsCoords2D as y}from\"../../../geometry/support/contains.js\";import{newDoubleArray as f,doubleArrayFrom as _}from\"../../../geometry/support/DoubleArray.js\";import{getGeometryZScaler as b}from\"../../../geometry/support/zscale.js\";import{fallbackObjectIDAttribute as v}from\"../../../layers/LayerConstants.js\";import{estimateSize as x}from\"../../../layers/graphics/dehydratedFeatures.js\";import{makeDehydratedPoint as I}from\"../../../layers/graphics/dehydratedPoint.js\";import{hydrateGraphic as E}from\"../../../layers/graphics/hydratedFeatures.js\";import w from\"../../../layers/graphics/controllers/I3SOnDemandController.js\";import N from\"../../../layers/support/FeatureFilter.js\";import j from\"../../../rest/support/Query.js\";import{isBasemapLayer as O}from\"../../../support/basemapUtils.js\";import{I3SPointsWorkerHandle as C}from\"./I3SPointsWorkerHandle.js\";import{LayerView3D as D}from\"./LayerView3D.js\";import{Graphics3DFeatureProcessor as F}from\"./graphics/Graphics3DFeatureProcessor.js\";import{QueryEngine as S}from\"./graphics/QueryEngine.js\";import{QueryEngineContext as G}from\"./graphics/QueryEngineContext.js\";import{createInteractiveEditSession as A,normalizeEditResultsEvent as P,processAttributeEdits as L}from\"./i3s/featureEditing.js\";import{I3SGraphicsMap as V}from\"./i3s/I3SGraphicsMap.js\";import{I3SOverrides as R}from\"./i3s/I3SOverrides.js\";import{checkRecyclable as M,checkSpatialReferences as H,containsDraco as Q,whenGraphicAttributes as q,getCachedAttributeValue as T}from\"./i3s/I3SUtil.js\";import{DefinitionExpressionSceneLayerView as U}from\"./support/DefinitionExpressionSceneLayerView.js\";import{defineFieldProperties as B}from\"./support/fieldProperties.js\";import{LayerViewPerformanceInfo as k}from\"./support/LayerViewPerformanceInfo.js\";import{PopupSceneLayerView as z}from\"./support/PopupSceneLayerView.js\";import{SceneLayerViewRequiredFields as W}from\"./support/SceneLayerViewRequiredFields.js\";import{TemporalSceneLayerView as K}from\"./support/TemporalSceneLayerView.js\";import{debugFlags as Z}from\"../support/debugFlags.js\";import{compute as Y}from\"../support/orientedBoundingBox.js\";import{updatingProgress as $}from\"../support/updatingProperties.js\";import{Vertices as J}from\"../webgl-engine/lib/Attribute.js\";import{UpdatePolicy as X}from\"../webgl-engine/lib/UpdatePolicy.js\";import ee from\"../../layers/SceneLayerView.js\";import{hasPopupTemplate as te}from\"../../layers/support/popupUtils.js\";import{defaultHighlightName as re}from\"../../support/HighlightDefaults.js\";import{TaskPriority as ie}from\"../../support/Scheduler.js\";const se=B();class oe{constructor(e,t,r,i){this.graphics=e,this.featureIds=t,this.attributeInfo=r,this.node=i}get cachedMemory(){return this.graphics.reduce(((e,t)=>x(t)+e),s(this.featureIds)+1024)}}let ae=class extends(K(U(z(D(ee))))){constructor(){super(...arguments),this.type=\"scene-layer-graphics-3d\",this._queryEngine=null,this._memCache=null,this._interactiveEditingSessions=new Map,this._pendingEditsQueue=Promise.resolve(),this.loadedGraphics=new V(((e,t,r)=>ue(e,t,r)),(e=>this.processor.graphicsCore.recreateGraphics(e))),this.holeFilling=\"always\",this.progressiveLoadFactor=1,this.supportsHeightUnitConversion=!0,this._coordinatesOutsideExtentErrors=0,this._maxCoordinatesOutsideExtentErrors=20}tryRecycleWith(e,t){return e.url===this.layer.url&&this._i3sOverrides.isEmpty?e.load(t).then((()=>{M(this.layer,e,this._i3sOverrides),this.layer=e,this._i3sOverrides.destroy();const t=this.view.resourceController?.memoryController;this._i3sOverrides=new R({view:this.view,layer:e,memoryController:t}),i(this._queryEngine),this._setupQueryEngine(),this.processor.resetObjectStates()})):null}initialize(){this.addResolvingPromise(this.layer.indexInfo);const e=this.view.resourceController?.memoryController;this._i3sOverrides=new R({view:this.view,layer:this.layer,memoryController:e}),H(this.layer,this.view.spatialReference,this.view.viewingMode),this._fieldsHelper=new W({layerView:this}),this._updatingHandles.add((()=>this.layer.rangeInfos),(e=>this._rangeInfosChanged(e)),o),this._updatingHandles.add((()=>this.layer.renderer),((e,t)=>this._rendererChange(e,t))),this._updatingHandles.add((()=>[this.parsedDefinitionExpression,this._excludeObjectIdsSorted]),(()=>this._filterChange())),this.addHandles(a((()=>Z.I3S_TREE_SHOW_TILES),(e=>{if(e&&!this._treeDebugger){const e=this._controller.crsIndex;import(\"./support/I3STreeDebugger.js\").then((({I3STreeDebugger:t})=>{!this._treeDebugger&&Z.I3S_TREE_SHOW_TILES&&(this._treeDebugger=new t({lv:this,view:this.view,nodeSR:e}))}))}else e||!this._treeDebugger||Z.I3S_TREE_SHOW_TILES||(this._treeDebugger.destroy(),this._treeDebugger=null)}),o)),this._set(\"processor\",new F({owner:this,preferredUpdatePolicy:X.ASYNC,scaleVisibilityEnabled:!0,filterVisibilityEnabled:!0,timeExtentEnabled:!1,frustumVisibilityEnabled:!1,elevationAlignmentEnabled:!0,elevationFeatureExpressionEnabled:!1,setUidToIdOnAdd:!1,dataExtent:this.layer.fullExtent,updateClippingExtent:e=>this._updateClippingExtent(e)})),this.processor.elevationAlignment?.events.on(\"invalidate-elevation\",(({extent:e,spatialReference:t})=>this._controller.updateElevationChanged(e,t))),this.supportsHeightUnitConversion&&(this._verticalScale=b(\"point\",this.layer.spatialReference,this.view.spatialReference)),this.addResolvingPromise(this.processor.when()),this._memCache=this.view.resourceController.memoryController.newCache(`psl-${this.uid}`),this._controller=new w({layerView:this}),Q(this.layer.geometryDefinitions)&&(this._worker=new C((e=>this.view.resourceController.immediate.schedule(e)))),this.addHandles(this.layer.on(\"apply-edits\",(e=>this._updatingHandles.addPromise(e.result)))),this.addHandles(this.layer.on(\"edits\",(e=>{const t=this._pendingEditsQueue.then((()=>this._handleEdits(e))).then();this._pendingEditsQueue=t,this._updatingHandles.addPromise(t)}))),this.when((()=>{this._setupQueryEngine(),this._updatingHandles.add((()=>this.maximumNumberOfFeatures),(e=>this._controller.featureTarget=e),o),this._updatingHandles.add((()=>this.suspended),(e=>{e&&this._removeAllNodeData()}))}))}destroy(){this._treeDebugger=i(this._treeDebugger),this._i3sOverrides=i(this._i3sOverrides),this._set(\"processor\",i(this.processor)),this._controller=i(this._controller),this._queryEngine=i(this._queryEngine),this._worker=i(this._worker),this._memCache=i(this._memCache),this.loadedGraphics.clear(),this._fieldsHelper=i(this._fieldsHelper)}get i3slayer(){return this.layer}get updatingProgressValue(){return this._controller?.updatingProgress??1}get requiredFields(){return this._fieldsHelper?.requiredFields??[]}get maximumNumberOfFeatures(){const e=this.processor?.graphicsCore?.displayFeatureLimit;return e?.maximumNumberOfFeatures??0}set maximumNumberOfFeatures(e){null!=e?(this._override(\"maximumNumberOfFeatures\",e),this._controller.fixedFeatureTarget=!0):(this._clearOverride(\"maximumNumberOfFeatures\"),this._controller.fixedFeatureTarget=!1)}get maximumNumberOfFeaturesExceeded(){return!this.suspended&&(!!this._controller?.useMaximumNumberOfFeatures&&!this._controller.leavesReached)}get _excludeObjectIdsSorted(){const e=this.layer.excludeObjectIds;return e.length?e.toArray().sort(((e,t)=>e-t)):null}get lodFactor(){return\"Labels\"===this.layer.semantic?1:this.view.qualitySettings.sceneService.point.lodFactor}get hasM(){return!1}get hasZ(){return!0}get contentVisible(){return!this.suspended&&!!this._controller?.rootNodeVisible}get legendEnabled(){return this.contentVisible&&!0===this.i3slayer?.legendEnabled}async whenGraphicAttributes(e,t){return q(this.layer,e,this._getObjectIdField(),t,(()=>[...this.loadedGraphics.nodes()]))}getHit(e){if(!this.loadedGraphics)return null;const t=E(this.loadedGraphics.find((t=>t.uid===e)),this.layer),r=this._getObjectIdField();return t?.attributes?.[r]?(t.layer=this.layer,t.sourceLayer=this.layer,{type:\"graphic\",graphic:t,layer:t.layer}):null}whenGraphicBounds(e,t){return this.processor.whenGraphicBounds(e,t)}computeAttachmentOrigin(e,t){return this.processor.computeAttachmentOrigin(e,t)}isUpdating(){return!!(this._controller?.updating||this.processor?.updating||this._fieldsHelper?.updating||this.layerFilterUpdating)}highlight(e,t){return this.processor.highlight(e,this.layer.objectIdField,t?.name??re)}get updatePolicy(){return this.processor.graphicsCore.effectiveUpdatePolicy}createInteractiveEditSession(e){return A(this._attributeEditingContext,e)}async _decompressBinaryPointData(e,t){const r={geometryBuffer:e.geometryBuffer};null==this._worker&&(this._worker=new C((e=>this.view.resourceController.immediate.schedule(e))));const i=await this._worker.invoke(r,t);if(null==i)throw new Error(\"Failed to decompress Draco point data\");return{positionData:i.positions,featureIds:i.featureIds}}async addNode(e,t,i){if(!de(t)&&!le(t))throw new Error;if(this.loadedGraphics.hasNode(e.index))return void r.getLogger(this).error(\"I3S node \"+e.id+\" already added\");const s=null!=this.layer.fullExtent?pe(this.layer.fullExtent.clone(),.5):null,{featureIds:o,pointPositions:a}=de(t)?await this._extractBinaryPointPositions(e,t,i):this._extractLegacyPointPositions(t),n=new Array;this._validatePositions(e,o,a,s,n);const l=this._controller.crsVertex,d=this.view.spatialReference;c(a,l,0,a,d,0,o.length);const u=de(t)?e.level:0,h=this._createGraphics(o,a,e.index,u),p=new oe(h,o,t.attributeDataInfo,e);if(await this._i3sOverrides.applyAttributeOverrides(p.featureIds,t.attributeDataInfo,i),e.numFeatures=p.graphics.length,this._updateNodeMemory(e),he(p),n.length>0&&(this._computeObb(e,n,l),this._controller.updateVisibility(e.index)),!this._controller.isGeometryVisible(e))return void this._cacheNodeData(p);if(null!=this._verticalScale)for(const r of p.graphics)this._verticalScale(r.geometry);const m=this.view._stage.renderView.olidRenderHelper;if(m){const e=O(this.view.map,this.layer.uid);for(let t=0;t<p.featureIds.length;t++){const r=p.featureIds[t];m.setUidToObjectAndLayerId(r,p.graphics[t].uid,this.layer.id,this.layer.uid,this.layer.popupEnabled&&!e&&te(this.layer,this.view.popup?.defaultPopupTemplateEnabled),p.node.resources.attributes,t)}}this.loadedGraphics.addNode(e.index,p),this._controller.updateLoadStatus(e.index,!0),this._filterNode(p),this._treeDebugger&&this._treeDebugger.update()}_computeObb(e,t,r){const i=this._controller.crsIndex,s=i.isGeographic?this.view.renderSpatialReference:i;c(t,r,0,t,s,0),e.serviceObbInIndexSR=Y(new J(t,3)),i.isGeographic&&(m(e.serviceObbInIndexSR.center,s,me,i),e.serviceObbInIndexSR.center=me)}isNodeLoaded(e){return this.loadedGraphics.hasNode(e)}isNodeReloading(){return!1}updateNodeState(){}async _extractBinaryPointPositions(e,t,r){const i=await this._decompressBinaryPointData(t,r),s=i.positionData,o=3,a=s.length/o,n=f(3*a),l=null!=e.serviceObbInIndexSR?e.serviceObbInIndexSR.center:h,d=Math.abs(l[2])*2**-20;for(let u=0;u<a;u++){const e=u*o;n[e]=s[e]+l[0],n[e+1]=s[e+1]+l[1],n[e+2]=s[e+2]+l[2],Math.abs(n[e+2])<d&&(n[e+2]=0)}return{featureIds:i.featureIds?_(i.featureIds):[],pointPositions:n}}_extractLegacyPointPositions(e){const t=e.pointData.length,r=f(3*t),i=new Array;for(let s=0;s<t;s++){const t=e.pointData[s],o=t.featureDataPosition,a=o.length,n=t.geometries?.[0]??ce[a],l=t.featureIds[0];if(\"Embedded\"!==n.type||\"points\"!==n.params.type||a<2||a>3)continue;const d=n.params.vertexAttributes?.position??[0,0,0],u=3*i.length;r[u]=o[0]+d[0],r[u+1]=o[1]+d[1],r[u+2]=3===a?o[2]+d[2]:NaN,i.push(l)}return{featureIds:i,pointPositions:r}}_validatePositions(e,t,i,s,o){if(null==s&&e.serviceObbInIndexSR)return;const a=t.length,n=3;for(let l=0;l<a;l++){const t=l*n;u(me,i[t],i[t+1],i[t+2]);const a=!Number.isNaN(i[2]);null==s||(a?g(s,me):y(s,me))||(this._coordinatesOutsideExtentErrors<this._maxCoordinatesOutsideExtentErrors&&r.getLogger(this).error(\"Service Error: Coordinates outside of layer extent\"),this._coordinatesOutsideExtentErrors+1===this._maxCoordinatesOutsideExtentErrors&&r.getLogger(this).error(\"Maximum number of errors reached. Further errors are ignored.\"),this._coordinatesOutsideExtentErrors++),e.serviceObbInIndexSR||o.push(me[0],me[1],me[2])}}_createGraphics(e,t,r,i){const s=e.length,o=3,a=this._getObjectIdField(),l=this.processor.graphicsCore,d=new Array,u=this.view.spatialReference;for(let h=0;h<s;h++){const s=e[h],p={};null!=s&&(p[a]=s);const c=s??n(),m=h*o,g=isNaN(t[m+2])?void 0:t[m+2],y=I(t[m],t[m+1],g,u),f=this.loadedGraphics.get(c);if(null!=f)(null==f.level||f.level<i)&&(ge.property=\"geometry\",ge.graphic=f,ge.oldValue=f.geometry,ge.newValue=y,f.geometry=y,f.level=i,l.graphicUpdateHandler(ge)),d.push(f);else{const e=n();d.push({objectId:c,uid:e,geometry:y,attributes:p,visible:!0,nodeIndex:r,level:i})}}return d}_updateNodeMemory(e){e.memory=4096+(null!=e.numFeatures?e.numFeatures*this.processor.graphicsCore.usedMemoryPerGraphic:0)}_cacheNodeData(e){this._memCache.put(this._getMemCacheKey(e.node),e)}_getMemCacheKey(e){return`${e.index}`}_removeAllNodeData(){this.loadedGraphics.forEachNode(((e,t)=>{if(e){const t=e.node;this._updateNodeMemory(t),this._cacheNodeData(e)}this._controller.updateLoadStatus(t,!1)})),this._treeDebugger&&this._treeDebugger.update(),this.loadedGraphics.clear()}removeNode(e){const t=this._removeNodeStageData(e);t&&(this._updateNodeMemory(t.node),this._cacheNodeData(t))}_removeNodeStageData(e){const t=this.loadedGraphics.getNode(e);return null==t?null:(this._controller.updateLoadStatus(e,!1),this.loadedGraphics.removeNode(e),this._treeDebugger&&this._treeDebugger.update(),t)}async loadCachedNodeData(e){return this._memCache?.pop(this._getMemCacheKey(e))}async addCachedNodeData(e,t,i,s){this.loadedGraphics.hasNode(e.index)?r.getLogger(this).error(\"I3S node \"+e.id+\" already added\"):(await this._i3sOverrides.applyAttributeOverrides(t.featureIds,i,s),t.attributeInfo=i,this.loadedGraphics.addNode(e.index,t),this._controller.updateLoadStatus(e.index,!0),this._updateNodeMemory(e),he(t),this._filterNode(t),this._treeDebugger&&this._treeDebugger.update())}getLoadedNodeIds(){const e=[];return this.loadedGraphics.forEachNode((t=>e.push(t.node.id))),e.sort()}getVisibleNodes(){const e=new Array;return this.loadedGraphics.forEachNode((t=>e.push(t.node))),e}getLoadedNodeIndices(e){this.loadedGraphics.forEachNode(((t,r)=>e.push(r)))}getLoadedAttributes(e){const t=this.loadedGraphics.getNode(e);if(null!=t?.attributeInfo)return t.attributeInfo.loadedAttributes}getAttributeData(e){const t=this.loadedGraphics.getNode(e);if(null!=t?.attributeInfo)return t.attributeInfo.attributeData}_setAttributeData(e,t){const r=this.loadedGraphics.getNode(e);null!=r?.attributeInfo&&(r.attributeInfo.attributeData=t,this._attributeValuesChanged(r))}async updateAttributes(e,t,r){const i=this.loadedGraphics.getNode(e);null!=i&&(await this._i3sOverrides.applyAttributeOverrides(i.featureIds,t,r),i.attributeInfo=t,this._attributeValuesChanged(i))}_attributeValuesChanged(e){he(e),this._filterNode(e);const{processor:t}=this,{graphicsCore:r}=t;if(r.labelsEnabled){const t=e.node.index,i=new Array;e.graphics.forEach((e=>e.nodeIndex===t&&i.push(e.uid))),r.updateLabelingInfo(i)}t.refreshFilter()}_updateClippingExtent(e){return this._controller&&this._controller.updateClippingArea(e),!1}_getObjectIdField(){return this.layer.objectIdField||v}_getGlobalIdField(){return this.layer.associatedLayer?.globalIdField}async _rendererChange(e,t){const{layer:{fieldsIndex:r}}=this,i=new Set;let s,o;e?(await e.collectRequiredFields(i,r),s=Array.from(i).sort()):s=[],i.clear(),t?(await t.collectRequiredFields(i,r),o=Array.from(i).sort()):o=[],s.length===o.length&&s.every(((e,t)=>s[t]===o[t]))||this._reloadAllNodes()}_rangeInfosChanged(e){null!=e&&e.length>0&&r.getLogger(this).warn(\"Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.\")}_filterChange(){this.loadedGraphics.forEachNode((e=>this._filterNode(e)))}_reloadAllNodes(){this._removeAllNodeData(),this._controller&&this._controller.restartNodeLoading()}_filterNode(e){const r=this.parsedDefinitionExpression,i=this._excludeObjectIdsSorted,s=this._getObjectIdField();for(const o of e.graphics){const e=o.visible,a=!r||this._evaluateClause(r,o),n=null==i||t(i,o.attributes[s])<0;o.visible=a&&n,e!==o.visible&&(ge.graphic=o,ge.property=\"visible\",ge.oldValue=e,ge.newValue=o.visible,this.processor.graphicsCore.graphicUpdateHandler(ge))}}createQuery(){const e={outFields:[\"*\"],returnGeometry:!0,outSpatialReference:this.view.spatialReference};return null!=this.filter?this.filter.createQuery(e):new j(e)}queryFeatures(e,t){return this._queryEngine.executeQuery(this._ensureQuery(e),t?.signal)}queryObjectIds(e,t){return this._queryEngine.executeQueryForIds(this._ensureQuery(e),t?.signal)}queryFeatureCount(e,t){return this._queryEngine.executeQueryForCount(this._ensureQuery(e),t?.signal)}queryExtent(e,t){return this._queryEngine.executeQueryForExtent(this._ensureQuery(e),t?.signal)}_ensureQuery(e){return this._addDefinitionExpressionToQuery(null==e?this.createQuery():j.from(e))}_setupQueryEngine(){const{layer:e,view:t,hasM:r,hasZ:i}=this,{spatialReference:s,resourceController:o}=t,a=new G(s,e,o,(()=>this.processor.featureStore),i,r);this._queryEngine=new S({context:a,priority:ie.FEATURE_QUERY_ENGINE})}get usedMemory(){return this.processor?.graphicsCore?.usedMemory??0}get unloadedMemory(){return.8*((this._controller?.unloadedMemoryEstimate??0)+(this.processor?.graphicsCore?.unprocessedMemoryEstimate??0))}get ignoresMemoryFactor(){return this._controller&&this._controller.fixedFeatureTarget}async _handleEdits(e){const t=this._attributeEditingContext,r=await P(t,e);L(t,r)}get _attributeEditingContext(){const e=this._getObjectIdField(),t=this._getGlobalIdField();return{sessions:this._interactiveEditingSessions,fieldsIndex:this.layer.fieldsIndex,objectIdField:e,globalIdField:t,forEachNode:e=>this.loadedGraphics.forEachNode((t=>e(t.node,t.featureIds))),attributeStorageInfo:this.i3slayer.attributeStorageInfo??[],i3sOverrides:this._i3sOverrides,getAttributeData:e=>this.getAttributeData(e),setAttributeData:(t,r,i)=>{this._setAttributeData(t,r);const s=this.loadedGraphics.getNode(t);if(null!=i){const t=this.loadedGraphics.get(i.attributes[e]);null!=t&&this.processor.graphicsCore.recreateGraphics([t])}else null!=s&&this.processor.graphicsCore.recreateGraphics(s.graphics)},clearMemCache:()=>{}}}get performanceInfo(){return new k(this.usedMemory,this.loadedGraphics.length,-1,this.maximumNumberOfFeatures,this.loadedGraphics.nodeCount,this.processor.graphicsCore.performanceInfo)}get test(){}};e([l()],ae.prototype,\"processor\",void 0),e([l({type:N})],ae.prototype,\"filter\",void 0),e([l()],ae.prototype,\"loadedGraphics\",void 0),e([l()],ae.prototype,\"i3slayer\",null),e([l()],ae.prototype,\"_controller\",void 0),e([l()],ae.prototype,\"updating\",void 0),e([l()],ae.prototype,\"suspended\",void 0),e([l()],ae.prototype,\"holeFilling\",void 0),e([l($)],ae.prototype,\"updatingProgress\",void 0),e([l()],ae.prototype,\"updatingProgressValue\",null),e([l(se.requiredFields)],ae.prototype,\"requiredFields\",null),e([l(se.availableFields)],ae.prototype,\"availableFields\",void 0),e([l()],ae.prototype,\"_fieldsHelper\",void 0),e([l({type:Number})],ae.prototype,\"maximumNumberOfFeatures\",null),e([l({readOnly:!0})],ae.prototype,\"maximumNumberOfFeaturesExceeded\",null),e([l()],ae.prototype,\"_excludeObjectIdsSorted\",null),e([l({readOnly:!0})],ae.prototype,\"lodFactor\",null),e([l({readOnly:!0})],ae.prototype,\"hasM\",null),e([l({readOnly:!0})],ae.prototype,\"hasZ\",null),e([l()],ae.prototype,\"contentVisible\",null),e([l({readOnly:!0})],ae.prototype,\"legendEnabled\",null),ae=e([d(\"esri.views.3d.layers.SceneLayerGraphicsView3D\")],ae);const ne=ae;function le(e){return\"pointData\"in e}function de(e){return\"geometryBuffer\"in e&&null!==e.geometryBuffer}function ue(e,t,r){const i=t.attributeInfo;if(null==i?.loadedAttributes||null==i.attributeData)return!1;let s=!1;for(const{name:o}of i.loadedAttributes)if(i.attributeData[o]){const t=T(i.attributeData[o],r);t!==e.attributes[o]&&(e.attributes[o]=t,s=!0)}return s}function he(e){const t=e.attributeInfo,r=e.node.index;if(null!=t?.loadedAttributes&&null!=t.attributeData)for(let i=0;i<e.graphics.length;i++){const s=e.graphics[i];if(s.nodeIndex===r){s.attributes||(s.attributes={});for(const{name:e}of t.loadedAttributes)t.attributeData[e]&&(s.attributes[e]=T(t.attributeData[e],i))}}}function pe(e,t){return e.xmin-=t,e.ymin-=t,e.xmax+=t,e.ymax+=t,null!=e.zmin&&null!=e.zmax&&(e.zmin-=t,e.zmax+=t),null!=e.mmin&&null!=e.mmax&&(e.mmin-=t,e.mmax+=t),e}const ce={2:{type:\"Embedded\",params:{type:\"points\",vertexAttributes:{position:[0,0]}}},3:{type:\"Embedded\",params:{type:\"points\",vertexAttributes:{position:[0,0,0]}}}},me=p(),ge={graphic:null,property:null,oldValue:null,newValue:null};export{ne as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../../chunks/tslib.es6.js\";import{property as e}from\"../../../../core/accessorSupport/decorators/property.js\";import\"../../../../core/has.js\";import\"../../../../core/Logger.js\";import\"../../../../core/RandomLCG.js\";import{subclass as r}from\"../../../../core/accessorSupport/decorators/subclass.js\";import{getTimeOperator as i}from\"../../../../layers/graphics/data/timeSupport.js\";import s from\"../../../../layers/support/FeatureFilter.js\";import{combineTimeExtent as n}from\"../../../../layers/support/timeSupport.js\";import{filterInPlace as o,getCachedAttributeValue as l}from\"../i3s/I3SUtil.js\";const u=i=>{let o=class extends i{get timeExtent(){return n(this.i3slayer,this.view?.timeExtent,this._get(\"timeExtent\"))}get mergedFilter(){const{filter:t,timeExtent:e}=this;if(null==e)return t;const r=t?.clone()??new s;return null!=e&&(r.timeExtent=r.timeExtent?.intersection(e)??e),r}getTimeFilterDependencies(){const{timeInfo:t}=this.i3slayer;if(null==t)return[];const{startField:e,endField:r}=t;return[e,r]}addTimeFilter(t,e){if(null==e)return;const{timeInfo:r}=this.i3slayer;if(null==r)return;const{startField:i,endField:s,useTime:n}=r;if(!n||null==i&&null==s)return;const o=r.toJSON(),l=e.toJSON();t.push(((t,e)=>a(t,e,o,l)))}};return t([e({readOnly:!0})],o.prototype,\"timeExtent\",null),t([e()],o.prototype,\"mergedFilter\",null),o=t([r(\"esri.views.3d.layers.support.TemporalSceneLayerView\")],o),o};function a(t,e,r,s){const n=e.attributeInfo?.attributeData;if(null==n)return;const{startTimeField:l,endTimeField:u}=r;if(!!(null!=l&&null==n[l]||null!=u&&null==n[u]))return;const a=i(r,s,new m(n));if(null==a)return;const{featureIds:p}=e;o(t,p,a)}class m{constructor(t){this.attributeData=t}getAttribute(t,e){return l(this.attributeData[e],t)}getAttributeAsTimestamp(t,e){const r=this.getAttribute(t,e);return\"string\"==typeof r?new Date(r).getTime():\"number\"==typeof r||null==r?r:null}}export{u as TemporalSceneLayerView};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nconst n=\"updating\";function t(n){return\"updating\"===n?null:n}function u(n){return\"updating\"===n}export{u as isUpdating,t as unwrapUpdating,n as updating};\n"],"names":["t","p","constructor","super","arguments","this","_definitionExpressionErrors","_maxDefinitionExpressionErrors","logError","r","e","getLogger","error","parsedDefinitionExpression","i3slayer","definitionExpression","o","create","fieldsIndex","isStandardized","i","s","fieldNames","n","fields","missingFields","length","join","definitionExpressionFields","_evaluateClause","testFeature","_addDefinitionExpressionToQuery","clone","where","readOnly","prototype","dracoDecompressPointCloudData","geometryBuffer","hasInitialize","_updateAndCompare","_notifyUpdated","_nodes","Map","_graphics","_duplicates","clear","size","toArray","emit","added","removed","get","getNode","hasNode","has","nodes","values","addNode","set","graphics","Set","objectId","h","add","push","nodeIndex","_updateForeignGraphics","filter","removeNode","delete","indexOf","splice","node","level","forEach","index","Array","from","find","some","forEachNode","nodeCount","_checkInvariants","se","B","oe","featureIds","attributeInfo","cachedMemory","reduce","x","ae","K","U","z","D","ee","type","_queryEngine","_memCache","_interactiveEditingSessions","_pendingEditsQueue","Promise","resolve","loadedGraphics","V","loadedAttributes","attributeData","name","T","attributes","ue","processor","graphicsCore","recreateGraphics","holeFilling","progressiveLoadFactor","supportsHeightUnitConversion","_coordinatesOutsideExtentErrors","_maxCoordinatesOutsideExtentErrors","tryRecycleWith","url","layer","_i3sOverrides","isEmpty","load","then","M","destroy","view","resourceController","memoryController","R","_setupQueryEngine","resetObjectStates","initialize","addResolvingPromise","indexInfo","H","spatialReference","viewingMode","_fieldsHelper","W","layerView","_updatingHandles","rangeInfos","_rangeInfosChanged","renderer","_rendererChange","_excludeObjectIdsSorted","_filterChange","addHandles","a","Z","I3S_TREE_SHOW_TILES","_treeDebugger","_controller","crsIndex","_ref","I3STreeDebugger","lv","nodeSR","_set","F","owner","preferredUpdatePolicy","X","ASYNC","scaleVisibilityEnabled","filterVisibilityEnabled","timeExtentEnabled","frustumVisibilityEnabled","elevationAlignmentEnabled","elevationFeatureExpressionEnabled","setUidToIdOnAdd","dataExtent","fullExtent","updateClippingExtent","_updateClippingExtent","elevationAlignment","events","on","_ref2","extent","updateElevationChanged","_verticalScale","b","when","newCache","uid","w","Q","geometryDefinitions","_worker","C","immediate","schedule","addPromise","result","_handleEdits","maximumNumberOfFeatures","featureTarget","suspended","_removeAllNodeData","updatingProgressValue","updatingProgress","requiredFields","displayFeatureLimit","_override","fixedFeatureTarget","_clearOverride","maximumNumberOfFeaturesExceeded","useMaximumNumberOfFeatures","leavesReached","excludeObjectIds","sort","lodFactor","semantic","qualitySettings","sceneService","point","hasM","hasZ","contentVisible","rootNodeVisible","legendEnabled","whenGraphicAttributes","q","_getObjectIdField","getHit","E","sourceLayer","graphic","whenGraphicBounds","computeAttachmentOrigin","isUpdating","updating","layerFilterUpdating","highlight","objectIdField","re","updatePolicy","effectiveUpdatePolicy","createInteractiveEditSession","A","_attributeEditingContext","_decompressBinaryPointData","invoke","Error","positionData","positions","de","le","id","xmin","ymin","xmax","ymax","zmin","zmax","mmin","mmax","pe","pointPositions","_extractBinaryPointPositions","_extractLegacyPointPositions","_validatePositions","l","crsVertex","d","c","u","_createGraphics","attributeDataInfo","applyAttributeOverrides","numFeatures","_updateNodeMemory","he","_computeObb","updateVisibility","isGeometryVisible","_cacheNodeData","geometry","m","_stage","renderView","olidRenderHelper","O","map","setUidToObjectAndLayerId","popupEnabled","te","popup","defaultPopupTemplateEnabled","resources","updateLoadStatus","_filterNode","update","isGeographic","renderSpatialReference","serviceObbInIndexSR","Y","J","center","me","isNodeLoaded","isNodeReloading","updateNodeState","f","Math","abs","_","pointData","featureDataPosition","geometries","ce","params","vertexAttributes","position","NaN","Number","isNaN","g","y","I","ge","property","oldValue","newValue","graphicUpdateHandler","visible","memory","usedMemoryPerGraphic","put","_getMemCacheKey","_removeNodeStageData","loadCachedNodeData","pop","addCachedNodeData","getLoadedNodeIds","getVisibleNodes","getLoadedNodeIndices","getLoadedAttributes","getAttributeData","_setAttributeData","_attributeValuesChanged","updateAttributes","labelsEnabled","updateLabelingInfo","refreshFilter","updateClippingArea","v","_getGlobalIdField","associatedLayer","globalIdField","collectRequiredFields","every","_reloadAllNodes","warn","restartNodeLoading","createQuery","outFields","returnGeometry","outSpatialReference","j","queryFeatures","executeQuery","_ensureQuery","signal","queryObjectIds","executeQueryForIds","queryFeatureCount","executeQueryForCount","queryExtent","executeQueryForExtent","G","featureStore","S","context","priority","ie","FEATURE_QUERY_ENGINE","usedMemory","unloadedMemory","unloadedMemoryEstimate","unprocessedMemoryEstimate","ignoresMemoryFactor","P","L","sessions","attributeStorageInfo","i3sOverrides","setAttributeData","clearMemCache","performanceInfo","k","test","N","$","availableFields","ne","timeExtent","_get","mergedFilter","intersection","getTimeFilterDependencies","timeInfo","startField","endField","addTimeFilter","useTime","toJSON","startTimeField","endTimeField","getAttribute","getAttributeAsTimestamp","Date","getTime"],"sourceRoot":""}