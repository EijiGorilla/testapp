{"version":3,"file":"static/js/27147.2aa1a1f1.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/geometry/support/meshUtils/elevation.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../../core/Logger.js\";import{getMetersPerUnitForSR as t}from\"../../../core/unitUtils.js\";import o from\"../../Mesh.js\";import n from\"../../Point.js\";import{project as r}from\"../../projection.js\";import i from\"../MeshComponent.js\";import{MeshVertexAttributes as s}from\"../MeshVertexAttributes.js\";import{isGround as a}from\"../../../support/groundInstanceUtils.js\";const l=()=>e.getLogger(\"esri.geometry.support.meshUtils.elevation\");async function m(e,t,n){let r;if(p(e)||a(e)){const o=await c(e);return r=await o.createElevationSampler(t,{demResolution:n?.demResolution??\"finest-contiguous\"}),u(r,t,{material:n?.material})}return\"string\"==typeof n?.demResolution?(l().error(\"create()\",\"demResolution must be a number when used directly with a sampler\"),new o):u(e,t,{material:n?.material,demResolution:n?.demResolution})}function u(e,n,a){if(e.demResolution.min<=0&&!a?.demResolution)return l().error(\"create()\",\"demResolution must be specified when used with groundView.elevationSampler\"),new o;const m=t(n.spatialReference),u=(a?.demResolution??e.demResolution.min)/m,c=Math.round(n.width/u),p=Math.round(n.height/u),d=c+1,w=p+1,R=new Float64Array(d*w*3),h=new Float32Array(d*w*2);let y=0,g=0;const j=new Uint32Array(c*p*2*3);let v=0,A=0;const b=!e.spatialReference.equals(n.spatialReference);f.spatialReference=n.spatialReference;const{xmin:x,ymin:M,height:U,width:S}=n;for(let t=0;t<w;t++){const o=M+U*(t/p);for(let n=0;n<d;n++){const i=x+S*(n/c);if(R[y++]=i,R[y++]=o,b){f.x=i,f.y=o;const t=r(f,e.spatialReference);R[y++]=e.elevationAt(t.x,t.y)??0}else R[y++]=e.elevationAt(i,o)??0;const s=n/c,a=t/p;h[g++]=s,h[g++]=a,t!==p&&n!==c&&(j[A++]=v+1,j[A++]=v+d+1,j[A++]=v+d,j[A++]=v,j[A++]=v+1,j[A++]=v+d),v++}}return new o({vertexAttributes:new s({position:R,uv:h}),components:[new i({faces:j,shading:\"smooth\",material:a?.material??null})],spatialReference:n.spatialReference})}async function c(e){return p(e)?e.load():(await e.load(),await Promise.allSettled(e.layers.items.map((e=>e.load()))),e)}function p(e){return\"type\"in e&&(\"elevation\"===e.type||\"base-elevation\"===e.type)}const f=new n;export{m as create};\n"],"names":["l","e","getLogger","async","m","t","n","r","p","a","o","load","Promise","allSettled","layers","items","map","c","createElevationSampler","demResolution","u","material","error","min","spatialReference","Math","round","width","height","d","w","R","Float64Array","h","Float32Array","y","g","j","Uint32Array","v","A","b","equals","f","xmin","x","ymin","M","U","S","i","elevationAt","s","vertexAttributes","position","uv","components","faces","shading","type"],"sourceRoot":""}