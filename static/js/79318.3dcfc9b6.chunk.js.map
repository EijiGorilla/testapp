{"version":3,"file":"static/js/79318.3dcfc9b6.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/smartMapping/popup/support/clusterUtils.js","../node_modules/@arcgis/core/smartMapping/popup/clusters.js","../node_modules/@arcgis/core/smartMapping/popup/support/utils.js","../node_modules/@arcgis/core/smartMapping/support/clusterUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{substitute as e}from\"../../../intl/substitute.js\";import{numericTypes as t}from\"../../../layers/support/fieldUtils.js\";import\"../../../popup/content/AttachmentsContent.js\";import\"../../../popup/content/Content.js\";import\"../../../popup/content/CustomContent.js\";import\"../../../popup/content/ExpressionContent.js\";import\"../../../popup/content/FieldsContent.js\";import\"../../../popup/content/MediaContent.js\";import\"../../../popup/content/RelationshipContent.js\";import n from\"../../../popup/content/TextContent.js\";import\"../../../popup/content/UtilityNetworkAssociationsContent.js\";import o from\"../../../popup/ExpressionInfo.js\";import i from\"../../../popup/FieldInfo.js\";import s from\"../../../popup/support/FieldInfoFormat.js\";import{getFieldAndExpressionInfos as r,getContentFromFieldInfos as l}from\"./utils.js\";import{getStatisticInfos as p,getClusterField as u,getPredominantTypeExpression as a,clusterCountField as f}from\"../../support/clusterUtils.js\";import{isClusterCompatibleRenderer as m}from\"../../../views/2d/layers/support/clusterUtils.js\";function c(e){const{fieldName:n,label:o,type:r}=e,l=null!=r&&t.includes(r),p=new i({fieldName:n,label:o,visible:!0,format:l?new s({places:\"integer\"===r||\"small-integer\"===r?0:2,digitSeparator:!0}):void 0});return\"date\"===r&&(p.format=new s({dateFormat:\"short-date-short-time\"})),p}function d(e,t){const n=e?t.getField(e):null;return null!=n?n.alias||n.name:void 0}function y(t,n,o){const{attributeInfo:i,statisticType:s}=n,{field:r,normalizationField:l}=i;let p,u=\"\";if(\"avg\"===s?p=l?o.clusters.avgNormFieldLabel:o.clusters.avgFieldLabel:\"type\"===s&&(p=o.clusters.predominantFieldLabel),p){const n=i.valueExpression?i.valueExpressionTitle:d(r,t),o=l&&d(l,t);u=e(p,{fieldLabel:n||\"\",normFieldLabel:o||\"\"})}return u}function F(t,n,o,i){const{attributeInfo:s,statisticType:r}=n,{field:l,normalizationField:p}=s;let u,a=\"\";if(\"avg\"===r?u=p?i.clusters.avgNormFieldSummary:i.clusters.avgFieldSummary:\"type\"===r&&(u=i.clusters.predominantFieldSummary),u){const n=s.valueExpression?s.valueExpressionTitle:d(l,t),i=p&&d(p,t);a=e(u,{fieldLabel:n||\"\",normFieldLabel:i||\"\",fieldValue:\"{\"+o+\"}\"})}return a}function I(t){return{fieldInfo:c({fieldName:f,label:t.clusters.numFeatures,type:\"integer\"}),fieldSummary:new n({text:e(t.clusters.countSummary,{count:`{${f}}`})})}}async function b(e,t,i){if(!m(t))return null;const s=p(e,t),r=i.clusters.predominantNoneValue,l=\"unique-value\"===t.type?t.uniqueValueInfos??[]:[],{fieldInfo:f,fieldSummary:d}=I(i),b=[d],j=[f],x=[];for(const p of s){const{statisticType:t,attributeInfo:s}=p,f=u(s,t),m=y(e,p,i);if(\"avg\"===t)b.push(new n({text:F(e,p,f,i)})),j.push(c({fieldName:f,label:m,type:\"double\"}));else if(\"type\"===t){const t=`expression/${f}`;b.push(new n({text:F(e,p,t,i)})),x.push(new o({name:f,title:m,returnType:\"string\",expression:a(l,f,r)})),j.push(c({fieldName:t}))}}return{fieldInfos:j,expressionInfos:x,content:b}}async function j(e,t,n){if(!m(t))return null;const{fieldInfo:o,fieldSummary:i}=I(n),s=[i],p=[o],u=[],{fieldInfos:a,expressionInfos:f}=await r({renderer:t,layer:e,isFeatureReduction:!0}),c=await l(e,{fieldInfos:a,expressionInfos:f},!0);return s.push(...c),p.push(...a),u.push(...f),{fieldInfos:p,expressionInfos:u,content:s}}export{b as getContentAndInfos,j as getContentAndInfosForPieChart};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../PopupTemplate.js\";import r from\"../../core/Error.js\";import{fetchMessageBundle as t}from\"../../intl/messages.js\";import{getContentAndInfos as s,getContentAndInfosForPieChart as n}from\"./support/clusterUtils.js\";import{isClusterCompatibleRenderer as i}from\"../../views/2d/layers/support/clusterUtils.js\";async function o(e){const{layer:t,renderer:s}=e;await t.load();const n=s??(\"renderer\"in t?t.renderer:void 0);if(!i(n))throw new r(\"clusters-popup:invalid-parameters\",\"'renderer' is not valid\");return{layer:t,renderer:n}}async function l(r){const[{renderer:i,layer:l},a]=await Promise.all([o(r),t(\"esri/smartMapping/t9n/smartMapping\")]),p=await s(l,i,a);if(null==p)return null;const u={name:\"clusters\",title:a.clusters.templateTitle,value:new e({fieldInfos:p.fieldInfos,expressionInfos:p.expressionInfos,content:p.content,title:a.clusters.clusterPopupTitle})},c=[],f=l.featureReduction,m=f&&\"renderer\"in f?f.renderer:null;if(\"pie-chart\"===m?.type){const r=await n(l,m,a);null!=r&&c.push({name:\"clusters-pie-chart\",title:\"clusters-pie-chart\",value:new e({fieldInfos:r.fieldInfos,expressionInfos:r.expressionInfos,content:r.content,title:a.clusters.clusterPopupTitle})})}return{primaryTemplate:u,secondaryTemplates:c}}export{l as getTemplates};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{unique as e}from\"../../../core/arrayUtils.js\";import\"../../../core/has.js\";import{fetchMessageBundle as t}from\"../../../intl/messages.js\";import{substitute as n}from\"../../../intl/substitute.js\";import{numericTypes as i}from\"../../../layers/support/fieldUtils.js\";import\"../../../popup/content/AttachmentsContent.js\";import\"../../../popup/content/Content.js\";import\"../../../popup/content/CustomContent.js\";import\"../../../popup/content/ExpressionContent.js\";import o from\"../../../popup/content/FieldsContent.js\";import\"../../../popup/content/MediaContent.js\";import\"../../../popup/content/RelationshipContent.js\";import s from\"../../../popup/content/TextContent.js\";import\"../../../popup/content/UtilityNetworkAssociationsContent.js\";import r from\"../../../popup/ExpressionInfo.js\";import p from\"../../../popup/FieldInfo.js\";import a from\"../../../popup/support/FieldInfoFormat.js\";import{getAttributes as l}from\"../../../renderers/support/utils.js\";import{viewScaleRE as u}from\"../../../renderers/visualVariables/support/visualVariableUtils.js\";import{getFeatureReductionFields as m}from\"../../support/adapters/support/utils.js\";let f=0;function d(e=0){}const c=\"expression/\";function b(e){return\"hasVisualVariables\"in e&&e.hasVisualVariables()?e.visualVariables.filter((e=>!u.test(e.valueExpression)&&(!(\"target\"in e)||\"outline\"!==e.target))):[]}function x(e,t){if(!t)return null;const n=m(e);return n?.find((e=>e.name.toLowerCase()===t.toLowerCase()))}function j(e,t,n){let o=null;if(n&&\"featureReduction\"in e){const t=e.featureReduction;t&&\"popupTemplate\"in t&&t.popupTemplate&&(o=t.popupTemplate.fieldInfos)}else\"popupTemplate\"in e&&e.popupTemplate&&(o=e.popupTemplate.fieldInfos);const s=n?x(e,t):e.getField(t);let r=null;if(o&&o.some((e=>!(!e||e.fieldName?.toLowerCase()!==s?.name.toLowerCase())&&(r=e.clone(),!0))),!r){const e=i.includes(s.type),t=\"integer\"===s.type||\"small-integer\"===s.type;r=new p({fieldName:s.name,isEditable:s.editable,visible:!0,format:e?new a({places:t?0:2,digitSeparator:!0}):void 0})}return r.label||(r.label=s.alias),r}function F(e){const{expression:t,title:n,returnType:i}=e;return new r({name:\"expr\"+f++,expression:t,title:n,returnType:i})}function g(e){const t=\"number\"===e.returnType?new a({places:2,digitSeparator:!0}):void 0;return new p({fieldName:`${c}${e.name}`,visible:!0,format:t})}async function y(i){const o=await t(\"esri/smartMapping/t9n/smartMapping\"),{renderer:s,layer:r,normFieldExpressionTemplate:p,isFeatureReduction:a}=i,u=[],m=[],f=l(s,b);for(const e of f)if(\"field\"===e.type)u.push(j(r,e.field,a));else if(\"normalized-field\"===e.type){const t=a?x(r,e.field):r.getField(e.field),i=a?x(r,e.normalizationField):r.getField(e.normalizationField),s=F({type:\"expression\",expression:`\\n      $feature[\"${t.name}\"];\\n      $feature[\"${i.name}\"];\\n      ${\"percentage\"===p?`($feature[\"${t.name}\"] / $feature[\"${i.name}\"]) * 100;`:`$feature[\"${t.name}\"] / $feature[\"${i.name}\"];`}\\n      `,title:n(\"percentage\"===p?o.normFieldLabelAsPercent:o.normFieldLabel,{expression1:t.alias,expression2:i.alias}),returnType:\"number\"});u.push(g(s),j(r,e.field,a),j(r,e.normalizationField,a)),m.push(s)}else if(\"expression\"===e.type){const t=F(e);u.push(g(t)),m.push(t)}return{fieldInfos:e(u,((e,t)=>e.fieldName===t.fieldName)),expressionInfos:e(m,((e,t)=>e.expression===t.expression))}}async function $(e,i,r){const{fieldInfos:p,expressionInfos:a}=i,l=await t(\"esri/smartMapping/t9n/smartMapping\");if(p.length>2)return[new o({fieldInfos:p})];const u=[];for(const t of p){const i=t.fieldName||\"\";let o=t.label;if(!o){const t=r?x(e,i):e.getField(i);if(t)o=t.alias||i;else if(a){const e=i.split(c)[1],t=a[a.findIndex((t=>t.name===e))];t&&(o=t.title||t.name)}}u.push(new s({text:n(l.fieldInfo,{fieldLabel:o,fieldValue:`{${i}}`})}))}return u}function h(e){return!(!(\"normalizationField\"in e)||!e.normalizationField)||\"hasVisualVariables\"in e&&e.hasVisualVariables()&&e.visualVariables.some((e=>!(!(\"normalizationField\"in e)||!e.normalizationField)))}export{c as expressionFieldPrefix,$ as getContentFromFieldInfos,F as getExpressionInfo,y as getFieldAndExpressionInfos,j as getFieldInfo,g as getFieldInfoFromExpressionInfo,b as getPrimaryVisualVariables,h as hasNormalizedField,d as resetSuffixForTests};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{unique as n}from\"../../core/arrayUtils.js\";import{createMD5Hash as e}from\"../../core/MD5.js\";import{isValidNumber as i}from\"../../renderers/visualVariables/support/sizeVariableUtils.js\";import{getPrimaryVisualVariables as t}from\"../popup/support/utils.js\";import{getNormalizationType as o}from\"./utils.js\";const l=\"cluster_count\";function r(n,e){return n.split(`cluster_${e}_`).pop()}function a(n){if(!n)return null;const{field:e,valueExpression:t,normalizationField:l,normalizationType:r,normalizationTotal:a}=n;let u=null;if(t)u=t;else if(e){const n=o({normalizationType:r,normalizationField:l,normalizationTotal:a});if(n){const t=n.toLowerCase();if(u=e.toLowerCase()+\",norm:\"+t,l)u+=\",\"+l.toLowerCase();else if(\"percent-of-total\"===t){let n=a;i(n)&&0!==n||(n=null),u+=\",\"+n}}}return u}function u(n){return e(n)}function s(n,e){const i=a(n);return`${e}_${null!=i?u(i):n.field}`}function p(n,e){return`cluster_${s(n,e)}`}function f(n,e){const i=e.getField(n);return i?.type}function c(n,e){const i=\"field\"in e?e.field:null,t=i?f(i,n):null;return{field:i,fieldType:null!=t?t:null,valueExpression:\"valueExpression\"in e?e.valueExpression:null,valueExpressionTitle:\"valueExpressionTitle\"in e?e.valueExpressionTitle:null,normalizationField:\"normalizationField\"in e?e.normalizationField:null,normalizationType:\"normalizationType\"in e?e.normalizationType:null,normalizationTotal:\"normalizationTotal\"in e?e.normalizationTotal:null}}function m(n,e){const i=\"rotation\"===e.type?e.rotationType:null,t=e.legendOptions?.title,o=e.field,l=o?f(o,n):null;return{field:o,fieldType:null!=l?l:null,rotationType:i,valueExpression:e.valueExpression,valueExpressionTitle:e.valueExpressionTitle||e.valueExpression&&t,normalizationField:\"normalizationField\"in e?e.normalizationField:null,vvType:e.type}}function v(n){return n.map((n=>`{\\n        \"value\": \"${String(n.value)}\",\\n        \"label\": \"${T(String(n.label))}\"\\n      }`))}function T(n){return n?n.replaceAll('\"','\\\\\"'):\"\"}function d(n,e,i){return`\\n  var uvInfos = [${v(n).join(\", \")}];\\n  var predominantType = Text($feature[\"${e}\"]);\\n  var label = \"${T(i)}\";\\n\\n  for (var i = 0; i < Count(uvInfos); i++) {\\n    if (uvInfos[i].value == predominantType) {\\n      label = uvInfos[i].label;\\n      break;\\n    }\\n  }\\n\\n  return label;\\n  `}function y(n,e){const i=[s(n,e)];return\"date\"===n.fieldType&&i.push(n.fieldType.toLowerCase()),n.rotationType&&i.push(n.rotationType.toLowerCase()),i.join(\"_\")}function z(n,e){return{statisticHash:y(n,e),attributeInfo:n,statisticType:e}}function x(e,i,o=!0){const l=[],r=c(e,i);\"class-breaks\"===i.type?l.push(z(r,\"avg\")):\"unique-value\"===i.type&&l.push(z(r,\"type\"));const a=t(i);for(const n of a){const i=m(e,n);l.push(z(i,\"avg\"))}return o?n(l,((n,e)=>n.statisticHash===e.statisticHash)):l}export{l as clusterCountField,p as getClusterField,r as getClusterFieldHash,d as getPredominantTypeExpression,c as getRendererAttributeInfo,s as getStatisticId,z as getStatisticInfo,x as getStatisticInfos,m as getVariableAttributeInfo};\n"],"names":["c","e","fieldName","n","label","o","type","r","l","t","includes","p","i","visible","format","s","places","digitSeparator","dateFormat","d","getField","alias","name","y","attributeInfo","statisticType","field","normalizationField","u","clusters","avgNormFieldLabel","avgFieldLabel","predominantFieldLabel","valueExpression","valueExpressionTitle","fieldLabel","normFieldLabel","F","a","avgNormFieldSummary","avgFieldSummary","predominantFieldSummary","fieldValue","I","fieldInfo","f","numFeatures","fieldSummary","text","countSummary","count","async","b","m","predominantNoneValue","uniqueValueInfos","j","x","push","title","returnType","expression","fieldInfos","expressionInfos","content","layer","renderer","load","Promise","all","templateTitle","value","clusterPopupTitle","featureReduction","isFeatureReduction","primaryTemplate","secondaryTemplates","hasVisualVariables","visualVariables","filter","test","target","find","toLowerCase","popupTemplate","some","clone","isEditable","editable","g","normFieldExpressionTemplate","normFieldLabelAsPercent","expression1","expression2","$","length","split","findIndex","h","pop","normalizationType","normalizationTotal","rotationType","legendOptions","fieldType","vvType","T","replaceAll","map","String","v","join","z","statisticHash","arguments","undefined"],"sourceRoot":""}