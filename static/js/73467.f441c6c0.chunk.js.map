{"version":3,"file":"static/js/73467.f441c6c0.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/smartMapping/symbology/support/Theme.js","../node_modules/@arcgis/core/smartMapping/symbology/support/symbologyUtils.js","../node_modules/@arcgis/core/smartMapping/statistics/heatmapStatistics.js","../node_modules/@arcgis/core/smartMapping/symbology/heatmap.js","../node_modules/@arcgis/core/smartMapping/renderers/heatmap.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport{clone as s}from\"../../../core/lang.js\";import{defaultBasemapGroups as e,getBasemapId as t,getBasemapGroup as a}from\"../../support/utils.js\";function p(s,e,p){let m=null,o=null;if(e&&(m=t(e,s,!1),m)){const s=a(m);null!=s&&(o=s)}return!m&&p&&(m=\"dark\"===p?\"dark-gray\":\"gray\",o=p),m||o||(m=\"gray\",o=\"light\"),{basemapId:m,basemapTheme:o}}class m{constructor(s){const{name:t,label:a,description:p,schemes:m}=s;this.name=t,this.label=a,this.description=p,this.schemes=m;const o=s.basemapGroups||e;let r=[];Object.keys(o).forEach((s=>{r=r.concat(o[s])})),this.supportedBasemaps=r,this.basemapGroups=o}isBasemapSupported(s){const e=t(s,this.supportedBasemaps);return!(!e||!this.supportedBasemaps.includes(e))}getRawSchemes(e){const{basemapId:t,basemapTheme:m}=p(this.supportedBasemaps,e.basemap,e.basemapTheme);let o=m;if(t){const s=a(t,this.basemapGroups);null!=s&&(o=s)}let r=e.geometryType;\"multipoint\"===r?r=\"point\":\"mesh\"===r&&(r=\"polygon\");const i=this.schemes[r]||this.schemes.default;return{schemesInfo:s(i[o]),basemapId:t,basemapTheme:m}}}export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"./Theme.js\";function n(n){const t=n.themeDictionary,r=new Map;for(const s in t){const n=t[s];r.set(s,new e(n))}return r}function t(e,n){const t=[];return e.forEach((e=>{e.isBasemapSupported(n)&&t.push({name:e.name,label:e.label,description:e.description,basemaps:[...e.supportedBasemaps]})})),t}function r(e,n){if(!e)return;if(!n)return;let t=null;const r=[n.primaryScheme,...n.secondarySchemes];for(const s of r)if(s.name?.toLowerCase()===e.toLowerCase()){t=s;break}return t}function s(e,n,t){if(!e&&!n)return[];if(!t)return[];const r=!e?.length,s=!n?.length,o=[t.primaryScheme,...t.secondarySchemes],a=[];for(const c of o){const t=!!r||e.some((e=>c.tags.includes(e))),o=!s&&n.some((e=>c.tags.includes(e)));t&&!o&&a.push(c)}return a}function o(e){const n=e.theme;if(n)return n.getRawSchemes({basemap:e.basemap,geometryType:e.geometryType,basemapTheme:e.basemapTheme})}export{n as createThemes,r as filterSchemesByName,s as filterSchemesByTag,o as getRawSchemes,t as getThemesforBasemap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport r from\"../../core/Error.js\";import{numericTypes as a}from\"../../layers/support/fieldUtils.js\";import{gaussianBlurRadiusPxToKernelDensityRadiusPt as t}from\"../../renderers/support/heatmapUtils.js\";import{verifyBasicFieldValidity as e,verifyFieldType as s}from\"./support/utils.js\";import{getFieldsList as i}from\"../support/utils.js\";import{LayerType as o,createLayerAdapter as l,getLayerTypeLabels as n}from\"../support/adapters/support/layerUtils.js\";const p=a;async function u(a){if(!a?.layer||!a.view)throw new r(\"heatmap-statistics:missing-parameters\",\"'layer' and 'view' parameters are required\");const u=[o.CSVLayer,o.FeatureLayer,o.GeoJSONLayer,o.KnowledgeGraphSublayer,o.OGCFeatureLayer,o.OrientedImageryLayer,o.ParquetLayer,o.StreamLayer,o.WFSLayer],{layer:m,...d}=a,y=l(m,u);if(!y)throw new r(\"heatmap-statistics:invalid-parameters\",\"'layer' must be one of these types: \"+n(u).join(\", \"));const f={layerAdapter:y,...d};f.radius=null==f.radius?null==f.blurRadius?18:t(f.blurRadius):f.radius;const c=null!=f.signal?{signal:f.signal}:null;await y.load(c);const h=f.field,w=h?y.getField(h):null,L=await i({field:h}),g=e(y,L,\"heatmap-statistics:invalid-parameters\");if(g)throw g;if(w){const r=s(y,w,\"heatmap-statistics:invalid-parameters\",p);if(r)throw r}return f}async function m(r){const{layerAdapter:a,...t}=await u(r);return a.heatmapStatistics(t)}export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import{isSome as a}from\"../../core/arrayUtils.js\";import r from\"./support/colors.js\";import{createThemes as t,getThemesforBasemap as l,getRawSchemes as o,filterSchemesByName as n,filterSchemesByTag as m}from\"./support/symbologyUtils.js\";const i=t({themeDictionary:{default:{name:\"default\",label:\"Default\",description:\"Default theme for visualizing features using heatmap.\",schemes:{default:{light:{primary:\"heatmap-v1\",secondary:[\"heatmap-v2\",\"heatmap-v3\",\"heatmap-plasma\",\"heatmap-cividis\",\"neutral-yellow-orange\",\"neutral-yellow-green\",\"neutral-yellow-purple\",\"neutral-yellow-magenta\",\"neutral-white-blue\",\"neutral-white-blue-metal\",\"neutral-white-gold\",\"neutral-yellow-bronze\",\"heatmap-v4\",\"heatmap-viridis\",\"heatmap-magma\",\"heatmap-inferno\",\"dark-yellow-orange\",\"dark-yellow-green\",\"dark-yellow-purple\",\"dark-yellow-magenta\",\"dark-white-blue\",\"dark-white-blue-metal\",\"dark-white-gold\",\"dark-yellow-bronze\"]},dark:{primary:\"heatmap-v4\",secondary:[\"heatmap-inferno\",\"heatmap-viridis\",\"heatmap-magma\",\"dark-white-blue\",\"dark-yellow-orange\",\"dark-yellow-green\",\"dark-yellow-purple\",\"dark-yellow-magenta\",\"dark-white-blue-metal\",\"dark-white-gold\",\"dark-yellow-bronze\",\"heatmap-v1\",\"heatmap-v2\",\"heatmap-v3\",\"heatmap-plasma\",\"heatmap-cividis\",\"neutral-yellow-orange\",\"neutral-yellow-green\",\"neutral-yellow-purple\",\"neutral-yellow-magenta\",\"neutral-white-blue\",\"neutral-white-blue-metal\",\"neutral-white-gold\",\"neutral-yellow-bronze\"]}}}}}});function p(e){return l(i,e)}function s(e){const r=\"default\",t=o({basemap:e.basemap,basemapTheme:e.basemapTheme,theme:i.get(r)});if(!t)return;const{schemesInfo:l,basemapId:n,basemapTheme:m}=t,p=`${r}/${n}/`;return{primaryScheme:c(l.primary,p+l.primary),secondarySchemes:l.secondary.map((e=>c(e,p+e))).filter(a),basemapId:n,basemapTheme:m}}function u(e){return n(e.name,s(e))}function d(e){return m(e.includedTags,e.excludedTags,s(e))}function h(a){if(!a)return;const r={...a};return r.colors=r.colors.map((a=>new e(a))),r.tags=[...r.tags],r}function c(e,a){const t=r[e];if(t)return y({id:a,name:t.name,tags:t.tags,colors:t.stops??[],opacity:.7})}function y(a){return{id:a.id,name:a.name,tags:[...a.tags],colors:a.colors.map((a=>new e(a))),opacity:a.opacity}}export{h as cloneScheme,u as getSchemeByName,s as getSchemes,d as getSchemesByTag,p as getThemes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.32/esri/copyright.txt for details.\n*/\nimport e from\"../../Color.js\";import{createUniqueColors as a}from\"../../core/colorUtils.js\";import r from\"../../core/Error.js\";import t from\"../../renderers/HeatmapRenderer.js\";import o from\"../../renderers/support/AuthoringInfo.js\";import s from\"../../renderers/support/HeatmapColorStop.js\";import{gaussianBlurRadiusPxToKernelDensityRadiusPt as i}from\"../../renderers/support/heatmapUtils.js\";import{verifyBasicFieldValidity as n,getBasemapInfo as m}from\"./support/utils.js\";import l from\"../statistics/heatmapStatistics.js\";import{getFieldsList as p}from\"../support/utils.js\";import{LayerType as u,createLayerAdapter as c,getLayerTypeLabels as f}from\"../support/adapters/support/layerUtils.js\";import{cloneScheme as d,getSchemes as h}from\"../symbology/heatmap.js\";const w=.01;async function y(e){if(!e?.layer||!e.view)throw new r(\"heatmap-renderer:missing-parameters\",\"'layer' and 'view' parameters are required\");const a={...e,layer:e.layer,view:e.view};a.radius??=null==a.blurRadius?18:i(a.blurRadius),a.minRatio??=.01,a.maxRatio??=1,a.fadeRatio??=.2,a.fadeToTransparent??=!0;const t=[u.CSVLayer,u.FeatureLayer,u.GeoJSONLayer,u.KnowledgeGraphSublayer,u.OGCFeatureLayer,u.OrientedImageryLayer,u.ParquetLayer,u.StreamLayer,u.WFSLayer],o=c(a.layer,t);if(!o)throw new r(\"heatmap-renderer:invalid-parameters\",\"'layer' must be one of these types: \"+f(t).join(\", \"));a.layer=o;const s=null!=a.signal?{signal:a.signal}:null;await o.load(s);const m=await p({field:a.field}),l=n(o,m,\"heatmap-renderer:invalid-parameters\");if(l)throw l;return a}async function b(e){let a=e.scheme,r=null,t=null;const o=await m(e.basemap,e.view);if(r=null!=o.basemapId?o.basemapId:null,t=null!=o.basemapTheme?o.basemapTheme:null,a)return{scheme:d(a),basemapId:r,basemapTheme:t};const s=h({basemapTheme:t});return s&&(a=s.primaryScheme,r=s.basemapId,t=s.basemapTheme),{scheme:a,basemapId:r,basemapTheme:t}}async function g(r,i){const{field:n,basemap:m,radius:l,fadeToTransparent:p,heatmapScheme:u,view:c}=i,{scheme:f,basemapId:h,basemapTheme:y}=await b({basemap:m,scheme:u,view:c}),g=f.colors,R=g.length,j=null==r.min,T=j?[0,.04]:[r.min,r.max];let v;const S=i.fadeRatio??0,L=i.maxRatio??0,x=i.minRatio??0,C=(L-x)/(R-1),U=g[0],E=p?x:w,F=[new s({ratio:0,color:new e([U.r,U.g,U.b,0])}),new s({ratio:w,color:new e([U.r,U.g,U.b,0])}),new s({ratio:E,color:new e([U.r,U.g,U.b,E])})];a(g,R).forEach(((e,a)=>{const r=x+C*a;F.push(new s({ratio:r,color:e}))})),p&&(I(F,S),v=new o({fadeRatio:S}));return{renderer:new t({authoringInfo:v,radius:l,colorStops:F,field:n,minDensity:T[0],maxDensity:T[1]}),statistics:r,defaultValuesUsed:j,scheme:d(f),basemapId:h,basemapTheme:y}}function I(e,a){const r=10*(1-a)+1,t=e.length-3,o=e[2].color.a;e.forEach(((e,s)=>{if(s<=2)return;const{color:i}=e,n=(s-3)/t;i.a=0===a?1:Math.min(Math.max(n*r+n+o,o),1)}))}async function R(e){const a=await y(e);return g(a.statistics??await l({layer:a.layer,field:a.field,radius:a.radius,view:a.view,filter:a.filter,signal:a.signal}),a)}function j(e){const{fadeRatio:a,renderer:r}=e,t=r.clone(),s=a??(t?.authoringInfo?.fadeRatio||0);return I(t.colorStops,s),t.authoringInfo?t.authoringInfo.fadeRatio=s:t.authoringInfo=new o({fadeRatio:s}),t}export{R as createRenderer,j as updateRenderer};\n"],"names":["m","constructor","s","name","t","label","a","description","p","schemes","this","o","basemapGroups","e","r","Object","keys","forEach","concat","supportedBasemaps","isBasemapSupported","includes","getRawSchemes","basemapId","basemapTheme","basemap","geometryType","i","default","schemesInfo","n","themeDictionary","Map","set","push","basemaps","primaryScheme","secondarySchemes","toLowerCase","length","c","some","tags","theme","async","layerAdapter","layer","view","u","CSVLayer","FeatureLayer","GeoJSONLayer","KnowledgeGraphSublayer","OGCFeatureLayer","OrientedImageryLayer","ParquetLayer","StreamLayer","WFSLayer","d","y","l","join","f","radius","blurRadius","signal","load","h","field","w","getField","L","g","heatmapStatistics","light","primary","secondary","dark","get","map","filter","includedTags","excludedTags","colors","id","opacity","stops","fadeToTransparent","heatmapScheme","scheme","b","R","j","min","T","max","v","S","fadeRatio","maxRatio","x","minRatio","C","U","E","F","ratio","color","I","renderer","authoringInfo","colorStops","minDensity","maxDensity","statistics","defaultValuesUsed","Math","clone"],"sourceRoot":""}