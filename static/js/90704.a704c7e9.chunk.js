"use strict";(self.webpackChunktestapp=self.webpackChunktestapp||[]).push([[76106,90704],{28383:(e,n,t)=>{t.d(n,{$r:()=>h,D9:()=>b,Jc:()=>x,Lc:()=>F,MH:()=>A,Wk:()=>T,a:()=>w,gV:()=>$,hw:()=>E,lX:()=>V,rb:()=>y,sf:()=>N});var l=t(50076),a=t(76931),i=t(18288),r=t(19247),o=t(13312),u=t(76279),s=t(80963),f=t(53430),c=t(4414),d=t(42633),m=t(72003),p=t(98976);let v=null;const g=/^(?<hh>([0-1][0-9])|([2][0-3])):(?<mm>[0-5][0-9])(:(?<ss>[0-5][0-9]))?([.](?<ms>\d+))?$/;function h(e,n,t,l){const a=(0,s.d9)(t)?(0,s.Vp)(t):null,i=a?Math.round((a.valid[1]-a.valid[0])/n.scale[0]):null;return e.map((e=>{const t=new r.default(e.geometry);return(0,u.Gy)(n,t,t),e.geometry=a?function(e,n,t){return e.x<0?e.x+=n:e.x>t&&(e.x-=n),e}(t,i??0,l[0]):t,e}))}function $(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,t=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const r=new Float64Array(l*i);n=Math.round((0,a.Lz)(n));let o=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY;const s=(0,c.YW)(t);for(const{geometry:a,attributes:f}of e){const{x:e,y:t}=a,d=Math.max(0,e-n),m=Math.max(0,t-n),p=Math.min(i,t+n),v=Math.min(l,e+n),g=+s(f);for(let a=m;a<p;a++)for(let i=d;i<v;i++){const s=a*l+i,f=(0,c.hv)(i-e,a-t,n)*g,d=r[s]+=f;o=Math.min(o,d),u=Math.max(u,d)}}return{min:o,max:u}}function y(e){const n=g.exec(e);if(!n)return null;const{hh:t,mm:l,ss:a,ms:r}=n.groups;return Number(t)*i.vf.hours+Number(l)*i.vf.minutes+Number(a)*i.vf.seconds+Number(r||0)}async function x(e,n){let t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!n)return[];const{field:l,field2:a,field3:i,fieldDelimiter:r,fieldInfos:u,timeZone:s}=e,c=l&&u?.find((e=>e.name.toLowerCase()===l.toLowerCase())),g=!!c&&(0,f.isTimeOnlyField)(c),h=!!c&&(0,d.fs)(c),$=e.valueExpression,x=e.normalizationType,F=e.normalizationField,V=e.normalizationTotal,w=[],E=e.viewInfoParams;let N=null,T=null;if($){if(!v){const{arcadeUtils:e}=await(0,p.lw)();v=e}v.hasGeometryOperations($)&&await v.enableGeometryOperations(),N=v.createFunction($),T=E?v.getViewInfo({viewingMode:E.viewingMode,scale:E.scale,spatialReference:new o.default(E.spatialReference)}):null}const A=e.fieldInfos,b=n[0]&&"declaredClass"in n[0]&&"esri.Graphic"===n[0].declaredClass||!A?null:{fields:A};return n.forEach((e=>{const n=e.attributes;let o;if($){const n=b?{...e,layer:b}:e,t=v.createExecContext(n,T,s);o=v.executeFunction(N,t)}else n&&(o=n[l],a?(o=`${(0,m.gJ)(o)}${r}${(0,m.gJ)(n[a])}`,i&&(o=`${o}${r}${(0,m.gJ)(n[i])}`)):"string"==typeof o&&t&&(h?o=o?new Date(o).getTime():null:g&&(o=o?y(o):null)));if(x&&"number"==typeof o&&isFinite(o)){const e=n&&parseFloat(n[F]);o=(0,m.zS)(o,x,e,V)}w.push(o)})),w}function F(e){const n=e.field,t=e.normalizationType,l=e.normalizationField;let a;return"field"===t?a="(NOT "+l+" = 0)":"log"!==t&&"natural-log"!==t&&"square-root"!==t||(a=`(${n} > 0)`),a}function V(e,n,t){const l=null!=n?e+" >= "+n:"",a=null!=t?e+" <= "+t:"";let i="";return i=l&&a?N(l,a):l||a,i?"("+i+")":""}function w(e,n,t,a){let i;return n?n.name!==e.objectIdField&&a.includes(n.type)||(i=new l.default(t,"'field' should be one of these types: "+a.join(","))):i=new l.default(t,"'field' is not defined in the layer schema"),i}function E(e,n,t){let a;return n?n.name!==e.objectIdField&&(0,f.isNumericField)(n)||(a=new l.default(t,"'field' should be one of these numeric types: "+f.numericTypes.join(","))):a=new l.default(t,"'field' is not defined in the layer schema"),a}function N(e,n){let t=null!=e?e:"";return null!=n&&n&&(t=t?"("+t+") AND ("+n+")":n),t}function T(e,n){if(e&&"intersects"!==e.spatialRelationship)return new l.default(n,"Only 'intersects' spatialRelationship is supported for featureFilter")}function A(e,n,t){const a=function(e){const n=e.layer;return e.fields.filter((e=>!n.getField(e)))}({layer:e,fields:n});if(a.length)return new l.default(t,"Unknown fields: "+a.join(", ")+". You can only use fields defined in the layer schema");const i=function(e){const n=e.layer;return e.fields.filter((e=>{const t=n.getFieldUsageInfo(e);return!t||!t.supportsStatistics}))}({layer:e,fields:n});return i.length?new l.default(t,"Unsupported fields: "+i.join(", ")+". You can only use fields that can be fetched i.e. AdapterFieldUsageInfo.supportsStatistics must be true"):void 0}function b(e,n,t){const l=[],a=[],i=[],r=[],o=[];e.forEach(((e,n)=>{const u=e.field?"field":"expression",s=e.field||e.valueExpression;e.field?(o.push(s),a.push(`var ${u}${n} = Number($feature["${s}"]);`)):(l.push(`function getValueForExpr${n}() {\n  ${s} \n}`),a.push(`var ${u}${n} = Number(getValueForExpr${n}());`)),t||i.push(`${u}${n} = IIf(${u}${n} < 0, 0, ${u}${n});`),r.push(`${u}${n}`)}));const u=l.length?null:o.reduce(((e,n)=>`${e} + ${n}`));let s=null;return n||t?n?t||u&&(s=`(( ${u} ) >= 0)`):u&&(s=`(( ${u} ) <> 0)`):u&&(s=`(( ${u} ) > 0)`),{valueExpression:[l.length?l.join("\n"):"",a.join("\n"),i.join("\n"),`var total = ${r.join(" + ")};`,"return total;"].filter(Boolean).join("\n\n"),sqlExpression:u,sqlWhere:s}}},76106:(e,n,t)=>{t.r(n),t.d(n,{fieldNamesFromFieldInfos:()=>p,getArcadeForOrderedFields:()=>$,getArcadeForPredominanceMargin:()=>v,getArcadeForPredominantCategory:()=>c,getArcadeForPredominantCategoryAlias:()=>m,getArcadeForPredominantCategoryValue:()=>d,getArcadeForStrengthOfPredominance:()=>h,getArcadeForSumOfFields:()=>g,getPredominanceExpressions:()=>u,getSQLForPredominantCategoryName:()=>r,noDominantCategoryField:()=>a});var l=t(42633);const a="no_dominant_category";function i(e){return`(${e.map((e=>`${e} >= 0`)).join(" OR ")})`}function r(e){return{expression:o(e,{returnFieldName:!0,defaultValue:`'${a}'`})}}function o(e,n){const{returnFieldName:t,defaultValue:a,layer:i}=n,r=[];if(t&&a){const n=e.map((e=>`${e} <= 0`)).join(" AND ");r.push(`WHEN ${n} THEN ${a}`)}for(const o of e){const n=e.reduce(((e,n)=>(o!==n&&e.push(`${o} > ${n}`),e)),[]).join(" AND "),a=i&&(0,l.R3)(i,o),u=t&&`'${o}'`?`'${o}'`:a?(0,l.Ll)(o):o;r.push(`WHEN ${n} THEN ${u}`)}return`CASE ${r.join(" ")} ELSE ${a||"0"} END`}function u(e,n){const t=n.join(" + "),l={sqlExpression:`(${t})`,sqlWhere:i(n)},a={sqlExpression:`(( (${o(n,{layer:e})}) / (${t}) ) * 100)`,sqlWhere:`${i(n)} AND ((${t}) > 0)`};return{predominantCategory:{valueExpression:c(n)},size:{valueExpression:g(n),statisticsQuery:l,histogramQuery:l},opacity:{valueExpression:h(n),statisticsQuery:a,histogramQuery:a}}}function s(e){return e&&e.map((e=>`$feature["${e}"];`)).join("\n")+"\n"||""}function f(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const t=e.map((e=>`"${e}"`));return`\n  var fieldNames = [ ${t.join(", ")} ];\n  var numFields = ${t.length};\n  var maxValueField = null;\n  var maxValue = -Infinity;\n  var value, i, totalValue = null;\n\n  for(i = 0; i < numFields; i++) {\n    value = $feature[fieldNames[i]];\n\n    if(value > 0) {\n      if(value > maxValue) {\n        maxValue = value;\n        maxValueField = fieldNames[i];\n      }\n      else if (value == maxValue) {\n        maxValueField = null;\n      }\n    }\n    ${n?"\n  if(value != null && value >= 0) {\n    if (totalValue == null) { totalValue = 0; }\n    totalValue = totalValue + value;\n  }\n  ":""}\n  }\n  `}function c(e){const n=f(e);return`\n  ${s(e)}\n  ${n}\n  return maxValueField;\n  `}function d(e){const n=f(e);return`\n  ${s(e)}\n  ${n}\n  return maxValue;\n  `}function m(e,n){const t=p(e),l=s(t),a=e.map((e=>e.label?`"${e.label}"`:`"${e.fieldName}"`)),i=t.map((e=>`Number($feature["${e}"])`)),r=[];return n&&n.forEach(((e,n)=>{r.push(`function getValueForExpr${n}() {\n  ${e.expression} \n}`),i.push(`Number(getValueForExpr${n}())`),a.push(`"${e.title||e.name}"`)})),`\n  ${l}\n\n  ${r.length?r.join("\n"):""}\n\n  var values = [ ${i.join(", ")} ];\n  var aliases = [ ${a.join(", ")} ];\n  var numValues = ${i.length};\n  var maxValueAlias = null;\n  var maxValue = -Infinity;\n  var value, i, totalValue = null;\n\n  for(i = 0; i < numValues; i++) {\n    value = values[i];\n\n    if(value > 0) {\n      if(value > maxValue) {\n        maxValue = value;\n        maxValueAlias = aliases[i];\n      }\n      else if (value == maxValue) {\n        maxValueAlias = "Tie";\n      }\n    }\n  }\n  return maxValueAlias;\n  `}function p(e){return e.filter((e=>{let{fieldName:n}=e;return!!n})).map((e=>e.fieldName))}function v(e){return`\n  ${s(e)}\n  var fieldValues = [ ${e.map((e=>`$feature["${e}"]`)).join(", ")} ];\n  var totalValue = Sum(fieldValues);\n  var order = Reverse(Sort(fieldValues));\n  return IIF(totalValue > 0, Round(((order[0] - order[1]) / totalValue) * 100, 2), null);\n  `}function g(e){const n=s(e),t=e.map((e=>`"${e}"`));return`\n  ${n}\n  var fieldNames = [ ${t.join(", ")} ];\n  var numFields = ${t.length};\n  var value, i, totalValue = null;\n\n  for(i = 0; i < numFields; i++) {\n    value = $feature[fieldNames[i]];\n\n    if(value != null && value >= 0) {\n      if (totalValue == null) { totalValue = 0; }\n      totalValue = totalValue + value;\n    }\n  }\n\n  return totalValue;\n  `}function h(e){const n=f(e,!0);return`\n  ${s(e)}\n  ${n}\n\n  var strength = null;\n\n  if (maxValueField != null && totalValue > 0) {\n    strength = (maxValue / totalValue) * 100;\n  }\n\n  return strength;\n  `}function $(e,n){const t=s(p(e)),l=e.map((e=>`{\n    value: Number($feature["${e.fieldName}"]),\n    alias: "${e.label||e.fieldName}"\n    }`)),a=[];return n&&n.forEach(((e,n)=>{a.push(`function getValueForExpr${n}() {\n  ${e.expression} \n}`),l.push(`{\n          value: Number(getValueForExpr${n}()),\n          alias: "${e.title||e.name}"\n          }`)})),`\n  ${t}\n\n  ${a.length?a.join("\n"):""}\n\n  var groups = [ ${l.join(", ")} ];\n  var numTopValues = Count(groups);\n\n  function getValuesArray(arr){\n    var valuesArray = []\n    for(var i in arr){\n      valuesArray[i] = arr[i].value;\n    }\n    return valuesArray;\n  }\n\n  function findAliases(top5Array, fullArray){\n    var aliases = [];\n    var found = "";\n    for(var i in top5Array){\n      for(var k in fullArray){\n        if(top5Array[i] == fullArray[k].value && Find(fullArray[k].alias, found) == -1){\n          found += fullArray[k].alias;\n          aliases[Count(aliases)] = {\n            alias: fullArray[k].alias,\n            value: top5Array[i]\n          };\n        }\n      }\n    }\n    return aliases;\n  }\n\n  function getTopGroups(groupsArray){\n    var values = getValuesArray(groupsArray);\n    var top5Values = IIF(Max(values) > 0, Top(Reverse(Sort(values)),numTopValues), "no data");\n    var top5Aliases = findAliases(top5Values,groupsArray);\n\n    if(TypeOf(top5Values) == "String"){\n      return top5Values;\n    } else {\n      var content = "";\n      for(var i in top5Aliases){\n        if(top5Aliases[i].value > 0){\n          content += (i+1) + ". " + top5Aliases[i].alias + " (" + Text(top5Aliases[i].value, "#,###") + ")";\n          content += IIF(i < numTopValues-1, TextFormatting.NewLine, "");\n        }\n      }\n    }\n\n    return content;\n  }\n\n  getTopGroups(groups);\n  `}},90704:(e,n,t)=>{t.d(n,{Co:()=>q,I$:()=>F,KY:()=>h,Qm:()=>y,Rm:()=>j,Zw:()=>T,aG:()=>A,aI:()=>M,a_:()=>x,iN:()=>L,iX:()=>w,o6:()=>S,qI:()=>R,sQ:()=>$,tM:()=>V,uw:()=>z,w1:()=>O,xK:()=>k});var l=t(18690),a=t(50346),i=t(92115),r=(t(81806),t(72599)),o=(t(44631),t(32173),t(50654),t(44135)),u=t(53430),s=t(21820),f=t(76106),c=t(28383),d=t(42633),m=t(72003);const p=/_value$/i,v=Math.LOG10E,g={SECOND:1e3,MINUTE:6e4,HOUR:36e5},h=10;function $(e){return e.map((e=>e.toJSON()))}function y(e,n){const t=[],l=e.layer,a="featureReduction"in l?l.featureReduction:null,i="binning"===a?.type,r=null!=a&&"fields"in a?a.fields?.map((e=>e.name?.toLowerCase())).filter(Boolean):[];if(!i||!n)return t;for(const o of n)r.includes(o.toLowerCase())||t.push(o);return t}function x(e,n,t){const l=[];if(n)for(const a of n){const n=e.getField(a);n&&t&&"availableFields"in t&&!t.availableFields?.includes(n.name)&&l.push(n.name)}return l}function F(e,n){const t=e&&e.features;if(0===t?.length)return{avg:null,count:0,max:null,median:null,min:null,nullcount:0,stddev:null,sum:null,variance:null};const l=t?.[0]?.attributes,a={};for(const i in l)a[i.replace(p,"").toLowerCase()]=l[i];return null!=a.totalcount&&a.totalcount>=a.count&&(a.nullcount=a.totalcount-a.count),delete a.totalcount,a.min===a.max&&null!=a.min&&null==a.stddev&&(a.stddev=a.variance=0),n&&(["min","max","avg","stddev","sum","variance"].forEach((e=>{null!=a[e]&&(a[e]=Math.ceil(a[e]))})),a.min===a.max&&null!=a.min&&(a.avg=a.min,a.stddev=a.variance=0)),a}function V(e){const n=[],t=e.classBreaks,l=t[0].minValue,a=t[t.length-1].maxValue;t.forEach((e=>{n.push([e.minValue,e.maxValue])}));const i={field:e.field,normalizationType:e.normalizationType,normalizationField:e.normalizationField,normalizationTotal:e.normalizationTotal,layer:e.layer};return{min:l,max:a,intervals:n,sqlExpr:w(i),excludeZerosExpr:e.where,normTotal:e.normalizationTotal}}function w(e){const{field:n,normalizationType:t,normalizationField:l,normalizationTotal:a,layer:i}=e,r=(0,d.R3)(i,n);let o=n;return"percent-of-total"===t?o=`((${r?(0,d.Ll)(n):n} / ${a}) * 100)`:"log"===t?o=`(log(${n}) * ${v})`:"field"===t?o=`(${r?(0,d.Ll)(n):n} / ${l})`:"natural-log"===t?o=`(log(${r?(0,d.Ll)(n):n}))`:"square-root"===t&&(o=`(power(${r?(0,d.Ll)(n):n}, 0.5))`),o}function E(e,n){let t;if(n=n.toLowerCase(),e)for(const l in e)if(l.toLowerCase()!==n){t=e[l];break}return t}function N(e,n){let t;if(n=n.toLowerCase(),e)for(const l in e)if(l.toLowerCase()===n){t=e[l];break}return t}function T(e,n,t,l,a){const i={},r="countOFExpr";e&&e.features&&e.features.forEach((e=>{const n=e.attributes,t=E(n,r),l=N(n,r);null!=t&&null!=l&&0!==t&&(i[t]=l)}));const o=[];return(0,m.OR)(n,t,l).forEach(((e,n)=>{const t=(n+1).toString();o.push({minValue:e[0],maxValue:e[1],count:i.hasOwnProperty(t)?i[t]:0})})),{bins:o,minValue:n,maxValue:t,normalizationTotal:a}}async function A(e,n){const t=e&&e.features,{field:l,field2:i,field3:r,fieldDelimiter:o,layer:u,view:s,signal:f,labels:c}=n,d=`countOF${l&&i?"Expr":l||"Expr"}`,p={};let v=!1;for(const a of t){const e=a.attributes,n=N(e,d);let t=l?N(e,l):E(e,d),u=i?N(e,i):null,s=r?N(e,r):null;null===t&&0===n&&(v=!0),(null==t||"string"==typeof t&&""===t.trim())&&(t=null),i&&(null==u||"string"==typeof u&&""===u.trim())&&(u=null),r&&(null==s||"string"==typeof s&&""===s.trim())&&(s=null);let f=t;i&&(f=`${(0,m.gJ)(f)}${o}${(0,m.gJ)(u)}`,r&&(f=`${f}${o}${(0,m.gJ)(s)}`)),null==p[f]?p[f]={count:n,data:f}:p[f].count=p[f].count+n}if(l&&v){const e=l+" is NULL";try{const n=await u.queryFeatureCount({whereClause:e,view:s,signal:f});return p.null.count=p.null.count+n,b(p,c)}catch{return(0,a.throwIfAborted)(f),b(p,c)}}return b(p,c)}function b(e,n){if(n)for(const t in e)e[t].label=n[t];return{count:e}}async function I(e,n,t){const l=e?t.getField(e):null,a=l?t.getFieldDomain(l.name):null;if(a)return a;const{uniqueValueInfos:o}=await t.uniqueValues({field:e,sqlWhere:n.sqlWhere,features:n.features,useFeaturesInView:n.useFeaturesInView,view:n.view,signal:n.signal}),u=o.map((e=>new i.H({code:e.value})));return new r.default({codedValues:u})}async function S(e,n){if(!e.returnAllCodedValues)return[];const{field:t,field2:l,field3:a}=e;if(t&&!l){const e=t?n.getField(t):null,l=e?n.getFieldDomain(e.name):null;return l?[l]:[]}const i=[];return t&&(i.push(I(t,e,n)),l&&(i.push(I(l,e,n)),a&&i.push(I(a,e,n)))),Promise.all(i)}function C(e){return e?(0,d.Ll)(["HOUR","MINUTE","SECOND"].map((n=>`(${function(e,n){return`EXTRACT(${n} FROM ${e}) * ${g[n]}`}(e,n)})`)).join(" + ")):null}function z(e){return{viewingMode:"2d"===e.type?"map":e.viewingMode,scale:e.scale,spatialReference:e.spatialReference?.toJSON()}}function O(e,n){const t=new Set(e.map((e=>e.value))),l=n.filter((e=>!t.has(e)));for(const a of l)e.push({value:a,count:0});e.sort(((e,t)=>n.indexOf(e.value)-n.indexOf(t.value)));for(const a of e)a.value===f.noDominantCategoryField&&(a.value=null);return{predominantCategoryInfos:e}}function j(e){const n="featureReduction"in e?e.featureReduction:null;return((null!=n&&"fields"in n?n.fields:null)??[]).map((n=>{const t=function(e,n){switch(e.statisticType){case"avg":case"avg_angle":return"double";case"count":return"integer";case"min":case"max":case"sum":return e.onStatisticField?n.get(e.onStatisticField)?.type??null:e.onStatisticExpression?"string"===e.onStatisticExpression.returnType?null:"double":null;case"mode":return e.onStatisticField?n.get(e.onStatisticField)?.type??null:e.onStatisticExpression?"string"===e.onStatisticExpression.returnType?"string":"double":null;default:return null}}(n,e.fieldsIndex);return t?new o.default({type:t,name:n.name,alias:n.alias}):null})).filter(l.Ru)}function L(e,n){return(0,d.fs)(n)?function(e,n){return(0,d.aM)(e,new Date(0),n,"milliseconds").sqlExpression}(e,n?.name):(0,u.isTimeOnlyField)(n)?C(n?.name):null}function R(e,n,t){const{field:l,normalizationType:a,normalizationField:i,normalizationTotal:r,minValue:o,maxValue:f,filter:d}=n,p=e.supportsSQLExpression?L(e,t)||n.sqlExpression:null,v=w({field:l,normalizationType:a,normalizationField:i,normalizationTotal:r,layer:e}),g=p||v,h=g?(0,c.lX)(g,o,f):null,$=(0,c.Lc)({field:l,normalizationField:i,normalizationType:a}),y=(0,c.sf)(n.sqlWhere,$),x=(0,c.sf)(y,h),F=(0,m.Vb)({normalizationField:i,normalizationType:a,sqlExpression:p,supportsSQLExpression:e.supportsSQLExpression,minValue:o,maxValue:f}),V=(0,u.isStringField)(e.getField(l??void 0)),{include:E,exclude:N}=n.outStatisticTypes||{},T=m.wy.filter((e=>(!E||E.includes(e))&&(!N||!N.includes(e))&&("nullcount"===e?F:!V||"count"===e))),A=e.createQuery();return A.where=(0,c.sf)(A.where,x),A.sqlFormat=p?"standard":null,A.outStatistics=T.map((n=>{const t=new s.default;let l=null,a=null,i=`${n}_value`;if("variance"===n)l="var",a=g;else if("nullcount"===n){const n=e.objectIdField;l="count",a=n&&e.getField(n)?n:"1",i="totalcount_value"}else"median"===n?(l="percentile-continuous",a=g,t.statisticParameters={value:.5}):(l=n,a=g);return t.statisticType=l,t.onStatisticField=a,t.outStatisticFieldName=i,t})),q(A,d),A}function q(e,n){n&&(e.geometry=n.geometry,e.spatialRelationship=n.spatialRelationship)}function M(e,n){const{field:t,field2:l,field3:a,sqlExpression:i}=n,r=!(!t||!l),o=e.createQuery();return o.where=(0,c.sf)(o.where,n.sqlWhere),o.sqlFormat=i?"standard":null,o.outStatistics=[D(r?null:t,r?"1":i)].filter(Boolean),o.groupByFieldsForStatistics=[t||i,l,a].filter(Boolean),q(o,n.filter),o}function D(e,n){const t="countOF"+(e||"Expr"),l=new s.default;return l.statisticType="count",l.onStatisticField=n?"1":e,l.outStatisticFieldName=t,l}function k(e,n,t){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h,a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,r=arguments.length>6?arguments[6]:void 0;const{min:o,max:u,normTotal:s,excludeZerosExpr:f}=n,d=n.intervals||(0,m.OR)(o,u,l),p=n.sqlExpr||t;return function(e,n,t,l,a,i,r){const o=[],u=n.length;for(let s=0;s<u;s++){const e=(0,c.sf)(l,(0,c.sf)(t+" >= "+n[s][0],null!==n[s][1]?t+(s===u-1?" <= ":" < ")+n[s][1]:""));o.push(e)}return Promise.allSettled(o.map((n=>e.queryFeatureCount({whereClause:n,view:a,filter:i,signal:r}))))}(e,d,p,f,a,i,r).then((e=>({bins:e.map(((e,n)=>({minValue:d[n][0],maxValue:d[n][1],count:"fulfilled"===e.status?e.value:0}))),minValue:o,maxValue:u,normalizationTotal:s})))}}}]);
//# sourceMappingURL=90704.a704c7e9.chunk.js.map